<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLTi9jKYd1gJzj5O2gWsEpXoyck2WCYPEMNySjZN0CHedj8BVioGm6c2vdOdYrh9gnzUzca_EZdD-BstAW5_wbQ_3rGVtsTkPsbDajuO5ueQw');.lst-kix_list_4-1>li{counter-increment:lst-ctn-kix_list_4-1}.lst-kix_list_2-1>li{counter-increment:lst-ctn-kix_list_2-1}ul.lst-kix_list_1-0{list-style-type:none}ol.lst-kix_list_9-0.start{counter-reset:lst-ctn-kix_list_9-0 0}.lst-kix_list_6-1>li{counter-increment:lst-ctn-kix_list_6-1}.lst-kix_list_8-1>li{counter-increment:lst-ctn-kix_list_8-1}ol.lst-kix_list_8-2.start{counter-reset:lst-ctn-kix_list_8-2 0}ol.lst-kix_list_3-1.start{counter-reset:lst-ctn-kix_list_3-1 0}ol.lst-kix_list_6-6.start{counter-reset:lst-ctn-kix_list_6-6 0}ol.lst-kix_list_7-4.start{counter-reset:lst-ctn-kix_list_7-4 0}.lst-kix_list_9-0>li{counter-increment:lst-ctn-kix_list_9-0}ol.lst-kix_list_2-3.start{counter-reset:lst-ctn-kix_list_2-3 0}ol.lst-kix_list_7-5{list-style-type:none}ol.lst-kix_list_7-6{list-style-type:none}ol.lst-kix_list_7-7{list-style-type:none}ol.lst-kix_list_7-8{list-style-type:none}ol.lst-kix_list_7-1{list-style-type:none}ol.lst-kix_list_1-5.start{counter-reset:lst-ctn-kix_list_1-5 0}ol.lst-kix_list_7-2{list-style-type:none}ol.lst-kix_list_7-3{list-style-type:none}ol.lst-kix_list_7-4{list-style-type:none}ol.lst-kix_list_9-6.start{counter-reset:lst-ctn-kix_list_9-6 0}ol.lst-kix_list_5-3.start{counter-reset:lst-ctn-kix_list_5-3 0}.lst-kix_list_2-3>li{counter-increment:lst-ctn-kix_list_2-3}.lst-kix_list_4-3>li{counter-increment:lst-ctn-kix_list_4-3}ol.lst-kix_list_4-5.start{counter-reset:lst-ctn-kix_list_4-5 0}.lst-kix_list_1-2>li{counter-increment:lst-ctn-kix_list_1-2}ol.lst-kix_list_3-7.start{counter-reset:lst-ctn-kix_list_3-7 0}.lst-kix_list_5-2>li{counter-increment:lst-ctn-kix_list_5-2}ol.lst-kix_list_8-8.start{counter-reset:lst-ctn-kix_list_8-8 0}.lst-kix_list_3-2>li{counter-increment:lst-ctn-kix_list_3-2}.lst-kix_list_7-2>li{counter-increment:lst-ctn-kix_list_7-2}.lst-kix_list_9-2>li{counter-increment:lst-ctn-kix_list_9-2}ol.lst-kix_list_8-7.start{counter-reset:lst-ctn-kix_list_8-7 0}.lst-kix_list_5-0>li:before{content:".  "}ol.lst-kix_list_6-1{list-style-type:none}.lst-kix_list_5-4>li{counter-increment:lst-ctn-kix_list_5-4}.lst-kix_list_1-4>li{counter-increment:lst-ctn-kix_list_1-4}ol.lst-kix_list_1-6.start{counter-reset:lst-ctn-kix_list_1-6 0}.lst-kix_list_5-3>li:before{content:"" counter(lst-ctn-kix_list_5-1,decimal) "." counter(lst-ctn-kix_list_5-2,decimal) "." counter(lst-ctn-kix_list_5-3,decimal) " "}ol.lst-kix_list_9-5.start{counter-reset:lst-ctn-kix_list_9-5 0}.lst-kix_list_5-2>li:before{content:"" counter(lst-ctn-kix_list_5-1,decimal) "." counter(lst-ctn-kix_list_5-2,decimal) " "}.lst-kix_list_8-3>li{counter-increment:lst-ctn-kix_list_8-3}.lst-kix_list_5-1>li:before{content:"" counter(lst-ctn-kix_list_5-1,decimal) " "}.lst-kix_list_5-7>li:before{content:"" counter(lst-ctn-kix_list_5-1,decimal) "." counter(lst-ctn-kix_list_5-2,decimal) "." counter(lst-ctn-kix_list_5-3,decimal) "." counter(lst-ctn-kix_list_5-4,decimal) "." counter(lst-ctn-kix_list_5-5,decimal) "." counter(lst-ctn-kix_list_5-6,decimal) "." counter(lst-ctn-kix_list_5-7,decimal) " "}.lst-kix_list_5-6>li:before{content:"" counter(lst-ctn-kix_list_5-1,decimal) "." counter(lst-ctn-kix_list_5-2,decimal) "." counter(lst-ctn-kix_list_5-3,decimal) "." counter(lst-ctn-kix_list_5-4,decimal) "." counter(lst-ctn-kix_list_5-5,decimal) "." counter(lst-ctn-kix_list_5-6,decimal) " "}.lst-kix_list_5-8>li:before{content:"" counter(lst-ctn-kix_list_5-1,decimal) "." counter(lst-ctn-kix_list_5-2,decimal) "." counter(lst-ctn-kix_list_5-3,decimal) "." counter(lst-ctn-kix_list_5-4,decimal) "." counter(lst-ctn-kix_list_5-5,decimal) "." counter(lst-ctn-kix_list_5-6,decimal) "." counter(lst-ctn-kix_list_5-7,decimal) "." counter(lst-ctn-kix_list_5-8,decimal) " "}.lst-kix_list_9-4>li{counter-increment:lst-ctn-kix_list_9-4}ol.lst-kix_list_6-6{list-style-type:none}ol.lst-kix_list_6-7{list-style-type:none}.lst-kix_list_5-4>li:before{content:"" counter(lst-ctn-kix_list_5-1,decimal) "." counter(lst-ctn-kix_list_5-2,decimal) "." counter(lst-ctn-kix_list_5-3,decimal) "." counter(lst-ctn-kix_list_5-4,decimal) " "}ol.lst-kix_list_6-8{list-style-type:none}.lst-kix_list_5-5>li:before{content:"" counter(lst-ctn-kix_list_5-1,decimal) "." counter(lst-ctn-kix_list_5-2,decimal) "." counter(lst-ctn-kix_list_5-3,decimal) "." counter(lst-ctn-kix_list_5-4,decimal) "." counter(lst-ctn-kix_list_5-5,decimal) " "}ol.lst-kix_list_6-2{list-style-type:none}ul.lst-kix_list_8-0{list-style-type:none}ol.lst-kix_list_6-3{list-style-type:none}ol.lst-kix_list_6-4{list-style-type:none}ol.lst-kix_list_6-5{list-style-type:none}.lst-kix_list_6-1>li:before{content:"" counter(lst-ctn-kix_list_6-1,decimal) " "}.lst-kix_list_6-3>li:before{content:"" counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) " "}.lst-kix_list_6-5>li{counter-increment:lst-ctn-kix_list_6-5}.lst-kix_list_6-8>li{counter-increment:lst-ctn-kix_list_6-8}.lst-kix_list_6-0>li:before{content:".  "}.lst-kix_list_6-4>li:before{content:"" counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) " "}.lst-kix_list_3-6>li{counter-increment:lst-ctn-kix_list_3-6}li.li-bullet-2:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_6-2>li:before{content:"" counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) " "}.lst-kix_list_2-5>li{counter-increment:lst-ctn-kix_list_2-5}.lst-kix_list_2-8>li{counter-increment:lst-ctn-kix_list_2-8}ol.lst-kix_list_3-2.start{counter-reset:lst-ctn-kix_list_3-2 0}.lst-kix_list_6-8>li:before{content:"" counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) "." counter(lst-ctn-kix_list_6-5,decimal) "." counter(lst-ctn-kix_list_6-6,decimal) "." counter(lst-ctn-kix_list_6-7,decimal) "." counter(lst-ctn-kix_list_6-8,decimal) " "}.lst-kix_list_6-5>li:before{content:"" counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) "." counter(lst-ctn-kix_list_6-5,decimal) " "}.lst-kix_list_6-7>li:before{content:"" counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) "." counter(lst-ctn-kix_list_6-5,decimal) "." counter(lst-ctn-kix_list_6-6,decimal) "." counter(lst-ctn-kix_list_6-7,decimal) " "}ol.lst-kix_list_2-4.start{counter-reset:lst-ctn-kix_list_2-4 0}.lst-kix_list_6-6>li:before{content:"" counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) "." counter(lst-ctn-kix_list_6-5,decimal) "." counter(lst-ctn-kix_list_6-6,decimal) " "}ol.lst-kix_list_1-3{list-style-type:none}ol.lst-kix_list_1-4{list-style-type:none}.lst-kix_list_2-7>li:before{content:"" counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) "." counter(lst-ctn-kix_list_2-5,decimal) "." counter(lst-ctn-kix_list_2-6,decimal) "." counter(lst-ctn-kix_list_2-7,decimal) " "}.lst-kix_list_2-7>li{counter-increment:lst-ctn-kix_list_2-7}ol.lst-kix_list_1-5{list-style-type:none}.lst-kix_list_7-4>li:before{content:"" counter(lst-ctn-kix_list_7-1,decimal) "." counter(lst-ctn-kix_list_7-2,decimal) "." counter(lst-ctn-kix_list_7-3,decimal) "." counter(lst-ctn-kix_list_7-4,decimal) " "}.lst-kix_list_7-6>li:before{content:"" counter(lst-ctn-kix_list_7-1,decimal) "." counter(lst-ctn-kix_list_7-2,decimal) "." counter(lst-ctn-kix_list_7-3,decimal) "." counter(lst-ctn-kix_list_7-4,decimal) "." counter(lst-ctn-kix_list_7-5,decimal) "." counter(lst-ctn-kix_list_7-6,decimal) " "}ol.lst-kix_list_1-6{list-style-type:none}.lst-kix_list_2-5>li:before{content:"" counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) "." counter(lst-ctn-kix_list_2-5,decimal) " "}ol.lst-kix_list_6-2.start{counter-reset:lst-ctn-kix_list_6-2 0}ol.lst-kix_list_1-1{list-style-type:none}ol.lst-kix_list_1-2{list-style-type:none}.lst-kix_list_7-2>li:before{content:"" counter(lst-ctn-kix_list_7-1,decimal) "." counter(lst-ctn-kix_list_7-2,decimal) " "}.lst-kix_list_7-6>li{counter-increment:lst-ctn-kix_list_7-6}.lst-kix_list_8-6>li{counter-increment:lst-ctn-kix_list_8-6}ol.lst-kix_list_9-4.start{counter-reset:lst-ctn-kix_list_9-4 0}ol.lst-kix_list_4-6.start{counter-reset:lst-ctn-kix_list_4-6 0}ol.lst-kix_list_9-7{list-style-type:none}ol.lst-kix_list_9-8{list-style-type:none}ol.lst-kix_list_9-3{list-style-type:none}ol.lst-kix_list_9-4{list-style-type:none}.lst-kix_list_5-7>li{counter-increment:lst-ctn-kix_list_5-7}.lst-kix_list_7-7>li{counter-increment:lst-ctn-kix_list_7-7}ol.lst-kix_list_9-5{list-style-type:none}.lst-kix_list_7-8>li:before{content:"" counter(lst-ctn-kix_list_7-1,decimal) "." counter(lst-ctn-kix_list_7-2,decimal) "." counter(lst-ctn-kix_list_7-3,decimal) "." counter(lst-ctn-kix_list_7-4,decimal) "." counter(lst-ctn-kix_list_7-5,decimal) "." counter(lst-ctn-kix_list_7-6,decimal) "." counter(lst-ctn-kix_list_7-7,decimal) "." counter(lst-ctn-kix_list_7-8,decimal) " "}ol.lst-kix_list_9-6{list-style-type:none}ul.lst-kix_list_3-0{list-style-type:none}ol.lst-kix_list_4-3.start{counter-reset:lst-ctn-kix_list_4-3 0}ol.lst-kix_list_1-7{list-style-type:none}.lst-kix_list_4-7>li{counter-increment:lst-ctn-kix_list_4-7}ol.lst-kix_list_9-0{list-style-type:none}ol.lst-kix_list_1-8{list-style-type:none}ol.lst-kix_list_9-1{list-style-type:none}ol.lst-kix_list_9-2{list-style-type:none}.lst-kix_list_7-8>li{counter-increment:lst-ctn-kix_list_7-8}ol.lst-kix_list_2-5.start{counter-reset:lst-ctn-kix_list_2-5 0}.lst-kix_list_9-8>li{counter-increment:lst-ctn-kix_list_9-8}li.li-bullet-1:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_2-6>li{counter-increment:lst-ctn-kix_list_2-6}.lst-kix_list_4-1>li:before{content:"" counter(lst-ctn-kix_list_4-1,decimal) " "}ol.lst-kix_list_7-3.start{counter-reset:lst-ctn-kix_list_7-3 0}.lst-kix_list_9-2>li:before{content:"" counter(lst-ctn-kix_list_9-2,decimal) ". "}.lst-kix_list_4-3>li:before{content:"" counter(lst-ctn-kix_list_4-1,decimal) "." counter(lst-ctn-kix_list_4-2,decimal) "." counter(lst-ctn-kix_list_4-3,decimal) " "}.lst-kix_list_4-5>li:before{content:"" counter(lst-ctn-kix_list_4-1,decimal) "." counter(lst-ctn-kix_list_4-2,decimal) "." counter(lst-ctn-kix_list_4-3,decimal) "." counter(lst-ctn-kix_list_4-4,decimal) "." counter(lst-ctn-kix_list_4-5,decimal) " "}ol.lst-kix_list_5-7.start{counter-reset:lst-ctn-kix_list_5-7 0}.lst-kix_list_1-8>li{counter-increment:lst-ctn-kix_list_1-8}ol.lst-kix_list_1-4.start{counter-reset:lst-ctn-kix_list_1-4 0}.lst-kix_list_5-5>li{counter-increment:lst-ctn-kix_list_5-5}.lst-kix_list_3-5>li{counter-increment:lst-ctn-kix_list_3-5}ol.lst-kix_list_1-1.start{counter-reset:lst-ctn-kix_list_1-1 0}.lst-kix_list_9-0>li:before{content:"" counter(lst-ctn-kix_list_9-0,decimal) ". "}.lst-kix_list_3-4>li{counter-increment:lst-ctn-kix_list_3-4}ol.lst-kix_list_4-4.start{counter-reset:lst-ctn-kix_list_4-4 0}.lst-kix_list_6-4>li{counter-increment:lst-ctn-kix_list_6-4}ol.lst-kix_list_9-2.start{counter-reset:lst-ctn-kix_list_9-2 0}.lst-kix_list_9-6>li:before{content:"" counter(lst-ctn-kix_list_9-6,decimal) ". "}.lst-kix_list_9-3>li{counter-increment:lst-ctn-kix_list_9-3}.lst-kix_list_9-4>li:before{content:"" counter(lst-ctn-kix_list_9-4,decimal) ". "}.lst-kix_list_6-3>li{counter-increment:lst-ctn-kix_list_6-3}ol.lst-kix_list_1-3.start{counter-reset:lst-ctn-kix_list_1-3 0}ol.lst-kix_list_2-8.start{counter-reset:lst-ctn-kix_list_2-8 0}ol.lst-kix_list_8-8{list-style-type:none}ol.lst-kix_list_1-2.start{counter-reset:lst-ctn-kix_list_1-2 0}ol.lst-kix_list_7-6.start{counter-reset:lst-ctn-kix_list_7-6 0}ol.lst-kix_list_6-1.start{counter-reset:lst-ctn-kix_list_6-1 0}ol.lst-kix_list_8-4{list-style-type:none}ol.lst-kix_list_8-5{list-style-type:none}ol.lst-kix_list_8-6{list-style-type:none}ul.lst-kix_list_2-0{list-style-type:none}ol.lst-kix_list_8-7{list-style-type:none}.lst-kix_list_9-8>li:before{content:"" counter(lst-ctn-kix_list_9-8,decimal) ". "}ol.lst-kix_list_8-1{list-style-type:none}.lst-kix_list_1-1>li:before{content:"" counter(lst-ctn-kix_list_1-1,decimal) " "}ol.lst-kix_list_8-2{list-style-type:none}ol.lst-kix_list_8-3{list-style-type:none}.lst-kix_list_8-5>li{counter-increment:lst-ctn-kix_list_8-5}.lst-kix_list_1-3>li:before{content:"" counter(lst-ctn-kix_list_1-1,decimal) "." counter(lst-ctn-kix_list_1-2,decimal) "." counter(lst-ctn-kix_list_1-3,decimal) " "}.lst-kix_list_4-8>li{counter-increment:lst-ctn-kix_list_4-8}.lst-kix_list_1-7>li:before{content:"" counter(lst-ctn-kix_list_1-1,decimal) "." counter(lst-ctn-kix_list_1-2,decimal) "." counter(lst-ctn-kix_list_1-3,decimal) "." counter(lst-ctn-kix_list_1-4,decimal) "." counter(lst-ctn-kix_list_1-5,decimal) "." counter(lst-ctn-kix_list_1-6,decimal) "." counter(lst-ctn-kix_list_1-7,decimal) " "}ol.lst-kix_list_5-8.start{counter-reset:lst-ctn-kix_list_5-8 0}ol.lst-kix_list_2-7.start{counter-reset:lst-ctn-kix_list_2-7 0}.lst-kix_list_1-3>li{counter-increment:lst-ctn-kix_list_1-3}.lst-kix_list_1-5>li:before{content:"" counter(lst-ctn-kix_list_1-1,decimal) "." counter(lst-ctn-kix_list_1-2,decimal) "." counter(lst-ctn-kix_list_1-3,decimal) "." counter(lst-ctn-kix_list_1-4,decimal) "." counter(lst-ctn-kix_list_1-5,decimal) " "}ol.lst-kix_list_9-1.start{counter-reset:lst-ctn-kix_list_9-1 0}.lst-kix_list_5-6>li{counter-increment:lst-ctn-kix_list_5-6}ol.lst-kix_list_7-5.start{counter-reset:lst-ctn-kix_list_7-5 0}.lst-kix_list_2-1>li:before{content:"" counter(lst-ctn-kix_list_2-1,decimal) " "}.lst-kix_list_2-3>li:before{content:"" counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) " "}.lst-kix_list_4-2>li{counter-increment:lst-ctn-kix_list_4-2}ol.lst-kix_list_3-1{list-style-type:none}ol.lst-kix_list_3-2{list-style-type:none}.lst-kix_list_3-1>li{counter-increment:lst-ctn-kix_list_3-1}ol.lst-kix_list_3-3{list-style-type:none}ol.lst-kix_list_3-4.start{counter-reset:lst-ctn-kix_list_3-4 0}.lst-kix_list_5-1>li{counter-increment:lst-ctn-kix_list_5-1}ol.lst-kix_list_3-4{list-style-type:none}.lst-kix_list_1-1>li{counter-increment:lst-ctn-kix_list_1-1}.lst-kix_list_7-1>li{counter-increment:lst-ctn-kix_list_7-1}.lst-kix_list_9-1>li{counter-increment:lst-ctn-kix_list_9-1}ol.lst-kix_list_2-6.start{counter-reset:lst-ctn-kix_list_2-6 0}.lst-kix_list_3-0>li:before{content:".  "}ol.lst-kix_list_7-7.start{counter-reset:lst-ctn-kix_list_7-7 0}.lst-kix_list_3-1>li:before{content:"" counter(lst-ctn-kix_list_3-1,decimal) " "}.lst-kix_list_3-2>li:before{content:"" counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) " "}.lst-kix_list_8-1>li:before{content:"" counter(lst-ctn-kix_list_8-1,decimal) " "}ol.lst-kix_list_1-8.start{counter-reset:lst-ctn-kix_list_1-8 0}.lst-kix_list_8-2>li:before{content:"" counter(lst-ctn-kix_list_8-1,decimal) "." counter(lst-ctn-kix_list_8-2,decimal) " "}.lst-kix_list_3-5>li:before{content:"" counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) "." counter(lst-ctn-kix_list_3-5,decimal) " "}ul.lst-kix_list_5-0{list-style-type:none}.lst-kix_list_3-4>li:before{content:"" counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) " "}.lst-kix_list_3-3>li:before{content:"" counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) " "}ol.lst-kix_list_3-5{list-style-type:none}ol.lst-kix_list_3-6{list-style-type:none}.lst-kix_list_8-0>li:before{content:".  "}ol.lst-kix_list_3-7{list-style-type:none}ol.lst-kix_list_3-8{list-style-type:none}.lst-kix_list_8-7>li:before{content:"" counter(lst-ctn-kix_list_8-1,decimal) "." counter(lst-ctn-kix_list_8-2,decimal) "." counter(lst-ctn-kix_list_8-3,decimal) "." counter(lst-ctn-kix_list_8-4,decimal) "." counter(lst-ctn-kix_list_8-5,decimal) "." counter(lst-ctn-kix_list_8-6,decimal) "." counter(lst-ctn-kix_list_8-7,decimal) " "}.lst-kix_list_3-8>li:before{content:"" counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) "." counter(lst-ctn-kix_list_3-5,decimal) "." counter(lst-ctn-kix_list_3-6,decimal) "." counter(lst-ctn-kix_list_3-7,decimal) "." counter(lst-ctn-kix_list_3-8,decimal) " "}.lst-kix_list_8-5>li:before{content:"" counter(lst-ctn-kix_list_8-1,decimal) "." counter(lst-ctn-kix_list_8-2,decimal) "." counter(lst-ctn-kix_list_8-3,decimal) "." counter(lst-ctn-kix_list_8-4,decimal) "." counter(lst-ctn-kix_list_8-5,decimal) " "}.lst-kix_list_8-6>li:before{content:"" counter(lst-ctn-kix_list_8-1,decimal) "." counter(lst-ctn-kix_list_8-2,decimal) "." counter(lst-ctn-kix_list_8-3,decimal) "." counter(lst-ctn-kix_list_8-4,decimal) "." counter(lst-ctn-kix_list_8-5,decimal) "." counter(lst-ctn-kix_list_8-6,decimal) " "}.lst-kix_list_8-3>li:before{content:"" counter(lst-ctn-kix_list_8-1,decimal) "." counter(lst-ctn-kix_list_8-2,decimal) "." counter(lst-ctn-kix_list_8-3,decimal) " "}.lst-kix_list_3-6>li:before{content:"" counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) "." counter(lst-ctn-kix_list_3-5,decimal) "." counter(lst-ctn-kix_list_3-6,decimal) " "}.lst-kix_list_3-7>li:before{content:"" counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) "." counter(lst-ctn-kix_list_3-5,decimal) "." counter(lst-ctn-kix_list_3-6,decimal) "." counter(lst-ctn-kix_list_3-7,decimal) " "}.lst-kix_list_8-4>li:before{content:"" counter(lst-ctn-kix_list_8-1,decimal) "." counter(lst-ctn-kix_list_8-2,decimal) "." counter(lst-ctn-kix_list_8-3,decimal) "." counter(lst-ctn-kix_list_8-4,decimal) " "}ol.lst-kix_list_8-5.start{counter-reset:lst-ctn-kix_list_8-5 0}ol.lst-kix_list_4-2.start{counter-reset:lst-ctn-kix_list_4-2 0}ol.lst-kix_list_9-3.start{counter-reset:lst-ctn-kix_list_9-3 0}.lst-kix_list_8-8>li:before{content:"" counter(lst-ctn-kix_list_8-1,decimal) "." counter(lst-ctn-kix_list_8-2,decimal) "." counter(lst-ctn-kix_list_8-3,decimal) "." counter(lst-ctn-kix_list_8-4,decimal) "." counter(lst-ctn-kix_list_8-5,decimal) "." counter(lst-ctn-kix_list_8-6,decimal) "." counter(lst-ctn-kix_list_8-7,decimal) "." counter(lst-ctn-kix_list_8-8,decimal) " "}ol.lst-kix_list_2-2{list-style-type:none}ol.lst-kix_list_2-3{list-style-type:none}ol.lst-kix_list_2-4{list-style-type:none}ol.lst-kix_list_7-2.start{counter-reset:lst-ctn-kix_list_7-2 0}ol.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_4-4>li{counter-increment:lst-ctn-kix_list_4-4}ol.lst-kix_list_2-1{list-style-type:none}.lst-kix_list_4-8>li:before{content:"" counter(lst-ctn-kix_list_4-1,decimal) "." counter(lst-ctn-kix_list_4-2,decimal) "." counter(lst-ctn-kix_list_4-3,decimal) "." counter(lst-ctn-kix_list_4-4,decimal) "." counter(lst-ctn-kix_list_4-5,decimal) "." counter(lst-ctn-kix_list_4-6,decimal) "." counter(lst-ctn-kix_list_4-7,decimal) "." counter(lst-ctn-kix_list_4-8,decimal) " "}ol.lst-kix_list_6-4.start{counter-reset:lst-ctn-kix_list_6-4 0}.lst-kix_list_4-7>li:before{content:"" counter(lst-ctn-kix_list_4-1,decimal) "." counter(lst-ctn-kix_list_4-2,decimal) "." counter(lst-ctn-kix_list_4-3,decimal) "." counter(lst-ctn-kix_list_4-4,decimal) "." counter(lst-ctn-kix_list_4-5,decimal) "." counter(lst-ctn-kix_list_4-6,decimal) "." counter(lst-ctn-kix_list_4-7,decimal) " "}ol.lst-kix_list_5-6.start{counter-reset:lst-ctn-kix_list_5-6 0}ol.lst-kix_list_4-1.start{counter-reset:lst-ctn-kix_list_4-1 0}.lst-kix_list_7-3>li{counter-increment:lst-ctn-kix_list_7-3}ol.lst-kix_list_4-8.start{counter-reset:lst-ctn-kix_list_4-8 0}.lst-kix_list_8-4>li{counter-increment:lst-ctn-kix_list_8-4}ul.lst-kix_list_4-0{list-style-type:none}ol.lst-kix_list_3-3.start{counter-reset:lst-ctn-kix_list_3-3 0}ol.lst-kix_list_2-6{list-style-type:none}ol.lst-kix_list_2-7{list-style-type:none}ol.lst-kix_list_2-8{list-style-type:none}ol.lst-kix_list_7-8.start{counter-reset:lst-ctn-kix_list_7-8 0}ol.lst-kix_list_7-1.start{counter-reset:lst-ctn-kix_list_7-1 0}ol.lst-kix_list_8-6.start{counter-reset:lst-ctn-kix_list_8-6 0}.lst-kix_list_3-3>li{counter-increment:lst-ctn-kix_list_3-3}ol.lst-kix_list_6-3.start{counter-reset:lst-ctn-kix_list_6-3 0}ol.lst-kix_list_5-5.start{counter-reset:lst-ctn-kix_list_5-5 0}.lst-kix_list_7-0>li:before{content:".  "}.lst-kix_list_2-2>li{counter-increment:lst-ctn-kix_list_2-2}ol.lst-kix_list_4-7.start{counter-reset:lst-ctn-kix_list_4-7 0}.lst-kix_list_6-2>li{counter-increment:lst-ctn-kix_list_6-2}.lst-kix_list_2-6>li:before{content:"" counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) "." counter(lst-ctn-kix_list_2-5,decimal) "." counter(lst-ctn-kix_list_2-6,decimal) " "}.lst-kix_list_3-7>li{counter-increment:lst-ctn-kix_list_3-7}ol.lst-kix_list_5-1{list-style-type:none}ol.lst-kix_list_9-7.start{counter-reset:lst-ctn-kix_list_9-7 0}ol.lst-kix_list_5-2{list-style-type:none}.lst-kix_list_2-4>li:before{content:"" counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) " "}.lst-kix_list_2-8>li:before{content:"" counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) "." counter(lst-ctn-kix_list_2-5,decimal) "." counter(lst-ctn-kix_list_2-6,decimal) "." counter(lst-ctn-kix_list_2-7,decimal) "." counter(lst-ctn-kix_list_2-8,decimal) " "}.lst-kix_list_7-1>li:before{content:"" counter(lst-ctn-kix_list_7-1,decimal) " "}.lst-kix_list_7-5>li:before{content:"" counter(lst-ctn-kix_list_7-1,decimal) "." counter(lst-ctn-kix_list_7-2,decimal) "." counter(lst-ctn-kix_list_7-3,decimal) "." counter(lst-ctn-kix_list_7-4,decimal) "." counter(lst-ctn-kix_list_7-5,decimal) " "}.lst-kix_list_9-6>li{counter-increment:lst-ctn-kix_list_9-6}.lst-kix_list_6-6>li{counter-increment:lst-ctn-kix_list_6-6}ol.lst-kix_list_5-4.start{counter-reset:lst-ctn-kix_list_5-4 0}.lst-kix_list_7-3>li:before{content:"" counter(lst-ctn-kix_list_7-1,decimal) "." counter(lst-ctn-kix_list_7-2,decimal) "." counter(lst-ctn-kix_list_7-3,decimal) " "}.lst-kix_list_9-7>li{counter-increment:lst-ctn-kix_list_9-7}ol.lst-kix_list_5-1.start{counter-reset:lst-ctn-kix_list_5-1 0}ol.lst-kix_list_5-7{list-style-type:none}.lst-kix_list_6-7>li{counter-increment:lst-ctn-kix_list_6-7}ol.lst-kix_list_5-8{list-style-type:none}ol.lst-kix_list_5-3{list-style-type:none}.lst-kix_list_8-7>li{counter-increment:lst-ctn-kix_list_8-7}ol.lst-kix_list_5-4{list-style-type:none}.lst-kix_list_1-7>li{counter-increment:lst-ctn-kix_list_1-7}ol.lst-kix_list_3-8.start{counter-reset:lst-ctn-kix_list_3-8 0}ol.lst-kix_list_5-5{list-style-type:none}ol.lst-kix_list_5-6{list-style-type:none}ul.lst-kix_list_7-0{list-style-type:none}.lst-kix_list_7-7>li:before{content:"" counter(lst-ctn-kix_list_7-1,decimal) "." counter(lst-ctn-kix_list_7-2,decimal) "." counter(lst-ctn-kix_list_7-3,decimal) "." counter(lst-ctn-kix_list_7-4,decimal) "." counter(lst-ctn-kix_list_7-5,decimal) "." counter(lst-ctn-kix_list_7-6,decimal) "." counter(lst-ctn-kix_list_7-7,decimal) " "}ol.lst-kix_list_8-1.start{counter-reset:lst-ctn-kix_list_8-1 0}.lst-kix_list_7-5>li{counter-increment:lst-ctn-kix_list_7-5}.lst-kix_list_9-5>li{counter-increment:lst-ctn-kix_list_9-5}.lst-kix_list_5-8>li{counter-increment:lst-ctn-kix_list_5-8}.lst-kix_list_4-0>li:before{content:".  "}.lst-kix_list_3-8>li{counter-increment:lst-ctn-kix_list_3-8}ol.lst-kix_list_6-8.start{counter-reset:lst-ctn-kix_list_6-8 0}.lst-kix_list_4-6>li{counter-increment:lst-ctn-kix_list_4-6}ol.lst-kix_list_1-7.start{counter-reset:lst-ctn-kix_list_1-7 0}.lst-kix_list_4-4>li:before{content:"" counter(lst-ctn-kix_list_4-1,decimal) "." counter(lst-ctn-kix_list_4-2,decimal) "." counter(lst-ctn-kix_list_4-3,decimal) "." counter(lst-ctn-kix_list_4-4,decimal) " "}ol.lst-kix_list_2-2.start{counter-reset:lst-ctn-kix_list_2-2 0}.lst-kix_list_1-5>li{counter-increment:lst-ctn-kix_list_1-5}ol.lst-kix_list_6-5.start{counter-reset:lst-ctn-kix_list_6-5 0}.lst-kix_list_4-2>li:before{content:"" counter(lst-ctn-kix_list_4-1,decimal) "." counter(lst-ctn-kix_list_4-2,decimal) " "}.lst-kix_list_4-6>li:before{content:"" counter(lst-ctn-kix_list_4-1,decimal) "." counter(lst-ctn-kix_list_4-2,decimal) "." counter(lst-ctn-kix_list_4-3,decimal) "." counter(lst-ctn-kix_list_4-4,decimal) "." counter(lst-ctn-kix_list_4-5,decimal) "." counter(lst-ctn-kix_list_4-6,decimal) " "}.lst-kix_list_9-3>li:before{content:"" counter(lst-ctn-kix_list_9-3,decimal) ". "}.lst-kix_list_9-1>li:before{content:"" counter(lst-ctn-kix_list_9-1,lower-latin) ". "}ol.lst-kix_list_4-1{list-style-type:none}ol.lst-kix_list_4-2{list-style-type:none}ol.lst-kix_list_4-3{list-style-type:none}.lst-kix_list_9-7>li:before{content:"" counter(lst-ctn-kix_list_9-7,decimal) ". "}.lst-kix_list_2-4>li{counter-increment:lst-ctn-kix_list_2-4}ol.lst-kix_list_6-7.start{counter-reset:lst-ctn-kix_list_6-7 0}ol.lst-kix_list_3-6.start{counter-reset:lst-ctn-kix_list_3-6 0}.lst-kix_list_9-5>li:before{content:"" counter(lst-ctn-kix_list_9-5,decimal) ". "}.lst-kix_list_5-3>li{counter-increment:lst-ctn-kix_list_5-3}ol.lst-kix_list_4-8{list-style-type:none}.lst-kix_list_7-4>li{counter-increment:lst-ctn-kix_list_7-4}.lst-kix_list_1-0>li:before{content:".  "}ol.lst-kix_list_4-4{list-style-type:none}ol.lst-kix_list_4-5{list-style-type:none}.lst-kix_list_1-2>li:before{content:"" counter(lst-ctn-kix_list_1-1,decimal) "." counter(lst-ctn-kix_list_1-2,decimal) " "}ol.lst-kix_list_4-6{list-style-type:none}ul.lst-kix_list_6-0{list-style-type:none}ol.lst-kix_list_4-7{list-style-type:none}ol.lst-kix_list_8-4.start{counter-reset:lst-ctn-kix_list_8-4 0}.lst-kix_list_1-4>li:before{content:"" counter(lst-ctn-kix_list_1-1,decimal) "." counter(lst-ctn-kix_list_1-2,decimal) "." counter(lst-ctn-kix_list_1-3,decimal) "." counter(lst-ctn-kix_list_1-4,decimal) " "}ol.lst-kix_list_3-5.start{counter-reset:lst-ctn-kix_list_3-5 0}.lst-kix_list_8-8>li{counter-increment:lst-ctn-kix_list_8-8}.lst-kix_list_1-6>li{counter-increment:lst-ctn-kix_list_1-6}.lst-kix_list_1-6>li:before{content:"" counter(lst-ctn-kix_list_1-1,decimal) "." counter(lst-ctn-kix_list_1-2,decimal) "." counter(lst-ctn-kix_list_1-3,decimal) "." counter(lst-ctn-kix_list_1-4,decimal) "." counter(lst-ctn-kix_list_1-5,decimal) "." counter(lst-ctn-kix_list_1-6,decimal) " "}li.li-bullet-0:before{margin-left:-36pt;white-space:nowrap;display:inline-block;min-width:36pt}.lst-kix_list_2-0>li:before{content:".  "}ol.lst-kix_list_2-1.start{counter-reset:lst-ctn-kix_list_2-1 0}ol.lst-kix_list_8-3.start{counter-reset:lst-ctn-kix_list_8-3 0}.lst-kix_list_4-5>li{counter-increment:lst-ctn-kix_list_4-5}ol.lst-kix_list_9-8.start{counter-reset:lst-ctn-kix_list_9-8 0}.lst-kix_list_1-8>li:before{content:"" counter(lst-ctn-kix_list_1-1,decimal) "." counter(lst-ctn-kix_list_1-2,decimal) "." counter(lst-ctn-kix_list_1-3,decimal) "." counter(lst-ctn-kix_list_1-4,decimal) "." counter(lst-ctn-kix_list_1-5,decimal) "." counter(lst-ctn-kix_list_1-6,decimal) "." counter(lst-ctn-kix_list_1-7,decimal) "." counter(lst-ctn-kix_list_1-8,decimal) " "}.lst-kix_list_2-2>li:before{content:"" counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) " "}ol.lst-kix_list_5-2.start{counter-reset:lst-ctn-kix_list_5-2 0}.lst-kix_list_8-2>li{counter-increment:lst-ctn-kix_list_8-2}ol{margin:0;padding:0}table td,table th{padding:0}.c54{border-right-style:solid;padding-top:12pt;border-top-width:0.8pt;border-bottom-color:#eaecf0;border-right-width:0.8pt;padding-left:12pt;border-left-color:#eaecf0;padding-bottom:12pt;line-height:1.0791666666666666;border-right-color:#eaecf0;border-left-width:0.8pt;border-top-style:solid;background-color:#f8f9fa;border-left-style:solid;border-bottom-width:0.8pt;border-top-color:#eaecf0;border-bottom-style:solid;text-align:left;padding-right:12pt}.c106{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#808080;border-top-width:1pt;border-right-width:2.5pt;border-left-color:#808080;vertical-align:middle;border-right-color:#808080;border-left-width:2.5pt;border-top-style:solid;border-left-style:solid;border-bottom-width:2.5pt;width:52pt;border-top-color:#808080;border-bottom-style:solid}.c58{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63pt;border-top-color:#000000;border-bottom-style:solid}.c108{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#808080;border-top-width:1pt;border-right-width:2.5pt;border-left-color:#808080;vertical-align:middle;border-right-color:#808080;border-left-width:2.5pt;border-top-style:solid;border-left-style:solid;border-bottom-width:2.5pt;width:55.4pt;border-top-color:#808080;border-bottom-style:solid}.c22{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:122pt;border-top-color:#000000;border-bottom-style:solid}.c9{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:257.2pt;border-top-color:#000000;border-bottom-style:solid}.c100{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#808080;border-top-width:2.5pt;border-right-width:2.5pt;border-left-color:#808080;vertical-align:middle;border-right-color:#808080;border-left-width:2.5pt;border-top-style:solid;border-left-style:solid;border-bottom-width:2.5pt;width:52pt;border-top-color:#808080;border-bottom-style:solid}.c75{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.9pt;border-top-color:#000000;border-bottom-style:solid}.c47{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63.8pt;border-top-color:#000000;border-bottom-style:solid}.c99{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#808080;border-top-width:2.5pt;border-right-width:2.5pt;border-left-color:#808080;vertical-align:middle;border-right-color:#808080;border-left-width:2.5pt;border-top-style:solid;border-left-style:solid;border-bottom-width:2.5pt;width:152.3pt;border-top-color:#808080;border-bottom-style:solid}.c25{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:98.2pt;border-top-color:#000000;border-bottom-style:solid}.c95{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#808080;border-top-width:1pt;border-right-width:2.5pt;border-left-color:#808080;vertical-align:middle;border-right-color:#808080;border-left-width:2.5pt;border-top-style:solid;border-left-style:solid;border-bottom-width:2.5pt;width:152.3pt;border-top-color:#808080;border-bottom-style:solid}.c55{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:88.5pt;border-top-color:#000000;border-bottom-style:solid}.c86{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58pt;border-top-color:#000000;border-bottom-style:solid}.c31{border-right-style:solid;padding:0.8pt 0.8pt 0.8pt 0.8pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:4pt;border-top-color:#000000;border-bottom-style:solid}.c67{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:72.8pt;border-top-color:#000000;border-bottom-style:solid}.c64{border-right-style:solid;padding:0.8pt 0.8pt 0.8pt 0.8pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:278.8pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:67.5pt;border-top-color:#000000;border-bottom-style:solid}.c83{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56pt;border-top-color:#000000;border-bottom-style:solid}.c63{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57pt;border-top-color:#000000;border-bottom-style:solid}.c37{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:89pt;border-top-color:#000000;border-bottom-style:solid}.c94{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:122.8pt;border-top-color:#000000;border-bottom-style:solid}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c84{margin-left:72pt;padding-top:14pt;text-indent:-72pt;padding-bottom:14pt;line-height:1.0;text-align:left}.c70{margin-left:36pt;padding-top:14pt;padding-left:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c42{background-color:#f9f9f9;padding-top:0pt;padding-bottom:0pt;line-height:1.4181818181818182;text-align:left}.c24{background-color:#ffffff;padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c87{padding-top:16pt;padding-bottom:0pt;line-height:1.0;page-break-after:avoid;text-align:left}.c19{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left;height:11pt}.c80{color:#4b4b4b;font-weight:400;font-size:10pt;font-family:"Arial"}.c35{padding-top:0pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c8{padding-top:0pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c69{padding-top:3.8pt;padding-bottom:3.8pt;line-height:1.0;text-align:left}.c109{margin-left:-0.8pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c27{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c91{margin-left:-5pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c1{font-size:16pt;font-family:"Times New Roman";color:#343434;font-weight:400}.c6{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c3{padding-top:0pt;padding-bottom:8pt;line-height:1.0;text-align:left}.c74{margin-left:-10.8pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c30{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c49{padding-top:0pt;padding-bottom:8pt;line-height:1.0791666666666666;text-align:left}.c32{font-size:13pt;font-family:"Times New Roman";font-weight:700}.c36{font-weight:400;font-size:16pt;font-family:"Calibri"}.c11{font-size:16pt;font-family:"MS Mincho";font-weight:400}.c2{font-size:12pt;font-family:"Times New Roman";font-weight:400}.c12{font-size:16pt;font-family:"MS Mincho";font-weight:700}.c65{font-weight:400;font-size:10pt;font-family:"Courier New"}.c107{font-weight:400;font-size:10.5pt;font-family:"Courier New"}.c5{font-size:16pt;font-family:"Times New Roman";font-weight:400}.c34{font-weight:400;font-size:12pt;font-family:"Cambria"}.c59{background-color:#ffffff;max-width:432pt;padding:72pt 90pt 72pt 90pt}.c96{-webkit-text-decoration-skip:none;text-decoration:underline;text-decoration-skip-ink:none}.c18{text-decoration:none;vertical-align:baseline;font-style:normal}.c40{color:#000000;text-decoration:none;vertical-align:baseline}.c10{font-weight:400;font-size:9pt;font-family:"Calibri"}.c61{font-weight:400;font-size:16pt;font-family:"Courier New"}.c85{font-weight:400;font-size:10pt;font-family:"Quattrocento Sans"}.c13{font-weight:700;font-size:10pt;font-family:"Arial"}.c4{font-size:16pt;font-family:"Times New Roman";font-weight:700}.c60{padding:0;margin:0}.c62{font-size:13.5pt;color:#000000}.c78{margin-left:72pt;padding-left:0pt}.c23{font-family:"Times New Roman";font-weight:400}.c20{font-family:"MS Mincho";font-weight:400}.c104{margin-left:36pt;text-indent:-36pt}.c79{color:inherit;text-decoration:inherit}.c33{margin-left:-18pt;padding-left:18pt}.c103{font-family:"Cardo";font-weight:400}.c110{font-weight:400;font-family:"Arial"}.c44{font-weight:700;font-family:"Cambria"}.c48{font-weight:400;font-family:"Calibri"}.c7{orphans:2;widows:2}.c88{color:#103cc0}.c17{color:#240400}.c41{height:0pt}.c52{font-family:"Times New Roman"}.c43{color:#3a3a3a}.c71{font-size:11pt}.c50{font-weight:700}.c46{font-size:14pt}.c97{color:#141414}.c73{color:#2e75b5}.c66{font-size:13pt}.c15{font-style:italic}.c56{color:#0f7001}.c105{font-size:10pt}.c28{color:#0a006d}.c29{height:11pt}.c77{color:#0e0e0e}.c38{font-size:12pt}.c101{font-size:9pt}.c57{font-size:15pt}.c21{font-size:19pt}.c76{font-family:"Calibri"}.c102{color:#0a5001}.c39{color:#fc1827}.c16{color:#1a1a1a}.c89{color:#d64f53}.c92{color:#343434}.c45{color:#0000ff}.c14{color:#fb0007}.c53{color:#00006d}.c93{color:#123a8a}.c82{font-family:"MS Mincho"}.c68{font-size:13.5pt}.c81{color:#0000e9}.c51{color:#262626}.c98{color:#ff0000}.c90{font-size:16pt}.c72{font-size:24pt}.title{padding-top:0pt;color:#2e75b5;font-size:26pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#000000;font-size:11pt;padding-bottom:8pt;font-family:"Calibri";line-height:1.0;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Calibri"}p{margin:0;color:#000000;font-size:11pt;font-family:"Calibri"}h1{padding-top:16pt;color:#2e75b5;font-size:15pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:2pt;color:#c55911;font-size:14pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:2pt;color:#538135;font-size:13pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:2pt;color:#2f5496;font-size:12.5pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}h5{padding-top:2pt;color:#843c0b;font-size:12pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}h6{padding-top:2pt;color:#385623;font-size:11.5pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c59 doc-content"><p class="c8"><span class="c23 c72">AIX CHEATSHEET </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c52 c50 c72">VIO Server </span></p><p class="c8"><span class="c4">Changing SEA from one VLAN to another when in access mode(NON- 802.1q):</span><span class="c12">&nbsp;</span><span class="c5">On VIOS, create new virtual ethernet adapter with new VLAN in PVID field. Shutdown and reactivate VIOS.</span><span class="c11">&nbsp;</span><span class="c5">At VIOS command line:</span><span class="c11">&nbsp;</span><span class="c5">chdev -dev &lt;SEA_Adapter&gt; -attr pvid=&lt;new_VLAN&gt; pvid_adapter=&lt;new_VirtualEth&gt; virt_adapters=&lt;new_VirtualEth&gt; Remember that in access mode only one VLAN is being carried. If more than one is needed then you need 802.1q </span></p><p class="c3"><span class="c5">On VIOC, change PVID field to new VLAN. Shutdown and reactivate VIOC.</span></p><p class="c3"><span class="c5">Make any IP changes if necessary.</span></p><p class="c3"><span class="c4">Adding ADDITIONAL VLAN to existing SEA on power6 or lower:(power7 can</span><span>&nbsp;</span><span class="c4">add to existing vETH of SEA):</span></p><p class="c8"><span class="c5">On the VIO server DO NOT add any vlans to the existing virtual adapter, instead, you will create a NEW virtual ethernet adapter, give it a bullshit vlan id. Then give it an &quot;additional vlan id&quot; of the actual vlan you want to use for vlan tagging.</span><span class="c11">&nbsp;</span><span class="c5">shutdown then reactivate the VIOS(if you didnt use DLPAR). Make sure you check &quot;External Access&quot; and match the priority number</span><span class="c11">&nbsp;</span><span class="c5">Add the new virtual ethernet adapter to the SEA (yes, now you will have 2 virtual adapters in your SEA).</span><span class="c11">&nbsp;</span><span class="c5">$chdev -dev entX -attr virt_adapters=entY,entZ (where entX is the SEA and entY is the adapter that was already part of the SEA and entZ is the new virtual adapter. </span><span class="c30 c5"><a class="c79" href="https://www.google.com/url?q=https://www-304.ibm.com/support/docview.wss?uid%3Disg3T1010740&amp;sa=D&amp;source=editors&amp;ust=1673574135126127&amp;usg=AOvVaw0_T8IDgl6oVDyrCH5WyRva">https://www-304.ibm.com/support/docview.wss?uid=isg3T1010740</a></span><span class="c11 c18 c53">&nbsp;</span></p><p class="c8"><span class="c4">Power7 adding additional VLANS: </span></p><p class="c8"><span class="c5">So you need to add the additional VLAN to the profile AND run the chhwres command on the HMC</span><span class="c11">&nbsp;</span><span class="c5">chhwres -r virtualio --rsubtype eth -m &lt;managedServerName&gt; -o s --id 1 -s 1000 -a &quot;addl_vlan_ids+=319,ieee_virtual_eth=1&quot; </span></p><p class="c3"><span class="c5">In this example, the VLAN ID 319 is added to the existing VLAN IDs</span></p><p class="c3"><span class="c5">for the virtual Ethernet adapter, and the virtual Ethernet adapter is</span></p><p class="c3"><span class="c5">set to the IEEE 802.1Q standard.</span></p><p class="c3"><span class="c5">ch -r virtualio --rsubtype eth -m &lt;managed system&gt; -o s {-p</span></p><p class="c3"><span class="c5">&lt;partition name&gt; | --id &lt;partition ID&gt;} -s &lt;virtual slot number&gt; -a</span></p><p class="c3"><span class="c5">&quot;addl_vlan_ids+=5,ieee_virtual_eth=1&quot;</span></p><p class="c3"><span class="c5">chhwres -r virtualio -m Server-8205-E6B-SN061740R -o s --rsubtype eth</span></p><p class="c3"><span class="c5">-p agpvh501 -s 1000 -a &#39;addl_vlan_ids+=&quot;304,306,307,308,309&quot;&#39;</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.73px; height: 1.53px;"><img alt="" src="images/image38.png" style="width: 26.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 28.40px; height: 1.53px;"><img alt="" src="images/image36.png" style="width: 28.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 40.87px; height: 1.53px;"><img alt="" src="images/image21.png" style="width: 40.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 46.20px; height: 1.53px;"><img alt="" src="images/image23.png" style="width: 46.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.13px; height: 1.53px;"><img alt="" src="images/image13.png" style="width: 7.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.53px;"><img alt="" src="images/image17.png" style="width: 17.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.80px; height: 1.53px;"><img alt="" src="images/image15.png" style="width: 8.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 16.80px; height: 1.53px;"><img alt="" src="images/image12.png" style="width: 16.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.93px; height: 1.53px;"><img alt="" src="images/image30.png" style="width: 8.93px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 48.00px; height: 1.53px;"><img alt="" src="images/image31.png" style="width: 48.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">dont forget to save the current running configuration afterwards</span></p><p class="c8"><span class="c4">Adding additional vlan error:</span><span class="c12">&nbsp;</span><span class="c4">chgsea: Ioctl NDD_SEA_MODIFY returned error 64 for device: </span><span class="c5">Forgot to check &#39;access external network&#39;. Keep priority the same as the other virtual ethernet in the SEA </span></p><p class="c3"><span class="c4">NDD_SEA_MODIFY returned error 64 for device ent</span></p><p class="c3"><span class="c5">Forgot to hit &ldquo;external access&rdquo; checkbox on new virtual adapter</span></p><p class="c3"><span class="c4">CPU Folding on VIOS:</span></p><p class="c3"><span class="c5">schedo -L|grep vpm_fold_policy|awk &#39;{print $2}&#39;</span></p><p class="c3"><span class="c4">if it is not 4 the use it to disable cpu folding on vios</span></p><p class="c3"><span class="c5">schedo -p -o vpm_fold_policy=4</span></p><p class="c3"><span class="c6 c4">Which disks are free on the vio server?:</span></p><p class="c3"><span class="c18 c4 c98">REMEMBER TO CHECK ALL VIO SERVERS THAT SAN IS ALLOCATED TO!!</span></p><p class="c3"><span class="c52 c50 c38">The hdisk and PVID are unreliable way to tell unique disk. Pull the unique id of the disk to ensure the same SAN disk across servers</span></p><a id="t.c0cc5ecb96eedea5ca1f393c9a9a1069aefd920d"></a><a id="t.0"></a><table class="c109"><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c16 c85">for disk in `lsdev -Cc disk|grep MPIO|cut -f 1 -d &quot; &quot;`<br>do<br>echo $disk `lsattr -El&nbsp;&nbsp;$disk -a unique_id|cut -c 17-24`</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c2"></span></p></td></tr><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c85 c16">done</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c2"></span></p></td></tr><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c85 c16">you put first in column A, and second loop output in column B</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c2"></span></p></td></tr><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c85 c16">in excel</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c2"></span></p></td></tr><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c85 c16">that should match hdisk with unique_id</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c2"></span></p></td></tr><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c85 c16">then you can check if any hdisk with 1966 be mapped or not</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c2"></span></p></td></tr><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c85 c16">if not you can rmdev</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c2"></span></p></td></tr><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c85 c16">few days back, I did not see any hdisk with 1966 mapped</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c2"></span></p></td></tr><tr class="c41"><td class="c64" colspan="1" rowspan="1"><p class="c27 c7"><span class="c18 c85 c16">you will need do that on all 4 vios</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c19 c7"><span class="c6 c23 c105"></span></p></td></tr></table><p class="c8 c29"><span class="c0"></span></p><p class="c3"><span class="c4">mkvdev for LUN backing disk:</span></p><p class="c3"><span class="c5">mkvdev -vdev &lt;LUN_Backing_Device&gt; -vadapter &lt;VIOC_VHOST&gt; -dev</span></p><p class="c3"><span class="c5">&lt;Descriptive_Name&gt;</span></p><p class="c3"><span class="c5">mkvdev -vdev hdiskpower69 -vadapter vhost1 -dev hd69_cg1p01a</span></p><p class="c3"><span class="c4">to remove the disk assigned above and clear its PVID:</span></p><p class="c3"><span class="c5">rmvdev -vdev hdiskpower69</span></p><p class="c3"><span class="c5">chdev -dev hdiskpower69 -attr pv=clear</span></p><p class="c3"><span class="c4">EMC Gatekeeper disks:</span></p><p class="c3"><span class="c5">There are small LUNs(2 or 3MB) that AIX sees. This is a zoning issue</span></p><p class="c3"><span class="c5">in the SAN. Ask the SAN guys to remedy</span></p><p class="c8"><span class="c5">Networking Terms </span></p><p class="c8"><span class="c4">Cisco terms: </span></p><p class="c3"><span class="c5">One VLAN is called access mode. So put the VLAN number in the PVID box and do not check the 802.1q. Untagged packets will be tagged with the PVID Multiple VLAN is called trunk mode. Put bullshit in the PVID box and CHECK the 802.1q and put your VLAN&#39;s in the list. All incoming traffic must be tagged in the selected vlans or it is dropped. Etherchannel can be either access or trunk mode and can be layer 2 or layer 3 layer 2 contains MAC address, trunk layer 3 is IP address</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">layer 4 is port address</span><span class="c11">&nbsp;</span><span class="c5">Also when assigning PVID&#39;s across multiple VIO servers do not reuse any numbers.(assuming the same vSwitch)</span><span class="c11">&nbsp;</span><span class="c5">A Port VLAN ID (pvid) is a default VLAN ID that is assigned to an </span><span class="c5 c15">access </span><span class="c5">port to designate the virtual LAN segment to which this port is connected. The pvid places the port into the set of ports that are connected under the designated VLAN ID. Also, if a trunk port has not been configured with any VLAN memberships, the virtual switch&#39;s Port VLAN ID (pvid) becomes the default VLAN ID for the ports connection. </span></p><p class="c3"><span class="c5">UNTAGGED is a regular ethernet data packet</span></p><p class="c3"><span class="c5">TAGGED is an ethernet data packet with an addition which contains a</span></p><p class="c3"><span class="c5">VLAN ID</span></p><p class="c3"><span class="c5">A PVID (Port VLAN ID) is an UNTAGGED packet that enters a switch port, the PVID is attached to the untagged packet and forwarded to a VLAN</span><span>&nbsp;</span><span class="c5">specified by the ID part of the PVID</span></p><p class="c3"><span class="c5">Switch to device links (ports) are typically untagged, with the ports</span></p><p class="c3"><span class="c5">PVID set to the desired vlan(access switch port mode). BUT with SEA&#39;s</span><span>&nbsp;</span><span class="c5">it is normal practice to use 802.1q(trunk switch port mode) for</span><span>&nbsp;</span><span class="c5">virtualization.</span></p><p class="c3"><span class="c4 c15">Packets tagged with the VLAN that matches the PVID of the SEA are</span><span>&nbsp;</span><span class="c4 c15">untagged before being sent out to the external network.</span></p><p class="c3"><span class="c4 c15">Packets tagged with a VLAN other than the PVID of the SEA are sent</span><span>&nbsp;</span><span class="c4 c15">out with the VLAN tag unmodified</span></p><p class="c3"><span class="c5">When creating the SEA adapter, use the PVID of the virtual ethernet</span><span>&nbsp;</span><span class="c5">in the mkvdev -sea command&#39;s -defaultid field.</span></p><p class="c3"><span class="c5">VLANs are layer 2 constructs, compared with IP </span><span class="c5 c53">subnets </span><span class="c5">which are</span></p><p class="c3"><span class="c5">layer 3 constructs. In an environment employing VLANs, a one-to-one</span><span>&nbsp;</span><span class="c5">relationship often exists between VLANs and IP subnets, although it</span><span>&nbsp;</span><span class="c5">is possible to have multiple subnets on one VLAN. VLANs and IP</span><span>&nbsp;</span><span class="c5">subnets provide independent Layer 2 and Layer 3 constructs that map</span><span>&nbsp;</span><span class="c5">to one another and this correspondence is useful during the network</span><span>&nbsp;</span><span class="c5">design process.</span></p><p class="c8"><span class="c5">Shared Ethernet Adapter(SEA) </span></p><p class="c8"><span class="c52 c50 c72">ADMINISTRATION </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 61.40px; height: 1.53px;"><img alt="" src="images/image34.png" style="width: 61.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">VIOS </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c4">VIO server showing vhost being managed by powerpath!! </span><span class="c5">Pseudo name=</span><span class="c4">vhost4 &lt;=== OMG!</span></p><p class="c8"><span class="c12">&nbsp;</span><span class="c5">Symmetrix ID=000195702399</span><span class="c11">&nbsp;</span><span class="c5">Logical device ID=085C </span></p><p class="c3"><span class="c5">state=alive; policy=SymmOpt; priority=0; queued-IOs=0;</span></p><p class="c3"><span class="c5">=====================================================================</span></p><p class="c3"><span class="c5">=========</span></p><p class="c3"><span class="c5">--------------- Host --------------- &nbsp; - Stor - &nbsp; -- I/O Path -- &nbsp;--</span></p><p class="c3"><span class="c5">Stats ---</span></p><p class="c3"><span class="c5">### &nbsp;HW Path &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; I/O Paths &nbsp; &nbsp;Interf. &nbsp; Mode &nbsp; &nbsp;State &nbsp; Q-</span></p><p class="c3"><span class="c5">IOs Errors</span></p><p class="c3"><span class="c5">=====================================================================</span></p><p class="c3"><span class="c5">=========</span></p><p class="c8"><span class="c5">0 fscsi4 00 </span></p><p class="c8"><span class="c5">0 fscsi4 00 </span></p><p class="c8"><span class="c5">1 fscsi6 00 </span></p><p class="c8"><span class="c5">1 fscsi6 00 </span></p><p class="c3"><span class="c5">hdisk14 &nbsp; FA 10eA &nbsp; active &nbsp;alive</span></p><p class="c3"><span class="c5">hdisk22 &nbsp; FA &nbsp;8eA &nbsp; active &nbsp;alive</span></p><p class="c3"><span class="c5">hdisk39 &nbsp; FA &nbsp;7eA &nbsp; active &nbsp;alive</span></p><p class="c3"><span class="c5">hdisk47 &nbsp; FA &nbsp;9eA &nbsp; active &nbsp;alive</span></p><p class="c3"><span class="c4">To look at a specific vhost:(vscsi)</span></p><p class="c3"><span class="c5">lsmap -vadapter &lt;vhost#&gt;</span></p><p class="c8"><span class="c4">Looking at packets on the SEA&#39;s: </span><span class="c5">topas -i 1 </span><span class="c4">then type </span><span class="c5">E </span></p><p class="c8"><span class="c4">To figure out the VIOC disk on the VIOS:</span><span class="c12">&nbsp;</span><span class="c4">On Client(VIOC):</span><span class="c12">&nbsp;</span><span class="c5">lscfg -vl hdisk2</span><span class="c11">&nbsp;</span><span class="c5">hdisk2 U9119.FHA.0220B35-V31-</span><span class="c4 c14">C104-T1-L83</span><span class="c5">00000000000000 Virtual SCSI Disk Drive </span></p><p class="c3"><span class="c4">On Server(VIOS):</span></p><p class="c8"><span class="c5">[root@chvio01b]:/home/padmin# diskmap |grep ch1p27</span><span class="c11">&nbsp;</span><span class="c5">chvio01b vhost2 U9119.FHA.0220B35-V31-</span><span class="c4 c14">C104 </span><span class="c5">hd0_ch1p27a 0x8100000000000000 hdiskpower0</span><span class="c11">&nbsp;</span><span class="c5">chvio01b vhost2 U9119.FHA.0220B35-V31-</span><span class="c4 c14">C104 </span><span class="c5">hd14_ch1p27a 0x8200000000000000 hdiskpower14</span><span class="c11">&nbsp;</span><span class="c5">chvio01b vhost2 U9119.FHA.0220B35-V31-</span><span class="c4 c14">C104 </span><span class="c5">hd27_ch1p27a 0x8300000000000000 hdiskpower27 [padmin@chvio01b]:/home/padmin$ lsmap -vadapter vhost2</span><span class="c11">&nbsp;</span><span class="c5">SVSA Physloc Client Partition ID --------------- -------------------------------------------- ------------------</span><span class="c11">&nbsp;</span><span class="c5">vhost2 U9119.FHA.0220B35-V31-</span><span class="c4 c14">C104 </span><span class="c5">0x00000022 </span></p><p class="c3"><span class="c5">VTD</span></p><p class="c3"><span class="c5">Status</span></p><p class="c3"><span class="c5">LUN</span></p><p class="c3"><span class="c5">Backing device &nbsp; &nbsp;hdiskpower0</span></p><p class="c8"><span class="c5">Physloc </span></p><p class="c8"><span class="c5">Physloc </span></p><p class="c8"><span class="c5">VTD</span><span class="c11">&nbsp;</span><span class="c5">Status</span><span class="c11">&nbsp;</span><span class="c5">LUN</span><span class="c11">&nbsp;</span><span class="c4">HDISK2 ON THE CLIENT</span><span class="c12">&nbsp;</span><span class="c5">Backing device hdiskpower27</span><span class="c11">&nbsp;</span><span class="c5">Physloc U5803.001.99201KP-P1-C7-T1-L70 </span></p><p class="c3"><span class="c4">To look at a single NPIV vfchost connection:</span></p><p class="c3"><span class="c5">lsmap -vadapter vfchost2 -npiv</span></p><p class="c8"><span class="c4">LSMAP EXPLANATION</span><span class="c12">&nbsp;</span><span class="c4">Which virtFiber is NOT logged in: an &#39;a&#39; in the flag field means its logged in a &#39;4&#39; means not_logged_in(must unmap first), a &#39;1&#39; means not_mapped,not_connected, &#39;0&#39; shows no status.</span><span class="c12">&nbsp;</span><span class="c5">lsmap -all -npiv -field name physloc clntid status &quot;fc name&quot; flags &quot;vfc client name&quot; -fmt :|grep -v :a:vfchost34:U9117.MMD.21878F7-V1-C972:13:NOT_LOGGED_IN::1:vfchost35:U9117.MMD.21878F7-V1-C974:13:NOT_LOGGED_IN:fcs14:4:vfchost40:U9117.MMD.21878F7-V1-C984:16:NOT_LOGGED_IN:fcs5:4:</span><span class="c11">&nbsp;</span><span class="c4">and for vscsi:(status field is blank then its not mapped</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c5">lsmap -all -field physloc svsa clientid status -fmt :|grep -v Avail </span></p><p class="c3"><span class="c4">I had 2 vfchost that were showing NOT_LOGGED_IN. I went onto the</span></p><p class="c3"><span class="c4">client and rmdev&#39;d the corresponding slot and ran cfgmgr. It logged</span><span>&nbsp;</span><span class="c4">in. Make sure the slotting is correct.</span></p><p class="c3"><span class="c5">VIO server has a physical fiber card that logs in for some virtual</span></p><p class="c3"><span class="c5">fibers but not for others.(vs237 kaiser)</span></p><p class="c3"><span class="c4">To map a physical fiber to a vfchost:</span></p><p class="c3"><span class="c5">vfcmap -vadapter vfchost19 -fcp fcs7</span></p><p class="c3"><span class="c4">To UNMAP a physical fiber to a vfchost:</span></p><p class="c3"><span class="c5">vfcmap -vadapter vfchost19 -fcp</span></p><p class="c3"><span class="c4">vhostX virtual location:</span></p><p class="c3"><span class="c5">lsdev -dev vhostX -vpd</span></p><p class="c3"><span class="c5">hd0_ch1p27a</span></p><p class="c3"><span class="c5">&nbsp;Available</span></p><p class="c3"><span class="c5">0x8100000000000000</span></p><p class="c3"><span class="c5">&nbsp; U5803.001.99201KP-P1-C7-T1-L44</span></p><p class="c3"><span class="c5">VTD</span></p><p class="c3"><span class="c5">Status</span></p><p class="c3"><span class="c5">LUN</span></p><p class="c3"><span class="c5">Backing device &nbsp; &nbsp;hdiskpower14</span></p><p class="c3"><span class="c5">hd14_ch1p27a</span></p><p class="c3"><span class="c5">&nbsp;Available</span></p><p class="c3"><span class="c5">0x8200000000000000</span></p><p class="c3"><span class="c5">&nbsp; U5803.001.99201KP-P1-C7-T1-L46</span></p><p class="c3"><span class="c5">hd27_ch1p27a</span></p><p class="c3"><span class="c5">&nbsp;Available</span></p><p class="c8"><span class="c4 c14">0x83</span><span class="c5">00000000000000 </span><span class="c4">&lt;-------- THIS IS THE DISK THAT IS </span></p><p class="c3"><span class="c5">$ lsdev -dev vfchost0 -vpd</span></p><p class="c3"><span class="c5">&nbsp;vfchost0 &nbsp; &nbsp; U8205.E6B.06137DR-V2-C36 Virtual FC Server Adapter</span></p><p class="c3"><span class="c5">*********************************************************************</span></p><p class="c3"><span class="c5">**********</span></p><p class="c3"><span class="c5">The command&#39;s response was not recognized. &nbsp;This may or may not</span></p><p class="c3"><span class="c5">indicate a problem.</span></p><p class="c3"><span class="c5">*********************************************************************</span></p><p class="c3"><span class="c5">**********</span></p><p class="c3"><span class="c5">Command did not complete.</span></p><p class="c8"><span class="c5">&quot;Run mkdev&quot; was last subcommand run.</span><span class="c11">&nbsp;</span><span class="c5">Check to make sure that the entX&rsquo;s are in available state and make sure the are no IP addresses assigned too. </span><span class="c4">Aaron Dunphy changed the priority and it worked </span></p><p class="c3"><span class="c4">and Asad Khan ran into this trying to map vscsi. Ended up that the</span></p><p class="c3"><span class="c4">disk had zero size</span></p><p class="c3"><span class="c4">mkvdev for the SEA:</span></p><p class="c3"><span class="c5">usr/ios/cli/ioscli mkvdev -lnagg ent0 ent1 ent2 ent4 ent5 ent6 ent8</span></p><p class="c3"><span class="c5">ent9 -attr mode=8023ad</span></p><p class="c3"><span class="c5">lsattr -El ent16</span></p><p class="c3"><span class="c5">/usr/ios/cli/ioscli mkvdev -sea ent16 -vadapter ent12 ent13 ent14</span></p><p class="c3"><span class="c5">-default ent12 -defaultid 991 -attr ha_mode=auto ctl_chan=ent15</span></p><p class="c3"><span class="c5">/usr/ios/cli/ioscli mkvdev -vlan ent17 -tagid 696</span></p><p class="c3"><span class="c5">mktcpip -h pepxvn00003 -a 5.16.196.xx -i en18 -m 255.255.255.0 -g</span></p><p class="c3"><span class="c5">5.16.196.1</span></p><p class="c3"><span class="c5">ping 5.16.196.1</span></p><p class="c3"><span class="c4">Error creating SEA:</span></p><p class="c3"><span class="c4">The command&#39;s response was not recognized. This may or may not</span></p><p class="c3"><span class="c4">indicate a problem.</span></p><p class="c3"><span class="c4">Check to make sure all interfaces are NOT configured with an IP</span><span>&nbsp;</span><span class="c4">Address. Also I ran into largesend=1 causing an issue but that wasnt</span><span>&nbsp;</span><span class="c4">it because I deleted it and retried the mkvdev command with</span></p><p class="c3"><span class="c4">largesend=1 and it worked...perhaps it was creating them too fast,</span></p><p class="c3"><span class="c4">one right after another? not sure but it works now. Aaron Dunphy</span></p><p class="c3"><span class="c4">changed the priority and it worked. Also he shut down the other vio</span></p><p class="c3"><span class="c4">server before trying the command again</span></p><p class="c3"><span class="c4">Replacing the physical ethernet of a SEA:</span></p><p class="c8"><span class="c5 c53">http://www-01.ibm.com/support/docview.wss?uid=isg3T1011065 </span></p><p class="c8"><span class="c4">Which SEA is Primary:</span><span class="c12">&nbsp;</span><span class="c5">[root@</span><span class="c4">chvio03a</span><span class="c5">]:/home/padmin# entstat -d ent13|grep State State: BACKUP</span><span class="c11">&nbsp;</span><span class="c5">LAN State: Operational </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image6.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 40.87px; height: 1.53px;"><img alt="" src="images/image21.png" style="width: 40.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 46.20px; height: 1.53px;"><img alt="" src="images/image23.png" style="width: 46.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.13px; height: 1.53px;"><img alt="" src="images/image13.png" style="width: 7.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.53px;"><img alt="" src="images/image17.png" style="width: 17.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.80px; height: 1.53px;"><img alt="" src="images/image15.png" style="width: 8.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 16.80px; height: 1.53px;"><img alt="" src="images/image12.png" style="width: 16.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.93px; height: 1.53px;"><img alt="" src="images/image30.png" style="width: 8.93px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 48.07px; height: 1.53px;"><img alt="" src="images/image59.png" style="width: 48.07px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">LAN State: Operational</span><span class="c11">&nbsp;</span><span class="c5">[root@</span><span class="c4">chvio03b</span><span class="c5">]:/home/padmin# entstat -d ent13|grep State State: PRIMARY</span><span class="c11">&nbsp;</span><span class="c5">LAN State: Operational</span><span class="c11">&nbsp;</span><span class="c5">LAN State: Operational </span></p><p class="c8"><span class="c4">To perform a manual SEA failover to the passive VIOs and ensure the client communications remain. (on the primary VIO, set ha_mode = standby)</span><span class="c12">&nbsp;</span><span class="c5">chdev -l entX -a ha_mode=standby </span></p><p class="c8"><span class="c4">Also you can have both SEA&#39;s in standby mode and it will still work: (I ran a continuous ping to verify)</span><span class="c12">&nbsp;</span><span class="c5">[root@cgvio03a]:/home/padmin# entstat -d ent13|egrep -i &quot;vlan|high| active|state&quot; </span></p><p class="c3"><span class="c5">VLAN Ids :</span></p><p class="c3"><span class="c5">High Availability Statistics:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;State: PRIMARY</span></p><p class="c8"><span class="c5">High Availability Mode:</span><span class="c4 c14">Standby</span><span class="c12 c14">&nbsp;</span><span class="c5">Transmit and Receive Flow Control Threshold (High): 40960</span><span class="c11">&nbsp;</span><span class="c4 c14">Priority: 1 Active: True</span><span class="c12 c14">&nbsp;</span><span class="c5">[root@cgvio03b]:/home/padmin# entstat -d ent13|egrep -i &quot;vlan|high| active|state&quot;</span><span class="c11">&nbsp;</span><span class="c5">VLAN Ids :</span><span class="c11">&nbsp;</span><span class="c5">High Availability Statistics: </span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;State: BACKUP</span></p><p class="c8"><span class="c5">High Availability Mode:</span><span class="c4 c14">Standby</span><span class="c12 c14">&nbsp;</span><span class="c5">Transmit and Receive Flow Control Threshold (High): 40960 </span><span class="c4 c14">Priority: 2 Active: False </span></p><p class="c3"><span class="c4">SEA statistics:</span></p><p class="c3"><span class="c5">chdev -l ent11 -a accounting=enabled</span></p><p class="c3"><span class="c5">seastat -d ent11</span></p><p class="c3"><span class="c5">chdev -l ent11 -a accounting=disabled</span></p><p class="c3"><span class="c4">What VLAN&#39;s are associated with virtual ethernet:</span></p><p class="c3"><span class="c4">Either look in the profile or entstat -d entX from the vios cli</span></p><p class="c3"><span class="c4">against the SEA.</span></p><p class="c3"><span class="c5">entstat -d ent15|grep -i vlan</span></p><p class="c3"><span class="c4">VIO Commands taken from exam study guide:</span></p><p class="c3"><span class="c5">What is need to fully recreate a failed VIOS:</span></p><p class="c3"><span class="c5">1)Backup non rootvg structures using savevgstruct</span></p><p class="c3"><span class="c5">2)Capture virtual mappings to a file using viosbr</span></p><p class="c3"><span class="c5">3)Run a backupios</span></p><p class="c3"><span class="c4">Are emergency fixes applied to the VIOS:</span></p><p class="c8"><span class="c5">lssw </span></p><p class="c8"><span class="c4">What causes a broadcast storm on redundant VIO servers with SEA failover?</span><span class="c12">&nbsp;</span><span class="c5">The secondary SEA is created before enabling failover on the primary SEA </span></p><p class="c3"><span class="c4">Upgrading any version of VIO below 1.5 need to upgrade to 1.5 before</span></p><p class="c3"><span class="c4">going any higher</span></p><p class="c3"><span class="c4">How can an administrator list all VIO commands run by any user?</span></p><p class="c3"><span class="c5">/usr/ios/cli/ioscli isgcl (as root)</span></p><p class="c3"><span class="c4">**HBA settings***</span></p><p class="c3"><span class="c4">Change attributes on HBA&#39;s:(All HBA&#39;s were changed):</span></p><p class="c3"><span class="c5 c15">chdev -Pl fscsi# -a dyntrk=yes -a fc_err_recov=fast_fail</span></p><p class="c8"><span class="c4 c15">**general VIO notes/commands***</span><span class="c12 c15">&nbsp;</span><span class="c4 c15">Building VIOS:</span><span class="c12 c15">&nbsp;</span><span class="c5 c15">create profile</span><span class="c11 c15">&nbsp;</span><span class="c5 c15">Give storage physical WWN for VIOS boot LUNS install VIOS </span></p><p class="c3"><span class="c5 c15">create FC adapters on VIOS &amp; VIOC</span></p><p class="c3"><span class="c5 c15">fcmap -vadapter vhost0 -fcp fc0 - on the VIOS(this maps server to</span></p><p class="c3"><span class="c5 c15">client for client&#39;s storage)</span></p><p class="c3"><span class="c5 c15">pull WWN to give to storage for client boot luns</span></p><p class="c8"><span class="c4">Multiple sets of VIO servers on a single frame </span><span class="c4 c15">!gotcha!: </span><span class="c5 c15">You MUST assign different priority numbers on each vios vios1&#39;s priority numbers: 1-2(SEA1:1,SEA2:2)</span><span class="c11 c15">&nbsp;</span><span class="c5 c15">vios2&#39;s priority numbers: 1-2(SEA1:2,SEA2:1) ****************************** </span></p><p class="c3"><span class="c5 c15">vios2&#39;s priority numbers: 3-4(SEA1:3,SEA2:4)</span></p><p class="c3"><span class="c5 c15">vios2&#39;s priority numbers: 3-4(SEA1:4,SEA2:3)</span></p><p class="c3"><span class="c4 c15">updateios -dev &lt;Path_to_updates&gt; -install -accept</span></p><p class="c3"><span class="c4 c15">After updating the VIO server I got this error:</span></p><p class="c3"><span class="c5 c15">$ license -accept</span></p><p class="c3"><span class="c5 c15">Access to run command is not valid.</span></p><p class="c3"><span class="c5 c15">$ shutdown -restart</span></p><p class="c3"><span class="c5 c15">Access to run command is not valid.</span></p><p class="c3"><span class="c5 c15">$ swrole - PAdmin</span></p><p class="c3"><span class="c5 c15">padmin&#39;s Password:</span></p><p class="c3"><span class="c5 c15">$ license -accept</span></p><p class="c3"><span class="c5 c15">$ shutdown -restart</span></p><p class="c3"><span class="c4 c15">Notes on building VIOS:</span></p><p class="c3"><span class="c5 c15">At Pepsi they had 4 VIOS on a frame. TRUNK PRIORITIES MUST BE</span></p><p class="c3"><span class="c5 c15">DIFFERENT ACROSS ALL VIOS.</span></p><p class="c3"><span class="c5 c15">Also when creating virtual ethernet, VLAN ID &amp; Additional VLAN&#39;s must</span></p><p class="c3"><span class="c5 c15">not be the same.</span></p><p class="c3"><span class="c5 c15">When creating the SEA, the -defaultid in the mkvdev -sea command, use</span></p><p class="c3"><span class="c5 c15">the PVID of the virtual adapter.</span></p><p class="c3"><span class="c4">VIOS padmin .profile add:</span></p><p class="c8"><span class="c5 c16">alias aix=&quot;ioscli oem_setup_env&quot;</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">export ENV=/home/padmin/.kshrc</span><span class="c11 c16">&nbsp;</span><span class="c4 c16">then in the .kshrc file put:(I get an error when i put the hostname variable in the PS1 variable)</span><span class="c12 c16">&nbsp;</span><span class="c5">if [ &quot;$(whoami)&quot; != &quot;root&quot; ]; then</span><span class="c11">&nbsp;</span><span class="c5">export PS1=[$(whoami)@cgvio03a]:&#39;$PWD $ &#39;</span><span class="c11">&nbsp;</span><span class="c5">else</span><span class="c11">&nbsp;</span><span class="c5">export PS1=[$(whoami)@cgvio03a]:&#39;$PWD # &#39;</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c4 c16">in /etc/environment</span><span class="c12 c16">&nbsp;</span><span class="c5 c16">EDITOR=/usr/bin/vi (you might wanna double check this path) </span></p><p class="c3"><span class="c4 c16">If Etherchannel&#39;d:</span></p><p class="c8"><span class="c4">[padmin@chvio01b]:/home/padmin$ </span><span class="c5">lsdev -dev ent12 -attr|grep use_jumbo_frame</span><span class="c11">&nbsp;</span><span class="c5">use_jumbo_frame yes Enable Gigabit Ethernet Jumbo Frames True </span></p><p class="c3"><span class="c4">then finally check the SEA:</span></p><p class="c8"><span class="c4">[padmin@chvio01b]:/home/padmin$ </span><span class="c5">lsdev -dev ent14 -attr|grep jumbo_frames</span><span class="c11">&nbsp;</span><span class="c5">jumbo_frames yes Enable Gigabit Ethernet Jumbo Frames True </span></p><p class="c3"><span class="c4">Checking/matching pvid of SEA to its virtual&#39;s pvid:</span></p><p class="c8"><span class="c4">[padmin@chvio01b]:/home/padmin$ </span><span class="c5">lsdev -dev ent14 -attr|grep -E &quot;pvid| pvid_adapter&quot;</span><span class="c11">&nbsp;</span><span class="c5">pvid 11 PVID to use for the SEA device True pvid_adapter ent6 Default virtual adapter to use for non-VLAN- tagged packets True </span></p><p class="c3"><span class="c4">then check the pvid of the virtual adapter(ent6):</span></p><p class="c3"><span class="c5">entstat -all &lt;sea&gt;|more</span></p><p class="c3"><span class="c4">and look for ent6 output like:</span></p><p class="c8"><span class="c5">VLAN Ids :</span><span class="c11">&nbsp;</span><span class="c5">ent6: 11 1320 1321 </span><span class="c4">&lt;- the pvid is the first entry after the : </span></p><p class="c3"><span class="c4">If they dont match then:</span></p><p class="c3"><span class="c5">chdev -dev &lt;sea&gt; -attr pvid=&lt;correct_pvid)</span></p><p class="c3"><span class="c4">padmin commands:</span></p><p class="c8"><span class="c4">Remove SEA: </span></p><p class="c3"><span class="c5">rmdev -dev &lt;SEA&gt;</span></p><p class="c3"><span class="c4">Remove a Virtual SCSI Host Adapter:</span></p><p class="c8"><span class="c5">rmdev -dev vhost</span><span class="c5 c15">X </span><span class="c5">-recursive </span></p><p class="c3"><span class="c5">-recursive is used to remove all attached child devices.</span></p><p class="c3"><span class="c4">[padmin@chvio01b]:/home/padmin$ lsdev -type sea</span></p><p class="c3"><span class="c5">name</span></p><p class="c3"><span class="c5">ent14</span></p><p class="c3"><span class="c5">ent15</span></p><p class="c3"><span class="c5">ent16</span></p><p class="c3"><span class="c5">status &nbsp; description</span></p><p class="c3"><span class="c5">Available &nbsp;Shared Ethernet Adapter</span></p><p class="c3"><span class="c5">Available &nbsp;Shared Ethernet Adapter</span></p><p class="c3"><span class="c5">Available &nbsp;Shared Ethernet Adapter</span></p><p class="c3"><span class="c4">List physical locations of ethernet adapters:</span></p><p class="c3"><span class="c4">lsdev -type adapter -field name physloc|grep ent</span></p><ul class="c60 lst-kix_list_6-0 start"><li class="c3 c33 li-bullet-0"><span class="c5">ent0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U5802.001.RCH4530-P1-C8-T1</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li><li class="c3 c33 li-bullet-0"><span class="c5">ent1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U5802.001.RCH4530-P1-C8-T2</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li><li class="c3 c33 li-bullet-0"><span class="c5">ent2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U5802.001.RCH4530-P1-C8-T3</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li><li class="c3 c33 li-bullet-0"><span class="c5">ent3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U5802.001.RCH4530-P1-C8-T4</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li></ul><p class="c8"><span class="c4">Physical Location of Device:(must be physical device)</span><span class="c12">&nbsp;</span><span class="c4">lsdev -dev ent2 -slot</span><span class="c12">&nbsp;</span><span class="c5"># Slot Description Device(s)</span><span class="c11">&nbsp;</span><span class="c5">U5803.001.99201KG-P2-C4 PCI-E capable, Rev 1 slot with 8x lanesent2 ent3 </span></p><p class="c8"><span class="c4 c16">lsslot -c slot </span></p><p class="c8"><span class="c23 c16"># Slot Description Device(s)</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">HEA 1 Logical I/O Slot lhea0 ent0</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">U9117.MMA.06C6DE1-V17-C0 Virtual I/O Slot vsa0</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">U9117.MMA.06C6DE1-V17-C2 Virtual I/O Slot ent1</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">U9117.MMA.06C6DE1-V17-C20 Virtual I/O Slot vscsi0</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">U9117.MMA.06C6DE1-V17-C22 Virtual I/O Slot vscsi1</span><span class="c20 c16">&nbsp;</span><span class="c23 c45">U9117.MMA.06C6DE1-V17-C30 Virtual I/O Slot Unknown </span><span class="c23 c16">&lt;- right after the completed DLPAR operation, adding a virtual fibre channel client adapter </span></p><p class="c8"><span class="c4 c16">cfgmgr </span></p><p class="c8"><span class="c4 c16">s </span></p><p class="c8"><span class="c4 c16">lsslot -c slot </span></p><p class="c8"><span class="c23 c16"># Slot Description Device(s)</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">HEA 1 Logical I/O Slot lhea0 ent0</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">U9117.MMA.06C6DE1-V17-C0 Virtual I/O Slot vsa0</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">U9117.MMA.06C6DE1-V17-C2 Virtual I/O Slot ent1</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">U9117.MMA.06C6DE1-V17-C20 Virtual I/O Slot vscsi0</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">U9117.MMA.06C6DE1-V17-C22 Virtual I/O Slot vscsi1</span><span class="c16 c20">&nbsp;</span><span class="c23 c45">U9117.MMA.06C6DE1-V17-C30 Virtual I/O Slot fcs0 </span><span class="c23 c16">&lt;- new virtual fibre channel adapter </span></p><p class="c3"><span class="c4">Paging on the VIOS:</span></p><p class="c3"><span class="c5 c43">When a virtual I/O server (VIOS) is first built, it&rsquo;s automatically</span></p><p class="c3"><span class="c5 c43">configured with two page spaces, both on hdisk0. hd6 will be 512 MB</span><span>&nbsp;</span><span class="c5 c43">and paging00 will be 1,024 MB.</span><span>&nbsp;</span><span class="c5 c43">I always swap off paging00 and remove it and then increase hd6 to</span><span>&nbsp;</span><span class="c5 c43">4,096 MB. As mentioned, it&rsquo;s bad practice to have two page spaces</span><span>&nbsp;</span><span class="c5 c43">share the same hdisk.</span></p><p class="c3"><span class="c4">List Links on Physical Ethernet Adapters:</span></p><p class="c3"><span class="c5">netstat -cdlistats | grep -Ei &quot;\(ent|media|link status&quot;</span></p><p class="c3"><span class="c5">ETHERNET STATISTICS (ent3) :</span></p><p class="c3"><span class="c5">Link Status : Up</span></p><p class="c3"><span class="c5">Media Speed Selected: 100 Mbps Full Duplex</span></p><p class="c8"><span class="c5">Media Speed Running: 100 Mbps Full Duplex </span></p><p class="c3"><span class="c4">Etherchannel, MACs and VIO server:</span></p><p class="c3"><span class="c5">The MAC on the switch is for the VIO. I found the best way to analyze</span></p><p class="c3"><span class="c5">the setup is to run a &#39;netstat -i&#39; and note the MAC of the SEA. Then</span></p><p class="c3"><span class="c5">run entstat and verify the MAC (called the &#39;Actor System&#39;). &nbsp;Here is</span></p><p class="c3"><span class="c5">an example</span></p><p class="c3"><span class="c5">lsattr -El ent13</span></p><p class="c3"><span class="c5">adapter_names &nbsp;ent0,ent2,ent4,ent6 EtherChannel Adapters True</span></p><p class="c3"><span class="c5">alt_addr 0x000000000000 Alternate EtherChannel Address True</span></p><p class="c3"><span class="c5">auto_recovery &nbsp;yes &nbsp;Enable automatic recovery after failover True</span></p><p class="c3"><span class="c5">backup_adapter NONE Adapter used when whole channel fails True</span></p><p class="c3"><span class="c5">hash_mode &nbsp;default &nbsp;Determines how outgoing adapter is chosen True</span></p><p class="c3"><span class="c5">mode 8023ad EtherChannel mode of operation True</span></p><p class="c3"><span class="c5">netaddr &nbsp;0 &nbsp;Address to ping True</span></p><p class="c3"><span class="c5">noloss_failover yes &nbsp;Enable lossless failover after ping failure True</span></p><p class="c3"><span class="c5">num_retries &nbsp;3 &nbsp; Times to retry ping before failing True</span></p><p class="c3"><span class="c5">retry_time 1 &nbsp;Wait time (in seconds) between pings True</span></p><p class="c3"><span class="c5">use_alt_addr no Enable Alternate EtherChannel Address True</span></p><p class="c3"><span class="c5">use_jumbo_frame no Enable Gigabit Ethernet Jumbo Frames True</span></p><p class="c3"><span class="c5">entstat -d ent13 | egrep &quot;ent0|ent2|ent4|ent6|Link Status|Speed|Actor</span></p><p class="c3"><span class="c5">System&quot;</span></p><p class="c3"><span class="c5">ETHERNET STATISTICS (ent0) :</span></p><p class="c3"><span class="c5">Link Status : Up</span></p><p class="c3"><span class="c5">Media Speed Selected: Auto negotiation</span></p><p class="c3"><span class="c5">Media Speed Running: 1000 Mbps Full Duplex</span></p><p class="c3"><span class="c5">Actor System Priority: 0x8000</span></p><p class="c3"><span class="c5">Actor System: 00-1A-64-92-66-BA</span></p><p class="c3"><span class="c5">ETHERNET STATISTICS (ent2) :</span></p><p class="c3"><span class="c5">Link Status : Up</span></p><p class="c3"><span class="c5">Media Speed Selected: Auto negotiation</span></p><p class="c3"><span class="c5">Media Speed Running: 1000 Mbps Full Duplex</span></p><p class="c3"><span class="c5">Actor System Priority: 0x8000</span></p><p class="c3"><span class="c5">Actor System: 00-1A-64-92-66-BA</span></p><p class="c3"><span class="c5">ETHERNET STATISTICS (ent4) :</span></p><p class="c3"><span class="c5">Link Status : Up</span></p><p class="c3"><span class="c5">Media Speed Selected: Auto negotiation</span></p><p class="c3"><span class="c5">Media Speed Running: 1000 Mbps Full Duplex</span></p><p class="c3"><span class="c5">Actor System Priority: 0x8000</span></p><p class="c3"><span class="c5">Actor System: 00-1A-64-92-66-BA</span></p><p class="c3"><span class="c5">ETHERNET STATISTICS (ent6) :</span></p><p class="c3"><span class="c5">Link Status : Up</span></p><p class="c3"><span class="c5">Media Speed Selected: Auto negotiation</span></p><p class="c3"><span class="c5">Media Speed Running: 1000 Mbps Full Duplex</span></p><p class="c3"><span class="c5">Actor System Priority: 0x8000</span></p><p class="c3"><span class="c5">Actor System: 00-1A-64-92-66-BA</span></p><p class="c3"><span class="c5">The interface en14 has the same mac address as &quot;Actor System&quot;</span></p><p class="c3"><span class="c5">(00-1A-64-92-66-BA).</span></p><p class="c3"><span class="c5"># netstat -i</span></p><p class="c3"><span class="c5">Name Mtu &nbsp;Network Address &nbsp;ZoneID Ipkts Ierrs Opkts</span></p><p class="c3"><span class="c5">Oerrs Coll</span></p><p class="c3"><span class="c5">en14 1500 link#2 0.1a.64.92.66.ba 160910 0 68113 0 &nbsp;0</span></p><p class="c3"><span class="c5">en14 1500 130.29.133. cosvio2.cos.agilent.com 160910 0 68113 0 0</span></p><p class="c3"><span class="c5">lo0 &nbsp;16896 link#1 126 0 206 0 0</span></p><p class="c3"><span class="c5">lo0 &nbsp;16896 127 &nbsp;localhost 126 0 206 0 0</span></p><p class="c3"><span class="c5">lo0 &nbsp;16896 localhost 0 126 &nbsp;0 206 0 0</span></p><p class="c3"><span class="c4">Seeing WWPNs logging in/out out SAN from VIO Server:</span></p><p class="c3"><span class="c5">oem_setup_env and then alog -o -t cfg &gt; /tmp/alog.config</span></p><p class="c3"><span class="c5">sample output</span></p><p class="c3"><span class="c4">DEBUG your vio commands(shows the background AIX commands)</span></p><p class="c3"><span class="c5">export CLI_DEBUG=33</span></p><p class="c3"><span class="c4">mkvdev -vdev hdiskpower1 -vadapter vhost0 -dev testdisk</span></p><p class="c8"><span class="c5">AIX: &quot;lspv -l hdiskpower1 2&gt;&amp;1 | grep 0516-320&quot;</span><span class="c11">&nbsp;</span><span class="c5">AIX: &quot;export LANG=C;/usr/sbin/pooladm -I pool querydisk /dev/hdiskpower1&quot;</span><span class="c11">&nbsp;</span><span class="c5">AIX: &quot;/usr/sbin/lquerypv -V hdiskpower1&quot;</span><span class="c11">&nbsp;</span><span class="c5">AIX: &quot;mkdev -V hdiskpower1 -p vhost0 -l testdisk &quot; </span><span class="c4">&lt;--this command will be needed </span></p><p class="c3"><span class="c4">Nice! lsmap</span></p><p class="c3"><span class="c4">lsmap -all -field svsa physloc clientid vtd backing bdphysloc status</span></p><p class="c3"><span class="c4">--------------------------------------------------------------------</span></p><p class="c3"><span class="c5">vhost0:U9117.MMD.103E7F7-V2-</span></p><p class="c3"><span class="c5">C401:0x00000000:ap82_altvg:hdiskpower17:U2C4E.001.DBJ6557-P2-C2-T1-</span></p><p class="c3"><span class="c5">L153:Available:ap82_rootvg:hd</span></p><p class="c3"><span class="c5">iskpower16:U2C4E.001.DBJ6557-P2-C2-T1-L152:Available</span></p><p class="c3"><span class="c5">vhost1:U9117.MMD.103E7F7-V2-</span></p><p class="c3"><span class="c5">C403:0x00000004:ap83_altvg:hdiskpower19:U2C4E.001.DBJ6557-P2-C2-T1-</span></p><p class="c3"><span class="c5">L155:Available:ap83_rootvg:hd</span></p><p class="c3"><span class="c5">iskpower18:U2C4E.001.DBJ6557-P2-C2-T1-L154:Available</span></p><p class="c3"><span class="c5">[pepxvn00002][/home/padmin]&gt;lsmap -all -net -field sea</span></p><p class="c8"><span class="c5">SEA ent16 </span></p><p class="c3"><span class="c4">To list mapping of npiv:</span></p><p class="c3"><span class="c5">lsmap -npiv -all</span></p><p class="c3"><span class="c4">Error with a HBA on VIOS?:(only for NPIV)</span></p><p class="c3"><span class="c5">as padmin run: lsnports</span></p><p class="c3"><span class="c4">lsnports Output Field Definitions</span></p><a id="t.70daa2500adf7a434b9337ebad3dca77ae471466"></a><a id="t.1"></a><table class="c74"><tr class="c41"><td class="c37" colspan="1" rowspan="1"><p class="c8"><span class="c5">Field </span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c8"><span class="c5">Description </span></p></td></tr><tr class="c41"><td class="c37" colspan="1" rowspan="1"><p class="c8"><span class="c5">name </span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c8"><span class="c5">Physical port name </span></p></td></tr><tr class="c41"><td class="c37" colspan="1" rowspan="1"><p class="c8"><span class="c5">physloc </span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c8"><span class="c5">Physical port location code </span></p></td></tr><tr class="c41"><td class="c37" colspan="1" rowspan="1"><p class="c8"><span class="c5">fabric </span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c8"><span class="c5">Fabric support 1=yes </span></p></td></tr><tr class="c41"><td class="c37" colspan="1" rowspan="1"><p class="c8"><span class="c5">tports </span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c8"><span class="c5">Total number of NPIV ports </span></p></td></tr><tr class="c41"><td class="c37" colspan="1" rowspan="1"><p class="c8"><span class="c5">aports </span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c8"><span class="c5">Number of available NPIV ports </span></p></td></tr><tr class="c41"><td class="c37" colspan="1" rowspan="1"><p class="c8"><span class="c5">swwpns </span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 309.40px; height: 18.60px;"><img alt="" src="images/image42.png" style="width: 309.40px; height: 18.60px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">Total number of target worldwide port </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 140.53px; height: 18.60px;"><img alt="" src="images/image45.png" style="width: 140.53px; height: 18.60px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">names supported </span></p></td></tr><tr class="c41"><td class="c37" colspan="1" rowspan="1"><p class="c8"><span class="c5">awwpns </span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 322.60px; height: 18.60px;"><img alt="" src="images/image48.png" style="width: 322.60px; height: 18.60px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">Number of target worldwide port names </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 72.87px; height: 18.53px;"><img alt="" src="images/image50.png" style="width: 72.87px; height: 18.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">available </span></p></td></tr></table><p class="c3"><span class="c4">To create a mapping for a VIOC via NPIV thru the VIOS:</span></p><p class="c3"><span class="c5">Create the slot&#39;s on the VIOS and VIOC and then bounce the VIOS(This</span></p><p class="c3"><span class="c5">creates the vfchostX on the VIOS)</span></p><p class="c3"><span class="c5">Then map the VIOC&#39;s vfchost number to the physical HBA on the VIOS(</span></p><p class="c3"><span class="c5">-vadapter vfchostX -fcp fcsX)</span></p><p class="c3"><span class="c4">What is in the PCI slot?</span></p><p class="c3"><span class="c5">/home/padmin # lsslot -c pci</span></p><p class="c3"><span class="c5">Slot &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Description Device(s)</span></p><p class="c3"><span class="c5">U5803.001.992002A-P1-C1 PCI-E capable,Rev 1 slot 8x lanes ent0 ent1</span></p><p class="c3"><span class="c5">U5803.001.992002A-P1-C2 PCI-E capable, Rev 1 with 8x lanes sissas2</span></p><p class="c3"><span class="c5">U5803.001.99200RF-P1-C3 PCI-E capable, Rev 1 slot 8x lanes fcs0</span></p><p class="c3"><span class="c5">U5803.001.99200RF-P2-C2 PCI-E capable, Rev 1 slot 8x lanes sissas1</span></p><p class="c3"><span class="c5">U5803.001.992002A-P2-C3 &nbsp;PCI-E capable, Rev 1 slot 8x lanes fcs1</span></p><p class="c3"><span class="c5">U5803.001.99201LF-P2-C4 &nbsp;PCI-E capable, Rev 1 slot 8x lanes ent2 ent3</span></p><p class="c3"><span class="c5">U5803.001.992002A-P2-C10 PCI-E capable,Rev 1 slot 8x lanes &nbsp;fcs2 fcs3</span></p><p class="c3"><span class="c4">VIO VLAN Commands:</span></p><p class="c3"><span class="c5">lsdev -virtual &nbsp;List the devices and look for the the SEA adapter</span></p><p class="c3"><span class="c5">entstat -all entX &nbsp;at the end it will shows all the VLAN ID&#39;s</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">END OF VIOS INSTALLING </span></p><p class="c3"><span class="c4">Installing AIX using lpar_netboot to populate the ip,nim and gateway:</span></p><p class="c3"><span class="c5">To perform network boot:</span></p><p class="c3"><span class="c5">lpar_netboot [-v] [-x] [-f] [-i] [-E environment [-E ...]] [-g args]</span></p><p class="c3"><span class="c5">[{-A -D | [-D] -l physical-location-code | [-D] -m MAC-address}] -t</span></p><p class="c3"><span class="c5">ent [-T {on|off}] -s speed -d duplex -S server -G gateway -C client</span></p><p class="c3"><span class="c5">[-K subnetmask] [-V vlan_tag] [-Y vlan_priority][[-a -B</span></p><p class="c3"><span class="c5">tftp_image_filename] | -B bootp_image_filename] partition-name</span></p><p class="c3"><span class="c5">partition-profile managed-system</span></p><p class="c3"><span class="c5">To &nbsp;perform ping test along with a network boot of the partition</span></p><p class="c3"><span class="c5">machA with partition profile machA_prof on managed system test_sys</span></p><p class="c3"><span class="c5">and disable firmware spanning tree discovery:</span></p><p class="c3"><span class="c5">lpar_netboot &nbsp;-t ent -T off -D -l &lt;physical-location-code&gt; -s auto -d</span></p><p class="c3"><span class="c5">auto -S 9.3.6.49 -G 9.3.6.1 -C 9.3.6.234 machA machA_prof &quot;test_sys&quot;</span></p><p class="c3"><span class="c5">lpar_netboot &nbsp;-t ent -T off -D -s auto -d auto -S 9.3.6.49 -G 9.3.6.1</span></p><p class="c3"><span class="c5">-C 9.3.6.234 &quot;czapdb317&quot; &quot;czapdb317&quot; &quot;Server-9117-MMD-SN21868A7&quot;</span></p><p class="c8"><span class="c5">OPTIONS </span></p><ul class="c60 lst-kix_list_7-0 start"><li class="c3 c33 li-bullet-0"><span class="c5">-A &nbsp; &nbsp; &nbsp;Return all adapters of the type specified with the -t option.</span></li><li class="c3 c33 li-bullet-0"><span class="c5">-B &nbsp; &nbsp; &nbsp;Network boot image filename,required option if Ipv6 addresses.</span></li><li class="c3 c33 li-bullet-0"><span class="c5">-C &nbsp; &nbsp; &nbsp;The IP address of the partition to network boot.</span></li><li class="c3 c33 li-bullet-0"><span class="c5">-D &nbsp; &nbsp; &nbsp;Perform &nbsp;a ping test and use the adapter that successfully</span></li></ul><p class="c3"><span class="c5">pings the server specified with the -S option.</span></p><p class="c3"><span class="c5">-E &nbsp; &nbsp; Set environment variable setting. &nbsp;The -E LPAR_NETBOOT_DEBUG=1</span></p><p class="c3"><span class="c5">is the &nbsp;same as export LPAR_NETBOOT_DEBUG=1. &nbsp;See ENVIRONMENT.</span></p><p class="c3"><span class="c5">-G &nbsp; &nbsp; gateway IP address of partition specified w/ the -C option.</span></p><p class="c3"><span class="c5">-K &nbsp; &nbsp; Subnetmask IP address.</span></p><p class="c3"><span class="c5">-M &nbsp; &nbsp; Discover network adapter MAC addr and physical location code.</span></p><p class="c3"><span class="c5">-S &nbsp; &nbsp; IP address of machine from which to retrieve network boot</span></p><p class="c3"><span class="c5">image during network boot.</span></p><p class="c3"><span class="c5">-T &nbsp; &nbsp; Enable or disable firmware spanning tree discovery. &nbsp;Valid</span></p><p class="c3"><span class="c5">values &nbsp;are &nbsp;on, off.</span></p><p class="c3"><span class="c5">-V &nbsp; &nbsp; Specifies the VLAN tag identifier to use for tagging Ethernet</span></p><p class="c3"><span class="c5">frames during network install for virtual network communication.</span></p><p class="c3"><span class="c5">Valid value is &nbsp;from &nbsp;0 to 4094.</span></p><p class="c3"><span class="c5">-Y &nbsp; &nbsp; Specifies &nbsp;the &nbsp;VLAN tag priority to use for tagging Ethernet</span></p><p class="c3"><span class="c5">frames during network install for virtual network communication.Valid</span></p><p class="c3"><span class="c5">value is &nbsp;from &nbsp;0 to 7.</span></p><p class="c3"><span class="c5">-a &nbsp; &nbsp; Network ip addresses for server, client and gateway are IPv6.</span></p><p class="c3"><span class="c5">-d &nbsp; &nbsp; The &nbsp;duplex &nbsp;setting &nbsp;of the partition specified with the -C</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">option. Valid values are full, half, and auto.</span></p><ul class="c60 lst-kix_list_8-0 start"><li class="c3 c33 li-bullet-0"><span class="c5">-f &nbsp; &nbsp; &nbsp;Force close the virtual terminal session for the partition.</span></li><li class="c3 c33 li-bullet-0"><span class="c5">-g &nbsp; &nbsp; &nbsp;Specify generic arguments for booting the partition.</span></li></ul><p class="c3"><span class="c5">-i &nbsp; &nbsp; Force immediate shutdown of the partition. &nbsp;If this option &nbsp;is</span></p><p class="c3"><span class="c5">not &nbsp;specified, a delayed shutdown will be performed.</span></p><p class="c3"><span class="c5">-l &nbsp; &nbsp; physical loc code of network adapter to use for network boot.</span></p><ul class="c60 lst-kix_list_1-0 start"><li class="c3 c33 li-bullet-0"><span class="c5">-m &nbsp; &nbsp; &nbsp;MAC address of the network adapter to use for network boot</span></li><li class="c3 c33 li-bullet-0"><span class="c5">-n &nbsp; &nbsp; &nbsp;Instruct the partition to not network boot.</span></li></ul><p class="c3"><span class="c5">-s &nbsp; &nbsp; The speed setting of the partition specified with the &nbsp;-C</span></p><p class="c3"><span class="c5">option. Valid values are 10, 100, 1000, and auto.</span></p><p class="c3"><span class="c5">-t &nbsp; &nbsp; Type of adapter for MAC address or phys loc code discovery or</span></p><p class="c3"><span class="c5">for network boot. The only valid value is ent for ethernet.</span></p><p class="c3"><span class="c5">-v &nbsp; &nbsp; Display additional information during command execution.</span></p><p class="c3"><span class="c5">-x &nbsp; &nbsp; Display debug output during command execution.</span></p><p class="c8"><span class="c4">HMC reference code 0611 on OS load:</span><span class="c12">&nbsp;</span><span class="c4">I reset the nim object</span><span class="c12">&nbsp;</span><span class="c4">exportfs -i /export/nim/spot/spot_viosfp26sp02/usr deallocate resources</span><span class="c12">&nbsp;</span><span class="c4">HMC referenced code 0613 on OS load:</span><span class="c12">&nbsp;</span><span class="c5">Check the default gateway. Betcha its been fat fingered </span><span class="c4">reallocate resources</span><span class="c12">&nbsp;</span><span class="c4">boot up LPAR </span></p><p class="c3"><span class="c4">Logging the fiber in to have WWPNs show up on the SAN side:</span></p><p class="c3"><span class="c5">Boot it into SMS(Attach the fibre to the HBA)</span></p><p class="c3"><span class="c5">Run a scan for hard disks via SMS (5-Boot options, 1-select boot</span></p><p class="c3"><span class="c5">device, 5-Hard drives, 9-Scan)</span></p><p class="c3"><span class="c5">How many drives does my CEC hold:</span></p><p class="c3"><span class="c5">Check out the documentation:</span></p><p class="c8"><span class="c5 c53">http://pic.dhe.ibm.com/infocenter/powersys/v3r1m5/index.jsp?topic=/p7ecr/sasraidconfigs.htm </span><span class="c5">This shows the feature code for the different SAS adapter(2BE and 2BD). not all the results are relevant.</span><span class="c11">&nbsp;</span><span class="c5"># lsvpd | grep -i -e cc -e fc | grep -ie 2BE -ie 2BD </span></p><p class="c3"><span class="c5">*CC 2BDD</span></p><p class="c3"><span class="c5">*CC 2BDA</span></p><p class="c3"><span class="c5">*CC 2BE1</span></p><p class="c3"><span class="c5">*CC 2BD9</span></p><p class="c3"><span class="c5">*CC 2BD6</span></p><p class="c3"><span class="c5">This tells me that it is an 8-drive bay(2BD6)</span></p><p class="c3"><span class="c4">How to get the fibre ports to log into SAN:</span></p><p class="c3"><span class="c5">prereq: HMC 7.730 and vios 2.2.0.13 FP 24 SP3</span></p><p class="c8"><span class="c18 c4 c16">Log in all of the inactive WWPNs assigned to the virtual Fibre Channel client adapters in a partition&rsquo;s current configuration: </span></p><p class="c8"><span class="c5 c16">chnportlogin -m 9117-MMB*1234567 -o login -p clientPartition</span><span class="c11 c18 c16">&nbsp;</span></p><p class="c8"><span class="c4 c16">Log in all of the WWPNs assigned to the virtual Fibre Channel client adapters in a partition profile:</span></p><p class="c3"><span class="c5 c16">chnportlogin -m sys1 -o login -p clientPartition -n defaultProf</span></p><p class="c8"><span class="c4 c16">Log out all of the WWPNs assigned to the virtual Fibre Channel client adapters in a partition profile:</span></p><p class="c8"><span class="c5 c16">chnportlogin -m sys1 -o logout -p clientPartition -n defaultProf </span></p><p class="c3"><span class="c4 c16">REF CODES ERRORS:</span></p><p class="c3"><span class="c5">0c46 when trying to install from NIM found out that during allocation</span></p><p class="c3"><span class="c5">a mksysb, SPOT and LPP source was allocated...BAD ...only allocate</span></p><p class="c3"><span class="c5">the mksysb and SPOT</span></p><p class="c8"><span class="c5">NPIV </span></p><p class="c8"><span class="c4">NPIV set up: </span></p><p class="c8"><span class="c5 c53">https://sites.google.com/site/torontoaix/storage-concepts-how-to-s/npiv http://publib.boulder.ibm.com/infocenter/powersys/v3r1m5/index.jsp? topic=/iphat/iphatvfc.htm&amp;searchQuery=npiv&amp;searchRank=0&amp;pageDepth=2 </span></p><p class="c3"><span class="c4">On VIOC&#39;s using NPIV, set the fiber channel adapters as desired</span></p><p class="c3"><span class="c4">Issue with NPIV adapter at Kaiser:</span></p><p class="c3"><span class="c4">I had many VIOC&#39;s using a mapped vfchost except for 2 VIO&#39;s. I tried</span></p><p class="c3"><span class="c4">to unmap and remap but they would never log in. I found in errlog</span></p><p class="c3"><span class="c4">this related error:</span></p><p class="c3"><span class="c5">LABEL: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;VFC_HOST</span></p><p class="c3"><span class="c5">IDENTIFIER: &nbsp; &nbsp; 7870C5A4</span></p><p class="c3"><span class="c5">Description</span></p><p class="c3"><span class="c5">Virtual FC Host Adapter detected an error</span></p><p class="c3"><span class="c5">Probable Causes</span></p><p class="c3"><span class="c5">Virtual FC Host Adapter Driver is an Undefined State</span></p><p class="c3"><span class="c5">Failure Causes</span></p><p class="c3"><span class="c5">Virtual FC Host Adapter Driver is an Undefined State</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Recommended Actions</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Remove Virtual FC Host Adapter Instance, then Configure the</span></p><p class="c3"><span class="c5">same instance</span></p><p class="c3"><span class="c5">Detail Data</span></p><p class="c3"><span class="c5">ADDITIONAL INFORMATION</span></p><p class="c8"><span class="c5">module: npiv_startinitr 1.61.1.16</span><span class="c11">&nbsp;</span><span class="c4 c39">rc: 0000000000000045 </span><span class="c5">location: 00000618 </span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; data: &nbsp;0 0 0 0</span></p><p class="c3"><span class="c5">IBM support told me that it was the physical connection that was</span></p><p class="c3"><span class="c5">messed up but when I ran lsattr -El fscsi11 it showed connected. So I</span></p><p class="c3"><span class="c5">rebooted and fcs11 never came back. Ended up that the fiber cable was</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.73px; height: 1.53px;"><img alt="" src="images/image38.png" style="width: 26.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.87px; height: 1.53px;"><img alt="" src="images/image86.png" style="width: 24.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 37.40px; height: 1.53px;"><img alt="" src="images/image82.png" style="width: 37.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 19.53px; height: 1.53px;"><img alt="" src="images/image80.png" style="width: 19.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 56.00px; height: 1.53px;"><img alt="" src="images/image81.png" style="width: 56.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 40.07px; height: 1.53px;"><img alt="" src="images/image94.png" style="width: 40.07px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 5.40px; height: 1.53px;"><img alt="" src="images/image43.png" style="width: 5.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 48.00px; height: 1.53px;"><img alt="" src="images/image31.png" style="width: 48.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 5.40px; height: 1.53px;"><img alt="" src="images/image43.png" style="width: 5.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.07px; height: 1.53px;"><img alt="" src="images/image92.png" style="width: 24.07px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 5.40px; height: 1.53px;"><img alt="" src="images/image43.png" style="width: 5.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 11.60px; height: 1.53px;"><img alt="" src="images/image46.png" style="width: 11.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 5.40px; height: 1.53px;"><img alt="" src="images/image43.png" style="width: 5.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 6.27px; height: 1.53px;"><img alt="" src="images/image88.png" style="width: 6.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.87px; height: 1.53px;"><img alt="" src="images/image67.png" style="width: 24.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 376.73px; height: 1.53px;"><img alt="" src="images/image69.png" style="width: 376.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 416.87px; height: 1.53px;"><img alt="" src="images/image68.png" style="width: 416.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">bad and was replaced.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">AIX OS </span></p><p class="c3"><span class="c4 c16">How to remove specific error log entries:</span></p><p class="c3"><span class="c5">errclear -j 16F35C72</span></p><p class="c3"><span class="c4">How to prevent the nfsd subsystem from activating at boot time:</span></p><p class="c3"><span class="c5">Remove/rename the /etc/exports file</span></p><p class="c3"><span class="c4">How to prevent users from a group from logging in:</span></p><p class="c3"><span class="c5">Change the rlogin to false for each member</span></p><p class="c3"><span class="c4">Check for failed login attempts:(w/o -a shows source)</span></p><p class="c3"><span class="c6 c5">who -a /etc/security/failedlogin</span></p><p class="c3"><span class="c5">who -Hu /etc/security/failedlogin</span></p><p class="c3"><span class="c4">How to allow non root users to view crontabs:</span></p><p class="c3"><span class="c5">Enable via sudo &amp; execute cronadm</span></p><p class="c3"><span class="c4">Script crontab additions(END means that @end of file do the print</span></p><p class="c8"><span class="c5">crontab -l|awk&#39;{print}END{print &quot;5 1 * * 1 ksh /usr/local/scripts/AIX_Build_Audit_Script_v3.66.sh&quot;}&#39;|crontab </span><span class="c4">removal:</span><span class="c12">&nbsp;</span><span class="c5">crontab -l | sed &#39;\!echo test &gt;&gt; /tmp/testing!d&#39; | crontab </span></p><p class="c8"><span class="c4 c16">Need to know the location code for adapters that are in defined state? tony </span></p><p class="c8"><span class="c5 c16">lsdev -C -c adapter -F &#39;name class location physloc&#39; </span></p><p class="c8"><span class="c4 c16">That really kewl command that you remembered when talking with Tony: Returns the base file name of a string parameter:</span><span class="c12 c16">&nbsp;</span><span class="c5 c16"># LOG=/tmp/CMAS_VIO_Report_$(hostname)_$(date +%Y%m%d).txt root@czapdb173 /tmp &gt; </span></p><p class="c8"><span class="c5 c16"># echo $LOG /tmp/CMAS_VIO_Report_czapdb173_20150721.txt root@czapdb173 /tmp &gt;</span><span class="c11 c16">&nbsp;</span><span class="c5 c16"># basename $LOG CMAS_VIO_Report_czapdb173_20150721.txt </span></p><p class="c8"><span class="c4 c16">List all devices in Defined state(Accenture): </span></p><p class="c8"><span class="c5 c16">lsdev -Sd -Fname </span></p><p class="c8"><span class="c4 c16">List only fiber cards in the available state in one command: </span></p><p class="c8"><span class="c5 c16">lsdev -C -F name -l fcs* -Sa </span></p><p class="c8"><span class="c4 c16">Remove all devices in Defined state: </span></p><p class="c8"><span class="c5 c16">lsdev -Sd -Fname | xargs -n 1 rmdev -Rdl </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c4 c16">Define variable of connected fiber cards: </span></p><p class="c8"><span class="c5 c16">FIBER_CARDS=$(lsdev -C -F name -l fcs* -Sa) # fibers in AVAILABLE state # find their parents fscsiX</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">FIBER_CARD_PARENT=$(</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">for i in ${FIBER_CARDS} </span></p><p class="c8"><span class="c5 c16">do</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">lsdev -p $i -F name -Sa done) </span></p><p class="c8"><span class="c4 c16"># tests if the fibers are connected to a switch </span></p><p class="c8"><span class="c5 c16">for i in ${FIBER_CARD_PARENT}</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">do</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">if [[ $(lsattr -El ${i} -F value -a attach) == &quot;switch&quot; ]];then CONNECTED_FIBER_CARDS=${CONNECTED_FIBER_CARDS}&quot; ${i}&quot;</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">fi</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">done</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">FCS_CONNECTED=$(echo ${CONNECTED_FIBER_CARDS}|sed s/fscsi/fcs/g)# These are fcsX&#39;s that are connected to the switch </span></p><p class="c8"><span class="c4 c16">Remove all networking:(Accenture) </span></p><p class="c8"><span class="c5 c16">rmtcpip </span></p><p class="c8"><span class="c4 c16">Remove each interface: </span></p><p class="c8"><span class="c5 c16">for if in $(lsdev -Cc if | awk &#39;{print $1}&#39;) do</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">ifconfig $if down detach</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">rmdev -Rdl $if </span></p><p class="c8"><span class="c5 c16">done </span></p><p class="c8"><span class="c4 c16">List the interface and its location code: </span></p><p class="c8"><span class="c5 c16">lscfg -l ent* lscfg -l fcs* </span></p><p class="c8"><span class="c4 c16">lsdev -Cc adapter </span></p><p class="c8"><span class="c5 c16">ent0 Available Logical Host Ethernet Port (lp-hea)</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">ent1 Available Virtual I/O Ethernet Adapter (l-lan)</span><span class="c11 c16">&nbsp;</span><span class="c5 c45">fcs0 Available 30-T1 Virtual Fibre Channel Client Adapter</span><span class="c5 c16">&lt;- new virtual fibre channel adapter lhea0 Available Logical Host Ethernet Adapter (l-hea)</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">vsa0 Available LPAR Virtual Serial Adapter</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">vscsi0 Available Virtual SCSI Client Adapter</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">vscsi1 Available Virtual SCSI Client Adapter </span></p><p class="c8"><span class="c4 c16">Getting WWPNS from fiber adapter:</span></p><p class="c8"><span class="c4 c16">lscfg -vl fcs0|awk &#39;/fcs/ || /Netw/ {print}&#39;</span></p><p class="c8"><span class="c5 c16">fcs0 U9117.MMA.06C6DE1-V17-C30-T1 Virtual Fibre Channel Client Adapter</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">Network Address.............</span><span class="c4 c56">C050760035A8008C </span><span class="c5 c18 c16">&lt;- virtual fibre channel adapter WWPN (using NPIV) </span></p><p class="c8"><span class="c18 c4 c16">Script to gather from AIX both WWPN numbers:</span></p><p class="c8"><span class="c5 c18 c16">lsdev -Cc adapter|awk &#39;/fcs/ {print $1,$3}&#39;|while read fcs slot</span></p><p class="c8"><span class="c5 c18 c16">do</span></p><p class="c8"><span class="c5 c18 c16">wwpn=` lscfg -vl $fcs | grep -i network | cut -c 37-60`</span></p><p class="c8"><span class="c5 c18 c16">wwpn1=` lscfg -vl $fcs | grep -i Hardware | cut -c 47-64`</span></p><p class="c8"><span class="c5 c18 c16">echo $fcs $slot $wwpn1 $wwpn</span></p><p class="c8"><span class="c5 c18 c16">done</span></p><p class="c8 c29"><span class="c5 c16 c18"></span></p><p class="c3"><span class="c4">What are the valid values for an attribute:(if you dont know the</span><span>&nbsp;</span><span class="c4">attributes then -E instead of -R)</span></p><p class="c3"><span class="c5">lsattr -Rl ent0 -a media_speed</span></p><p class="c3"><span class="c5">10_Half_Duplex</span></p><p class="c3"><span class="c5">10_Full_Duplex</span></p><p class="c3"><span class="c5">100_Half_Duplex</span></p><p class="c3"><span class="c5">100_Full_Duplex</span></p><p class="c3"><span class="c5">1000_Full_Duplex</span></p><p class="c3"><span class="c5">Auto_Negotiation</span></p><p class="c3"><span class="c4">What VLAN is tied to the ethernet card:</span></p><p class="c3"><span class="c5">/home/padmin # lsattr -El ent14</span></p><p class="c3"><span class="c5">base_adapter ent11 VLAN Base Adapter True</span></p><p class="c3"><span class="c5">vlan_priority 0 &nbsp;VLAN Priority &nbsp;True</span></p><p class="c3"><span class="c5">vlan_tag_id &nbsp;1311 VLAN Tag ID &nbsp;True</span></p><p class="c8"><span class="c4">grep option and exit status:</span></p><p class="c8"><span class="c6 c4">-q suppresses output but exit code tell shows ibmtech in passwd file </span></p><p class="c8"><span class="c5">/root# grep -q ibmtech /etc/passwd;echo $?</span><span class="c11">&nbsp;</span><span class="c5">0</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c4">or a more elegant way:</span></p><p class="c8"><span class="c5">if grep -q root /etc/passwd;then</span><span class="c11">&nbsp;</span><span class="c5">echo root is in passwd file</span><span class="c11">&nbsp;</span><span class="c5">else</span><span class="c11">&nbsp;</span><span class="c5">echo root is not in passwd file</span><span class="c11">&nbsp;</span><span class="c5">fi </span></p><p class="c3"><span class="c4">Disk performance:</span></p><p class="c3"><span class="c4">To measure disk Read throughput:</span></p><p class="c8"><span class="c4">[root@cgnim01a]:/home/root# </span><span class="c5">time dd if=/mksysb/1000m of=/dev/null bs=1024k</span><span class="c11">&nbsp;</span><span class="c4">1000+0 records in.</span><span class="c12">&nbsp;</span><span class="c4">1000+0 records out. </span></p><p class="c3"><span class="c4">real 0m6.12s</span></p><p class="c3"><span class="c4">user 0m0.00s</span></p><p class="c3"><span class="c4">sys &nbsp;0m1.31s</span></p><p class="c3"><span class="c4">divide the 1GB file by the time it took to read(6.12) = ~167MB/s</span></p><p class="c3"><span class="c4">This read performance is well within the bounds of handling a gigabit</span></p><p class="c3"><span class="c4">network(125MB/s theoretical limit, 100megabit network, 12.5MB/s)</span></p><p class="c3"><span class="c4">To measure disk Write throughput:(creates a 1GB file which can be</span></p><p class="c3"><span class="c4">used for read test)</span></p><p class="c8"><span class="c4">/home/root# </span><span class="c5">sync; date; dd if=/dev/zero of=/mksysb/1000m bs=1024k count=1000; date; sync; date</span><span class="c11">&nbsp;</span><span class="c4">Wed Jan 26 16:31:12 PST 2011</span><span class="c12">&nbsp;</span><span class="c4">1000+0 records in. </span></p><p class="c3"><span class="c4">1000+0 records out.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c4">Wed Jan 26 16:31:21 PST 2011</span></p><p class="c3"><span class="c4">Wed Jan 26 16:31:22 PST 2011</span></p><p class="c3"><span class="c4">divide the 1GB file by the time it took to write(16:31:21 - 16.31.12</span></p><p class="c3"><span class="c4">= 9 sec) = ~113 MB/s</span></p><p class="c3"><span class="c4">This write performance is in range of the bounds of a gigabit</span></p><p class="c3"><span class="c4">network(125MB/s theoretical limit, 100megabit network, 12.5MB/s)</span></p><p class="c8"><span class="c4">lspath commands:</span><span class="c12">&nbsp;</span><span class="c4">lspath -AHE -l hdisk0 -p vscsi0</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c5">attribute value description user_settable priority 1 Priority True </span></p><p class="c8"><span class="c4">chpath:</span><span class="c12">&nbsp;</span><span class="c4">lspath</span><span class="c12">&nbsp;</span><span class="c6 c5">Enabled hdisk0 </span></p><p class="c8"><span class="c5">vscsi1</span><span class="c11">&nbsp;</span><span class="c6 c5">Failed hdisk1</span></p><p class="c8"><span class="c5">vscsi1</span><span class="c11">&nbsp;</span><span class="c6 c5">Enabled hdisk0</span></p><p class="c8"><span class="c5">vscsi0</span><span class="c11">&nbsp;</span><span class="c5">Enabled hdisk1 vscsi0</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c6 c4">chpath -l hdisk1 -p vscsi1 -s enable </span></p><p class="c27"><span class="c6 c4">lspath shows hdisk in failed state:</span></p><p class="c27"><span class="c6 c5">rmpath &ndash;l hdisk7 &ndash;p vscsi0</span></p><p class="c27"><span class="c6 c5">rmdev -l vscsi0</span></p><p class="c27"><span class="c6 c5">cfgmgr</span></p><p class="c19"><span class="c6 c5"></span></p><p class="c27"><span class="c4">Redirect console messages:</span></p><p class="c27"><span class="c6 c5">second /dev/null</span></p><p class="c19"><span class="c6 c5"></span></p><p class="c27"><span class="c4">Other path/mpio commands:</span></p><p class="c27"><span class="c6 c5">lspcmcfg</span></p><p class="c27"><span class="c6 c5">pcmpath query adapter</span></p><p class="c19"><span class="c0"></span></p><p class="c3"><span class="c4">Change Time Zone in /etc/environment:</span></p><p class="c8"><span class="c6 c5">chtz PST8PDT </span></p><p class="c8"><span class="c6 c5">chtz &lsquo;Amercia/Denver&rsquo;</span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c4">Displays devices of a device class:</span></p><p class="c35"><span class="c6 c5">jtucker007@(chw-partdb-001) jtucker007 $ listdgrp disk</span></p><p class="c35"><span class="c6 c5">hdisk0</span></p><p class="c35"><span class="c6 c5">hdisk1</span></p><p class="c35"><span class="c6 c5">hdisk2</span></p><p class="c35"><span class="c6 c5">hdisk3</span></p><p class="c35"><span class="c6 c5">hdisk4</span></p><p class="c35"><span class="c6 c5">hdisk5</span></p><p class="c35 c29"><span class="c0"></span></p><p class="c3"><span class="c4">So if you have a RAID SAS adapter you can configure hardware RAID on</span></p><p class="c3"><span class="c4">AIX! Who knew! BUT Aaron Dunphy said that performance generally sucks</span></p><p class="c3"><span class="c4">and that must be the reason I personally never used it nor knew about</span></p><p class="c3"><span class="c4">it!</span></p><p class="c3"><span class="c5">smitty device -&gt; disk array -&gt; IBM SAS array</span></p><p class="c3"><span class="c4">Adding telnet to a different port:</span></p><p class="c8"><span class="c5">vi /etc/inetd.conf:</span><span class="c11">&nbsp;</span><span class="c6 c5">telnet80 stream tcp6 nowait root /usr/sbin/telnetd telnetd</span></p><p class="c8"><span class="c4">Note: Port number 80 is being used in this example.</span><span class="c12">&nbsp;</span><span class="c5">vi /etc/services:</span><span class="c11">&nbsp;</span><span class="c5">telnet80 80/tcp</span><span class="c11">&nbsp;</span><span class="c4">then:</span><span class="c12">&nbsp;</span><span class="c5">refresh -s inetd </span></p><p class="c3"><span class="c4">So to comment out nfs:</span></p><p class="c3"><span class="c5">boot disk into service mode(make sure you know root password) and</span></p><p class="c3"><span class="c5">modify /etc/inittab and comment out:</span></p><p class="c3"><span class="c5">:rcnfs:23456789:wait:/etc/rc.nfs &gt; /dev/console 2&gt;&amp;1 # Start NFS</span></p><p class="c3"><span class="c5">Daemons</span></p><p class="c8"><span class="c4">/home and other file systems dont mount on boot:(Faisal)</span><span class="c12">&nbsp;</span><span class="c4">Check to see if this line is commented out or missing in /etc/inittab </span><span class="c5">rc:23456789:wait:/etc/rc 2&gt;&amp;1 | alog -tboot &gt; /dev/console # Multi- User checks </span></p><p class="c3"><span class="c4">Iterate thru a directory and email contents:</span></p><p class="c3"><span class="c5">for i in $(ls)</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo $i</span></p><p class="c3"><span class="c5">done | mail -s&quot;lets see&quot; </span><span class="c5 c88">jmtucker@us.ibm.com</span></p><p class="c3"><span class="c4">email attachment from command line:</span></p><p class="c3"><span class="c5">uuencode ~/HMC_output my_attachment|mail -s&quot;lets see&quot;</span></p><p class="c3"><span class="c5">jmtucker@us.ibm.com</span></p><p class="c3"><span class="c4">Prevent users from logging into server:</span></p><p class="c3"><span class="c5">touch /etc/nologin</span></p><p class="c3"><span class="c5">(Content of file will be displayed when non-root users try to</span></p><p class="c3"><span class="c5">connect)</span></p><p class="c8"><span class="c4">Login error: </span></p><p class="c3"><span class="c5"># su - dwwbprod</span></p><p class="c3"><span class="c5">Cannot set process credentials.</span></p><p class="c3"><span class="c5">Primary group id did not resolve to group name</span></p><p class="c3"><span class="c4">Want to change a user&#39;s shell?</span></p><p class="c8"><span class="c5">chsh </span></p><p class="c3"><span class="c4">Find yesterday&#39;s file:</span></p><p class="c3"><span class="c5">ls -rt &lt;path&gt;|tail -1</span></p><p class="c3"><span class="c4">Disabling the finger Command:(or any other for that matter)</span></p><p class="c3"><span class="c5">chmod 000 /usr/bin/finger</span></p><p class="c3"><span class="c4">Sticky bit:(generally an outdated</span></p><p class="c3"><span class="c5">The sticky bit is a part of a permission set applied to files or</span></p><p class="c3"><span class="c5">folders. The sticky bit prevents others from deleting files from a</span></p><p class="c3"><span class="c5">folder. When the sticky bit is set on a directory,</span></p><p class="c3"><span class="c5">only the owner or root can unlink (delete) or rename the files in</span></p><p class="c3"><span class="c5">that directory. Without the sticky bit, anyone who is able to write</span></p><p class="c3"><span class="c5">to the directory can delete or rename the files.</span></p><p class="c3"><span class="c5">e.g.</span></p><p class="c3"><span class="c5">chmod 1744 report</span></p><p class="c8"><span class="c4">History: </span></p><p class="c8"><span class="c5">fc -l </span></p><p class="c3"><span class="c4">Changing the hostname on inet0:</span></p><p class="c8"><span class="c5 c15">chdev </span><span class="c5">-l </span><span class="c5 c15">inet0 </span><span class="c5">-a </span><span class="c5 c15">hostname</span><span class="c5">=&lt;host_name&gt;</span><span class="c11">&nbsp;</span><span class="c4">note: /etc/rc.net also can change the hostname on boot up </span></p><p class="c3"><span class="c4">What is the serial number of the LPAR:</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 164.47px; height: 1.53px;"><img alt="" src="images/image65.png" style="width: 164.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">lsattr -El sys0 -a systemid | awk -F&quot; |,&quot; &#39;{print $3}&#39;</span></p><p class="c3"><span class="c5">02103CB37</span></p><p class="c3"><span class="c4">Set the system name:</span></p><p class="c3"><span class="c5">uname -S &lt;hostname&gt;</span></p><p class="c3"><span class="c4">View failed logins:</span></p><p class="c3"><span class="c5">who -a /etc/security/failedlogin</span></p><p class="c3"><span class="c4">Monitor the maximum number of processes under DB2 instance ID:</span></p><p class="c3"><span class="c5">ps &ndash;fu db2inst1</span></p><p class="c3"><span class="c4">To show memory segments on system:</span></p><p class="c8"><span class="c5">svmon -S </span></p><p class="c3"><span class="c4">How many AIO&#39;s are running?:</span></p><p class="c3"><span class="c6 c5">pstat -a | grep aios | wc &ndash;l</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">svmon:</span></p><p class="c3"><span class="c6 c4">swap space is for needed but not frequently used process. A candidate goes to swap when it is not needed. Swap doesn&rsquo;t get cleaned up. We can observe and recommend. For instance if we see that an app is using paging, we can report it. And if we see that best practices are not being followed, we can recommend. Mostly likely we recommend more memory because adding more swap doesn&rsquo;t help unless it is to &lsquo;get to best pracitces&rsquo;. Currently we take RAM / 2 + 4 and never going above 32G. Never have a swap space more than 8G. Never have more than 1 swap space on a disk. Allocate 8G disk and use it all. Never remove hd6. swapoff /dev/hd6 if required(not normal)</span></p><p class="c3"><span class="c6 c4">This is a great command!</span></p><p class="c3"><span class="c6 c5">svmon -Pgt 10|perl -lne &lsquo;print if /^\s+Pid|N|Y|^-/&rsquo;</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Top 5 paging processes:</span></p><p class="c3"><span class="c6 c5">svmon -Pgt 5 to understand the top 5 paging process</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c8"><span class="c4">To understand which process is consuming more memory, which lists the top five processes</span><span class="c12">&nbsp;</span><span class="c6 c5">svmon -Put 5</span></p><p class="c8"><span class="c4">Shows top 10 memory usage by process: </span></p><p class="c3"><span class="c5">ps auxw | sort -r +3 |head -10</span></p><p class="c3"><span class="c5">svmon -Pu -t 1 | grep -p Pid | head -2;svmon -Pu -t 15 | grep -p Pid</span></p><p class="c3"><span class="c5">| grep &#39;^.*[0-9]&#39; | grep -v Pid</span></p><p class="c3"><span class="c4">Shows top 10 CPU usage by process:</span></p><p class="c3"><span class="c6 c5">ps auxw | sort -r +2 |head -10</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">is 64K pages being used?:</span></p><p class="c3"><span class="c5">vmstat -P all &lt;--- If there is a line that says 64K then yes 64K</span></p><p class="c3"><span class="c6 c5">pages are being used</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Convert epoch time with perl:</span></p><p class="c3"><span class="c6 c5">perl -e &#39;use POSIX; print strftime(&quot;%c\n&quot;, localtime(1243972006));&#39;</span></p><p class="c3"><span class="c6 c4">perl to get local time:</span></p><p class="c3"><span class="c6 c5">perl -we &quot;print scalar (localtime(time))&quot;</span></p><p class="c3"><span class="c4">PCI adapters information by feature:</span></p><p class="c8"><span class="c5 c53">http://publib.boulder.ibm.com/infocenter/powersys/v3r1m5/index.jsp?topic=/iphcd/fc5773.htm </span></p><p class="c8"><span class="c4">***users*** </span></p><p class="c3"><span class="c4">How to tell if a user is a LDAP user:</span></p><p class="c3"><span class="c5">lsldap -a passwd cmagentp</span></p><p class="c3"><span class="c4">if it returns object not found then its not LDAP or</span></p><p class="c3"><span class="c5">grep &lt;username&gt; /etc/passwd</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.60px; height: 1.53px;"><img alt="" src="images/image75.png" style="width: 35.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 41.80px; height: 1.53px;"><img alt="" src="images/image77.png" style="width: 41.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 55.13px; height: 1.53px;"><img alt="" src="images/image70.png" style="width: 55.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 5.33px; height: 1.47px;"><img alt="" src="images/image55.png" style="width: 5.33px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 51.60px; height: 1.53px;"><img alt="" src="images/image52.png" style="width: 51.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 5.40px; height: 1.53px;"><img alt="" src="images/image43.png" style="width: 5.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 11.60px; height: 1.53px;"><img alt="" src="images/image46.png" style="width: 11.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 11.60px; height: 1.53px;"><img alt="" src="images/image46.png" style="width: 11.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 31.20px; height: 1.53px;"><img alt="" src="images/image40.png" style="width: 31.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 16.80px; height: 1.53px;"><img alt="" src="images/image12.png" style="width: 16.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.13px; height: 1.53px;"><img alt="" src="images/image13.png" style="width: 7.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 27.60px; height: 1.53px;"><img alt="" src="images/image61.png" style="width: 27.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image62.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 31.20px; height: 1.53px;"><img alt="" src="images/image40.png" style="width: 31.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 11.60px; height: 1.53px;"><img alt="" src="images/image46.png" style="width: 11.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 31.07px; height: 1.53px;"><img alt="" src="images/image60.png" style="width: 31.07px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c4">if it is there then its not LDAP(its local)</span></p><p class="c8"><span class="c4">Configuring LDAP(at AMEX):</span><span class="c12">&nbsp;</span><span class="c4">Make a copy of the existing configuration:</span><span class="c12">&nbsp;</span><span class="c4"># cp -p /etc/security/ldap/ldap.cfg </span><span class="c5">/etc/security/ldap/ldap.cfg.$ (date)</span><span class="c11">&nbsp;</span><span class="c4">Edit the LDAP configuration:</span><span class="c12">&nbsp;</span><span class="c5">vi /etc/security/ldap/ldap.cfg</span><span class="c11">&nbsp;</span><span class="c4">Change line: ldapservers:authp1.ipc.us.aexp.com,authp2.ipc.us.aexp.com</span><span class="c12">&nbsp;</span><span class="c4">TO : ldapservers:AUTHP2.app.aexp.com,AUTHP1.app.aexp.com</span><span class="c12">&nbsp;</span><span class="c4">Restart the LDAP client</span><span class="c12">&nbsp;</span><span class="c5">/usr/sbin/restart-secldapclntd</span><span class="c11">&nbsp;</span><span class="c4">List the LDAP clients:</span><span class="c12">&nbsp;</span><span class="c5">ldapclient list</span><span class="c11">&nbsp;</span><span class="c4">The new ldap servers should be listed</span><span class="c12">&nbsp;</span><span class="c4">Also you can check the network service list:</span><span class="c12">&nbsp;</span><span class="c5">netstat -an | grep 389</span><span class="c11">&nbsp;</span><span class="c4">will show the port connect to new ldap IP </span></p><p class="c3"><span class="c4">How to change a users password when LDAP is installed:</span></p><p class="c3"><span class="c5">chuser -R files maxage=0 cmagentp</span></p><p class="c3"><span class="c4">This changes the local user cmagentp</span></p><p class="c3"><span class="c4">Change group ownership only:</span></p><p class="c3"><span class="c5">chgrp -R &lt;group&gt; &lt;dir or file&gt;</span></p><p class="c3"><span class="c4">Add members amayer and jwarrior to group printq:</span></p><p class="c3"><span class="c5">chgrpmem -m + amayer,jwarrior printq</span></p><p class="c3"><span class="c4">***logical volumes***</span></p><p class="c3"><span class="c4">Make Logical Volume:</span></p><p class="c3"><span class="c5">/usr/sbin/mklv -y&#39;usrsapu41lv&#39; -e&#39;x&#39; &nbsp;-t&#39;jfs2&#39; u41_01vg 40</span></p><p class="c3"><span class="c4">Add copy LV to another disk:</span></p><p class="c3"><span class="c5">/usr/sbin/mklvcopy ibipslv 2 hdiskpower3</span></p><p class="c3"><span class="c4">Remove a copy LV from a disk:</span></p><p class="c3"><span class="c6 c5">/usr/sbin/rmlvcopy ibipslv 1 hdiskpower1</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">Logical Volumes:</span></p><p class="c3"><span class="c4">lvcb logical volume control block</span></p><p class="c3"><span class="c4">Look at the LVCB of a LV:</span></p><p class="c3"><span class="c6 c5">getlvcb -AT backuptsm_lv</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">Write to lvcb: This command has multibos attributes(mb)</span></p><p class="c3"><span class="c6 c5">putlvcb -f mb=27A718EDADC2C3F5:mbverify=1:mbs=true hd5<br>putlvcb -L standby_bootlv hd5<br></span></p><p class="c8"><span class="c4">extendlv: </span></p><p class="c3"><span class="c5">extendlv &lt;lv_name&gt; &lt;#_of_pp&#39;s&gt;</span></p><p class="c3"><span class="c4">Migrate LV&rsquo;s from one disk to another:</span></p><p class="c3"><span class="c5">migratepv hdisk1 hdisk2</span></p><p class="c3"><span class="c5">migratepv -l datalv hdisk3 hdisk9</span></p><p class="c3"><span class="c4">copy from one lv to another:</span></p><p class="c3"><span class="c5">chlv -t copy &lt;destination_lv&gt;</span></p><p class="c3"><span class="c5">cplv -e &lt;destination_lv&gt; -f &lt;source_lv&gt;</span></p><p class="c3"><span class="c4">***file systems***</span></p><p class="c3"><span class="c4">Create File System:</span></p><p class="c3"><span class="c5">crfs -v jfs2 -d &lt;lv_name&gt; -m /install -p rw -A yes</span></p><p class="c3"><span class="c5">mount /install</span></p><p class="c3"><span class="c4">Create, mount and copy an iso image:</span></p><p class="c3"><span class="c4 c77">Create a filesystem:</span></p><p class="c3"><span class="c5 c77">mklv -y cdlv -s n -L /dev/cdlv &lt;vg_name&gt; 1G hdisk0</span></p><p class="c3"><span class="c4 c77">Now dd the &quot;iso&quot; image into the lv:</span></p><p class="c3"><span class="c5 c77">dd if=/opt/software/iso/fim_console_rios_aix_5.iso of=/dev/cdlv</span></p><p class="c3"><span class="c4 c77">change the attributes of a file system</span></p><p class="c8"><span class="c5 c77">mount -v cdrfs -o ro /dev/cdlv /mnt/iso</span><span class="c11 c77">&nbsp;</span><span class="c5 c77">mount /mnt/iso (mkdir the mount point if this fails) cd /mnt/iso</span><span class="c11 c77">&nbsp;</span><span class="c4 c77">When done, remove the filesystem/unmount, enter: </span><span class="c5 c77">umount /mnt/iso</span><span class="c11 c77">&nbsp;</span><span class="c5 c77">rmlv -f cdlv </span></p><p class="c3"><span class="c4 c77">OR</span></p><p class="c3"><span class="c4 c77">In AIX 6.1 TL4:</span></p><p class="c3"><span class="c5">loopmount -i &lt;name_of_iso&gt; -o &quot;-V cdrfs -o ro&quot; -m /mnt</span></p><p class="c3"><span class="c4">Creating a VLAN inside of AIX:</span></p><p class="c3"><span class="c5">mkdev -c adapter -s vlan -t eth -a base_adapter=&#39;ent4&#39; -a</span></p><p class="c3"><span class="c5">vlan_tag_id=&#39;1319&#39;</span></p><p class="c3"><span class="c4">VIOC disk changes when VIOS is using power disks:</span></p><p class="c3"><span class="c5">chdev -l hdisk1 -a hcheck_interval=20 -P</span></p><p class="c3"><span class="c5">chdev -l hdisk1 -a queue_depth=32 -P (matches the queue depth on the</span></p><p class="c3"><span class="c5">VIOS hdiskpower device)</span></p><p class="c3"><span class="c4">Hot Swapable:</span></p><p class="c3"><span class="c5">If the device is allocated to an LPAR/VIOS use smitty devices &gt; Hot</span></p><p class="c3"><span class="c5">swapable and remove/replace it that way</span></p><p class="c3"><span class="c4">NIC ineterface in stopped state:(need to add how to fix)</span></p><p class="c3"><span class="c5">lsdev -l en4</span></p><p class="c3"><span class="c5">en4 Stopped 08-21 Standard Ethernet Network Interface</span></p><p class="c3"><span class="c4">Pound sign as a mount point:</span></p><p class="c3"><span class="c4">vi /etc/filesystems and use * to rem out lines</span></p><p class="c3"><span class="c4">Look inside a mksysb:f means file, -l shows info about VG backup</span></p><p class="c3"><span class="c5">lsmksysb -lf P2_1202_TL7.mk</span></p><p class="c3"><span class="c4">Get the LPP info from mksysb: L means display LPP info, f means file</span></p><p class="c3"><span class="c4">lsmksysb -Lf P2_1202_TL7.mk</span></p><p class="c3"><span class="c4">List the files contained in the mksysb:</span></p><p class="c3"><span class="c5">lsmksysb -f &lt;mksysb_file&gt;</span></p><p class="c8"><span class="c4">Restore the image.data(or any file for that matter) from a mksysb (-d restores a whole directory):</span><span class="c12">&nbsp;</span><span class="c5 c16">restore -xqvf &lt;/location/of/mksysb/file&gt; ./image.data </span><span class="c4 c16">&lt;-file restore </span></p><p class="c3"><span class="c4 c16">Break the mirror in image.data:</span></p><p class="c3"><span class="c5 c16">What you are looking for are the &ldquo;lv_data&rdquo; stanzas. There will be one</span><span>&nbsp;</span><span class="c5 c16">for every logical volume associated with rootvg. The following is an</span><span>&nbsp;</span><span class="c5 c16">example of an lv_data stanza from an image.data file of a mirrored</span><span>&nbsp;</span><span class="c5 c16">rootvg. The lines that need changing are marked with an ---&gt;, will be</span><span>&nbsp;</span><span class="c5 c16">bold, and a slightly larger font:</span></p><p class="c8"><span class="c5 c16">lv_data:</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">VOLUME_GROUP= rootvg</span><span class="c11 c16">&nbsp;</span><span class="c4 c39">LV_SOURCE_DISK_LIST= hdisk0 hdisk1 &lt;------- </span><span class="c5 c16">LV_IDENTIFIER= 000693da00004c00000001203de2aa29.14 LOGICAL_VOLUME= fslv01</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">VG_STAT= active/complete</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">TYPE= jfs2</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">MAX_LPS= 512</span><span class="c11 c16">&nbsp;</span><span class="c4 c39">COPIES= 2 &lt;--------</span><span class="c12 c39">&nbsp;</span><span class="c5 c16">LPs= 20</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">STALE_PPs= 0</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">INTER_POLICY= minimum</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">INTRA_POLICY= middle</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">MOUNT_POINT= /chris</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">MIRROR_WRITE_CONSISTENCY= on/ACTIVE LV_SEPARATE_PV= yes</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">PERMISSION= read/write</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">LV_STATE= opened/syncd</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">WRITE_VERIFY= off</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">PP_SIZE= 256</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">SCHED_POLICY= parallel</span><span class="c11 c16">&nbsp;</span><span class="c4 c39">PP= 40 &lt;---------</span><span class="c12 c39">&nbsp;</span><span class="c5 c16">BB_POLICY= relocatable</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">RELOCATABLE= yes</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">UPPER_BOUND= 32</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">LABEL= /chris</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">MAPFILE=</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">LV_MIN_LPS= 1 </span></p><p class="c3"><span class="c5 c16">STRIPE_WIDTH=</span></p><p class="c3"><span class="c5 c16">STRIPE_SIZE=</span></p><p class="c3"><span class="c5 c16">SERIALIZE_IO= no</span></p><p class="c3"><span class="c5 c16">FS_TAG= vfs=jfs2:log=/dev/hd8:mount=true:options=rw:account=false</span></p><p class="c3"><span class="c5 c16">DEV_SUBTYP=</span></p><p class="c8"><span class="c5 c16">***</span><span class="c4 c16">Note</span><span class="c5 c16">: There are two disks in the &#39;LV_SOURCE_DISK_LIST&#39;, THE &#39;COPIES&#39; value reflects two copies, and the &#39;PP&#39; value is double that of the &#39;LPs&#39; value. </span></p><p class="c3"><span class="c5 c16">4. The following is an example of the same lv_data stanza after</span><span>&nbsp;</span><span class="c5 c16">manually breaking the mirror. The lines that have been changed are</span><span>&nbsp;</span><span class="c5 c16">marked with a ---&gt;, will be bold, and a slightly larger font. Edit</span><span>&nbsp;</span><span class="c5 c16">each &#39;lv_data&#39; stanza in the /image.data.mksysb file as shown below</span><span>&nbsp;</span><span class="c5 c16">to break the mirrors:</span></p><p class="c8"><span class="c5 c16">lv_data:</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">VOLUME_GROUP= rootvg</span><span class="c11 c16">&nbsp;</span><span class="c4 c39">LV_SOURCE_DISK_LIST= hdisk0 &lt;-----------</span><span class="c12 c39">&nbsp;</span><span class="c5 c16">LV_IDENTIFIER= 000693da00004c00000001203de2aa29.14 LOGICAL_VOLUME= fslv01</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">VG_STAT= active/complete</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">TYPE= jfs2</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">MAX_LPS= 512</span><span class="c11 c16">&nbsp;</span><span class="c4 c39">COPIES= 1 &lt;--------------</span><span class="c12 c39">&nbsp;</span><span class="c5 c16">LPs= 20</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">STALE_PPs= 0</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">INTER_POLICY= minimum</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">INTRA_POLICY= middle</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">MOUNT_POINT= /chris</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">MIRROR_WRITE_CONSISTENCY= on/ACTIVE</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">LV_SEPARATE_PV= yes</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">PERMISSION= read/write</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">LV_STATE= opened/syncd</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">WRITE_VERIFY= off</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">PP_SIZE= 256</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">SCHED_POLICY= parallel</span><span class="c11 c16">&nbsp;</span><span class="c4 c39">PP= 20 &lt;------------</span><span class="c12 c39">&nbsp;</span><span class="c5 c16">BB_POLICY= relocatable</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">RELOCATABLE= yes</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">UPPER_BOUND= 32</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">LABEL= /chris</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">MAPFILE=</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">LV_MIN_LPS= 1</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">STRIPE_WIDTH=</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">STRIPE_SIZE=</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">SERIALIZE_IO= no</span><span class="c11 c16">&nbsp;</span><span class="c5 c16">FS_TAG= vfs=jfs2:log=/dev/hd8:mount=true:options=rw:account=false DEV_SUBTYP= </span></p><p class="c8"><span class="c5 c16">***</span><span class="c4 c16">Note</span><span class="c5 c16">: The &#39;LV_SOURCE_DISK_LIST&#39; has been reduced to one disk, the &#39;COPIES&#39; value has been changed to reflect one copy, and the &#39;PP&#39; value has been changed so that it is equal to the &#39;LPs&#39; value. </span></p><p class="c3"><span class="c4">Oracle large page size:</span></p><p class="c3"><span class="c5">vmo -p -o lgpg_regions=256 -o lgpg_size=16777216</span></p><p class="c8"><span class="c4">Proctect ssh from being killed when AIX runs out of memory: You can protect things if you want..</span><span class="c12">&nbsp;</span><span class="c4">&ndash; ( AIX OOM ) &lt;- out of memory</span><span class="c12">&nbsp;</span><span class="c5">grep ssh /etc/passwd sshd:*:202:201::/var/empty:/usr/bin/ksh </span></p><p class="c3"><span class="c5">vmo -o nokilluid=202</span></p><p class="c3"><span class="c4">User IDs lower than this value will be exempt from getting killed due</span></p><p class="c3"><span class="c4">to low page-space</span></p><p class="c3"><span class="c4">conditions.</span></p><p class="c3"><span class="c4">0516-013 varyonvg: The volume group cannot be varied on because</span></p><p class="c3"><span class="c4">there are no good copies of the descriptor area.</span></p><p class="c3"><span class="c5">I did a few lquerypv and lqueryvg and seen that there was &#39;something&#39;</span></p><p class="c3"><span class="c5">in them. one of the VG&#39;s I was able to export then import with</span></p><p class="c3"><span class="c5">success. The other VG&#39;s I tried the same thing but ended up</span></p><p class="c3"><span class="c6 c5">recreating them and doing a restore :(</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c4">lsvg shows &ldquo;unable to find device id&rdquo; and a vgid ####</span></p><p class="c3"><span class="c5">lvaryoffvg -g &lt;that_big_ol_vgid_number&gt;</span></p><p class="c3"><span class="c4">How to make an account non-expiring:</span></p><p class="c3"><span class="c5">chuser maxage=0 &lt;user_name&gt;</span></p><p class="c3"><span class="c4">Reset unsuccessful login count:</span></p><p class="c3"><span class="c6 c5">chuser unsuccessful_login_count=0 &lt;user_name&gt;</span></p><p class="c3"><span class="c6 c5">or</span></p><p class="c3"><span class="c6 c2">chsec -f /etc/security/lastlog -a &ldquo;unsuccessful_login_count=0&rdquo; -s &lt;user_name&gt;</span></p><p class="c3"><span class="c6 c52 c50 c38">server doesn&rsquo;t have date +%s: (look at epoch converted perl -we &quot;print scalar localtime 1508863283&quot;)</span></p><p class="c3"><span class="c6 c2">/usr/bin/chsec -f /etc/security/passwd -s mercury -a &quot;lastupdate=`lsuser -c -a time_last_login mercury|grep &nbsp;-v \#|awk -F: &#39;{print $2}&#39;`&rdquo;</span></p><p class="c3"><span class="c6 c4">If a user&rsquo;s need reset his passwd week count with out changing maxage of a user:</span></p><p class="c3"><span class="c6 c5">chsec -f /etc/security/passwd -s qsight -a &quot;lastupdate=1497910186&quot;</span></p><p class="c3"><span class="c6 c5">the number is in epoch(date + %s)</span></p><p class="c3"><span class="c6 c23 c46">chsec -f /etc/security/passwd -s mercury -a &quot;lastupdate=`date +%s`&quot;</span></p><p class="c3"><span class="c6 c4">authentication log file:</span></p><p class="c3"><span class="c6 c5">/var/log/auth.log</span></p><p class="c3"><span class="c6 c5">Fun to tail &ndash;f it and just watch</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Does a file set require a server reboot?</span></p><p class="c3"><span class="c5">Check the header on the file set and see if one of the fields has a N</span></p><p class="c3"><span class="c5">or b...a N means no reboot; b means reboot</span></p><p class="c3"><span class="c5">e.g.:head &lt;lpp_name_</span></p><p class="c8"><span class="c4">Locale:</span><span class="c12">&nbsp;</span><span class="c4">To change the default language:(reboot required) </span><span class="c5">smitty mle_add_lang</span><span class="c11">&nbsp;</span><span class="c5">locale</span><span class="c11">&nbsp;</span><span class="c4">will return the current locale</span><span class="c12">&nbsp;</span><span class="c5">locale -a</span><span class="c11">&nbsp;</span><span class="c4">Returns all the code pages installed </span></p><p class="c8"><span class="c4">User ID&#39;s: </span></p><p class="c3"><span class="c6 c5">mkuser -a id=999 pgrp=staff &lt;user_name&gt;</span></p><p class="c3"><span class="c6 c5">mkuser gecos=&quot;John Tucker&quot; id=16386 pgrp=&#39;staff&#39; groups=&#39;sysadmingrp&#39; jtucker007-a</span></p><p class="c3"><span class="c6 c5">mkuser gecos=&quot;Andrew Madison&quot; id=13182 pgrp=&#39;staff&#39; groups=&#39;sysadmingrp&#39; amadison004-a</span></p><p class="c3"><span class="c6 c5">mkuser gecos=&quot;Tom Jones&quot; id=16760 pgrp=&#39;staff&#39; groups=&#39;sysadmingrp&#39; tjones059-a</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 537.07px; height: 27.40px;"><img alt="" src="images/image37.png" style="width: 537.07px; height: 27.40px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c4">List child devices:</span></p><p class="c3"><span class="c5">lsdev -p vscsi0</span></p><p class="c3"><span class="c4">Who is my parent device:</span></p><p class="c3"><span class="c5">lsdev -l hdisk9 -F parent</span></p><p class="c8"><span class="c4">To configure rstatd.</span><span class="c12">&nbsp;</span><span class="c4">I did the following(as root):</span><span class="c12">&nbsp;</span><span class="c4">1. Edit /etc/inetd.conf</span><span class="c12">&nbsp;</span><span class="c5">Uncomment or add entry for rstatd</span><span class="c11">&nbsp;</span><span class="c5">Eg</span><span class="c11">&nbsp;</span><span class="c5">rstatd sunrpc_udp udp wait root /usr/sbin/rpc.rstatd rstatd 100001 1- 3 </span></p><p class="c3"><span class="c4">2. Edit /etc/services</span></p><p class="c3"><span class="c5">Uncomment or add entry for rstatd</span></p><p class="c3"><span class="c5">Eg</span></p><p class="c3"><span class="c5">rstatd 100001/udp</span></p><p class="c3"><span class="c4">3. Refresh services</span></p><p class="c3"><span class="c5">refresh -s inetd</span></p><p class="c3"><span class="c4">File rename sytax:</span></p><p class="c3"><span class="c5">date +%d%m%y_%H%M%S &lt;-- just tick it out</span></p><p class="c8"><span class="c4">ln -s syntax: </span></p><p class="c3"><span class="c5">ln -s &lt;real_file&gt; &lt;file_linked_to_real_file&gt;</span></p><p class="c3"><span class="c4">ex:</span></p><p class="c3"><span class="c4">ln -s /home/padmin/unused_disks.sh /usr/bin/avail &lt;- then I could run</span></p><p class="c3"><span class="c4">avail from anywhere and it calls my script in /home/padmin</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3" id="h.gjdgxs"><span class="c4">Directory Tree Structure:</span></p><p class="c3"><span class="c5">find . -type d -print | sed -e &#39;s;[^/]*/;|____;g;s;____|; |;g&#39;</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Fix LV&#39;s in wrong VG:</span></p><p class="c3"><span class="c5">cplv [ -v VolumeGroup ] [ -y NewLogicalVolume | -Y Prefix ]</span></p><p class="c3"><span class="c5">SourceLogicalVolume if you dont specify NewLogicalVolume then system generated one is created</span></p><p class="c3"><span class="c5">umount all</span></p><p class="c3"><span class="c5">cplv -v d72_04vg -y d72db2lvT d72db2lv (the VG here is the new</span></p><p class="c3"><span class="c5">location for the LV)</span></p><p class="c3"><span class="c5">rmlv -f d72db2lv</span></p><p class="c3"><span class="c5">chlv -n d72db2lv d72db2lvT &lt;- -n &lt;new_name&gt; &lt;old_name&gt;</span></p><p class="c3"><span class="c5">mklv -t jfs2log d72_04vg 1</span></p><p class="c3"><span class="c5">logform /dev/loglv03</span></p><p class="c3"><span class="c5">chfs -a log=/dev/rloglv03 /db2/D72</span></p><p class="c3"><span class="c5">cplv -v d72_04vg -y d72db2dumplvT d72db2dumplv</span></p><p class="c3"><span class="c5">rmlv -f d72db2dumplv</span></p><p class="c3"><span class="c5">chlv -n d72db2dumplv d72db2dumplvT</span></p><p class="c3"><span class="c5">chfs -a log=/dev/rloglv03 /db2/D72/db2dump</span></p><p class="c8"><span class="c6 c5">mount all </span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c4">Change the name of a mount point:</span></p><p class="c8"><span class="c6 c5">chfs -m &lt;/new_mount&gt; &lt;/old_mount&gt;</span></p><p class="c8"><span class="c4">Error mounting a filesystem: (this happened after cplv was ran with INLINE logfile(not sure if this is the issue))</span><span class="c12">&nbsp;</span><span class="c5">mount /db2backup</span><span class="c11">&nbsp;</span><span class="c5">Replaying log for /dev/db2backup_lv. </span></p><p class="c3"><span class="c5">mount: /dev/db2backup_lv on /db2backup: Unformatted or incompatible</span></p><p class="c3"><span class="c5">media</span></p><p class="c3"><span class="c4">Remove a filesystem:</span></p><p class="c8"><span class="c5">rmfs /tucker </span></p><p class="c3"><span class="c4">Change file system to mount at reboot:</span></p><p class="c3"><span class="c5">chfs -A yes &lt;file_system&gt;</span></p><p class="c3"><span class="c4">The path information for the binaries can be seen with the &quot;which&quot;</span></p><p class="c3"><span class="c4">command and the related libraries can be seen with the &quot;ldd&quot; command.</span></p><p class="c3"><span class="c4">For example, to copy all the binaries and related libraries for the</span></p><p class="c3"><span class="c4">&quot;ls&quot; command, run the following:</span></p><p class="c3"><span class="c4">Could not load module libc.a(shr.o)</span></p><p class="c3"><span class="c4">Check memory to see if you have enough(512MB aint enough)</span></p><p class="c3"><span class="c4">Check for the presence of un-owned files and directories:</span></p><p class="c3"><span class="c5">find / \( -nouser -o -nogroup \) -ls</span></p><p class="c3"><span class="c4">Check for the presence of world writable files and directories:</span></p><p class="c3"><span class="c5">find / -type f -perm -o+w -exec ls -l {} \;</span></p><p class="c3"><span class="c5">find / -type d -perm -o+w -exec ls -ld {} \;</span></p><p class="c8"><span class="c4">Cron file location and other related things: Allow/Deny:</span><span class="c12">&nbsp;</span><span class="c6 c5">/var/adm/cron/cron.allow /var/adm/cron/cron.deny </span></p><p class="c8"><span class="c6 c4">Also check to see if the user&rsquo;s attribute, daemon, is set to true:</span></p><p class="c8"><span class="c5">lsuser -a daemon &lt;username&gt;</span></p><p class="c3"><span class="c4">users crontabs directory are:</span></p><p class="c3"><span class="c5">/var/spool/cron/crontabs</span></p><p class="c3"><span class="c4">cron job logs file:</span></p><p class="c3"><span class="c5">/var/adm/cron/log</span></p><p class="c3"><span class="c4 c16">Limit the number of logins a user can have:</span></p><p class="c3"><span class="c5">chuser maxulogs=500 cfg2user</span></p><p class="c3"><span class="c4">this creates an entry in /etc/security/user:</span></p><p class="c3"><span class="c4"># which ls | xargs ldd</span></p><p class="c3"><span class="c5">/usr/bin/ls needs:</span></p><p class="c3"><span class="c5">/usr/lib/libc.a(shr.o)</span></p><p class="c3"><span class="c5">/unix</span></p><p class="c3"><span class="c5">/usr/lib/libcrypt.a(shr.o)</span></p><p class="c3"><span class="c5">cfg2user:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; admin = false</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; account_locked = false</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; maxulogs = 500</span></p><p class="c8"><span class="c4">change to a higher value (0 means unlimited)</span><span class="c12">&nbsp;</span><span class="c4">bb_lpar:/ # </span><span class="c5">chuser maxulogs=0 &lt;user&gt; </span><span class="c4">&lt;--changed to unlimited </span></p><p class="c8"><span class="c4">List users: </span></p><p class="c3"><span class="c5">lsuser -c -a id home ALL | sed &#39;/^#.*/d&#39; | tr &#39;:&#39; &#39;\011&#39;</span></p><p class="c8"><span class="c4">List groups: </span></p><p class="c3"><span class="c5">lsgroup -c ALL | sed &#39;/^#.*/d&#39; | tr &#39;:&#39; &#39;\011&#39;</span></p><p class="c3"><span class="c4">What mounted during startup:</span></p><p class="c3"><span class="c5">alog -t boot -o | grep mount</span></p><p class="c3"><span class="c4">Look at console messages:</span></p><p class="c3"><span class="c6 c5">alog -ot console</span></p><p class="c3"><span class="c5">alog &ndash;f /var/adm/ras/conslog &ndash;o | more</span></p><p class="c8"><span class="c4">DSH Notes: </span></p><p class="c3"><span class="c5">dping -f &lt;file_with_hostnames&gt;</span></p><p class="c3"><span class="c5">dsh -q --- Shows entire dsh environment</span></p><p class="c3"><span class="c5">export DSH_NODE_LIST=&lt;your_nodes&gt;</span></p><p class="c3"><span class="c5">export DSH_NODE_RSH=&lt;path_to_ssh&gt; if this is not set then dsh</span></p><p class="c3"><span class="c5">fails(from my experience)</span></p><p class="c3"><span class="c5">export DSH_NODE_OPTS=&quot;-q&quot;</span></p><p class="c3"><span class="c5">Once you set your DSH_NODE_LIST you can execute commands on a sublist</span></p><p class="c3"><span class="c5">of that using -w&lt;nodes_u_wanna_execute_on&gt;</span></p><p class="c3"><span class="c4">Massive reboot command:</span></p><p class="c3"><span class="c5">dsh &quot;echo shutdown -Fr|at now&quot;</span></p><p class="c3"><span class="c5">dsh syntax:</span></p><p class="c3"><span class="c5">dsh -l &lt;username&gt; -n &lt;node1&gt;,&lt;node2&gt; &lt;command&gt;</span></p><p class="c3"><span class="c4">also dshbak is a great reporting tool</span></p><p class="c3"><span class="c5">dsh uptime|dshbak &gt;&gt; /tmp/&lt;some_file_name&gt;</span></p><p class="c3"><span class="c4">dsh: 2617-009 cg1p02a.dts.ca.gov remote shell had exit code 255</span></p><p class="c3"><span class="c5">What I did was a for loop to connect to the FQDN and said &#39;yes&#39; to</span></p><p class="c3"><span class="c5">the accept the certificate then it worked</span></p><p class="c3"><span class="c5">#!/usr/bin/ksh</span></p><p class="c3"><span class="c5">print &quot;User ID ?&quot;</span></p><p class="c3"><span class="c5">read answer1</span></p><p class="c3"><span class="c5">print &quot;Group ID?&quot;</span></p><p class="c3"><span class="c5">read answer2</span></p><p class="c3"><span class="c5">print &quot;Group ?&quot;</span></p><p class="c8"><span class="c5">read answer3 </span></p><p class="c3"><span class="c5">dsh -a mkuser -a id=$answer2 pgrp=sm groups=$answer3 home=/home/</span></p><p class="c3"><span class="c5">$answer1 $answer1</span></p><p class="c3"><span class="c5">dsh -a chuser pwdwarntime=5 histsize=10 maxage=13 minlen=8 minalpha=1</span></p><p class="c3"><span class="c5">minother=2 maxrepeats= mindiff=1 $answer1</span></p><p class="c3"><span class="c4">Which file set is a command linked to:</span></p><p class="c3"><span class="c5">lslpp -w /usr/sbin/powermt</span></p><p class="c3"><span class="c5">/usr/sbin/powermt EMCpower.base File</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">When was a file updated:(Funso)</span></p><p class="c3"><span class="c6 c5">lslpp -ah bos.rte</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c5">Recreate </span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">List filesets and versions on install media:</span></p><p class="c8"><span class="c5">cd /path/to/bffs</span><span class="c11">&nbsp;</span><span class="c5">installp -l -d . </span><span class="c4">&lt;-- or put the file name instead of the dot(.) </span><span class="c5">Fileset Name Level I/U Q Content ==================================================================== Java5.samples 5.0.0.275 I N usr</span><span class="c11">&nbsp;</span><span class="c5"># Java SDK 32-bit Samples</span><span class="c11">&nbsp;</span><span class="c5">Java5.sdk 5.0.0.325 I N usr,root </span></p><p class="c8"><span class="c4">on one line: </span></p><p class="c3"><span class="c5">lslpp -Lqc bos.net.nfs.\* | cut -d: -f2,3,8</span></p><p class="c3"><span class="c5">bos.net.nfs.client:6.1.4.4:Network File System Client</span></p><p class="c3"><span class="c5">bos.net.nfs.server:6.1.4.0:Network File System Server</span></p><p class="c3"><span class="c4">0301-158 bosboot: mkboot failed to create bootimage.</span></p><p class="c3"><span class="c5">0301-165 bosboot: WARNING! Bosboot fialed - do not attempt to boot</span></p><p class="c3"><span class="c5">device.</span></p><p class="c3"><span class="c5">lquerypv -h /dev/hdisk0 -- ok hdisk6 --- ok</span></p><p class="c3"><span class="c5">lqueryvg -Atp hdisk0 -- ok ouptut</span></p><p class="c3"><span class="c5">varyonvg rootvg -- 0516-1296 and 0516-934</span></p><p class="c3"><span class="c5">chpv -va hdisk# --- make a disk avail -- ok</span></p><p class="c3"><span class="c5">syncvg -v rootvg -- running, ok</span></p><p class="c3"><span class="c5">bosboot -ad /dev/hdisk0 --- ok &nbsp;hdisk6 --- ok</span></p><p class="c3"><span class="c4">We also rmdev -dl the extra disks that the OS seen via multipath</span></p><p class="c3"><span class="c4">because I was having issues with the re-install</span></p><p class="c8"><span class="c4">chservices:</span></p><p class="c8"><span class="c4">To add the service, gregsapp, as a udp service on port 1423, enter: </span><span class="c5">chservices -a -v gregsapp -p udp -n 1423 </span></p><p class="c8"><span class="c4">To add the service, gregsapp, as a udp service on port 1423 with an alias of fredsapp:</span></p><p class="c8"><span class="c5">chservices -a -v gregsapp -p udp -n 1423 -u &quot;fredsapp&quot; </span></p><p class="c3"><span class="c4">To change the port of the service specified as gregsapp with a udp</span></p><p class="c3"><span class="c4">protocol to 1456:</span></p><p class="c3"><span class="c5">chservices -c -v gregsapp -p udp -N 1456</span></p><p class="c8"><span class="c4">To deactivate the gregsapp service on udp port 1456 by commenting it out:</span></p><p class="c8"><span class="c5">chservices -d -v gregsapp -p udp -n 1456 </span></p><p class="c8"><span class="c4">Editing the /etc/hosts file with commands: To add an entry in the database:</span></p><p class="c8"><span class="c5">hostent -a 10.0.0.1 -h statermx </span></p><p class="c8"><span class="c4">To add an entry in the database associating an address with a series of host names:</span></p><p class="c8"><span class="c5">hostent -a 192.100.201.7 -h &quot;alpha bravo charlie&quot; </span></p><p class="c3"><span class="c4">To show an entry in the database matching a host name:</span></p><p class="c3"><span class="c5">hostent -s alpha</span></p><p class="c8"><span class="c4">To change the IP address of an entry to a new IP address:</span></p><p class="c8"><span class="c5">hostent -c 192.100.201.7 -i 192.100.201.8 </span><span class="c4">c is old addy, i is new addy </span></p><p class="c3"><span class="c4">Debug the shutdown command:</span></p><p class="c3"><span class="c5">ksh -x /usr/sbin/shutdown -r now 2&amp;1 |tee /tmp/shutdown.out</span></p><p class="c8"><span class="c4">Change ownership and remove locks on hdiskpower devices for Oracle ASM</span><span class="c12">&nbsp;</span><span class="c5">for disk in $(lspv|awk &#39;/^hdiskpower\d*.*none/ {print $1}&#39;)</span><span class="c11">&nbsp;</span><span class="c5">do </span></p><p class="c3"><span class="c5">chown oragrid:oinstall /dev/r$disk</span></p><p class="c3"><span class="c5">chdev &ndash;a reserve_policy=no_reserve &ndash;l $disk</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">/usr/symcli/bin/symcfg discover;/usr/symcli/bin/symcfg list</span></p><p class="c3"><span class="c4">Missing paths on VIOC:</span></p><p class="c3"><span class="c5">Make sure vfcmap&rsquo;s are done. if so, check with EMC</span></p><p class="c3"><span class="c4">To get rootvg onto the powerpath disks run:</span></p><p class="c8"><span class="c5">pprootdev on </span></p><p class="c8"><span class="c4">bootlist shows hdisk(this is as designed) To run bosboot on power disks:</span><span class="c12">&nbsp;</span><span class="c5">pprootdev fix</span><span class="c11">&nbsp;</span><span class="c5">bosboot -a </span></p><p class="c8"><span class="c5">pprootdev on </span></p><p class="c3"><span class="c4">Is a disk bootable?</span></p><p class="c3"><span class="c5">bootinfo -B hdiskX</span></p><p class="c3"><span class="c5">1 means bootable</span></p><p class="c3"><span class="c5">0 means NOT bootable</span></p><p class="c3"><span class="c4">List mount points in VG</span></p><p class="c3"><span class="c5">lsvg -l u61_01vg|awk &#39;!/LV NAME/ &amp;&amp; !/:$/ {print $NF}&#39;</span></p><p class="c3"><span class="c4">Command line NFS mount with /etc/filesystems add:</span></p><p class="c3"><span class="c5">/usr/sbin/mknfsmnt -f &#39;/sapmnt/U11/exe&#39; -d &#39;xu11sapmntexe&#39; -h</span></p><p class="c3"><span class="c5">&#39;pepzfp00024&#39; -M &#39;sys&#39; &#39;-B&#39; &#39;-A&#39; -t &#39;rw&#39; -w &#39;bg&#39; &#39;-Y&#39; &#39;-Z&#39; &#39;-X&#39; &#39;-H&#39;</span></p><p class="c3"><span class="c5">&#39;-j&#39; &#39;-q&#39; &#39;-g&#39;</span></p><p class="c3"><span class="c5">-f local mount point of remote directory</span></p><p class="c3"><span class="c5">-d &nbsp;remote directory</span></p><p class="c3"><span class="c5">-h remote host(NFS Server)</span></p><p class="c3"><span class="c5">-M Security Method</span></p><p class="c3"><span class="c5">-B Adds entry to /etc/filesysmtes and tries to mount it</span></p><p class="c3"><span class="c5">-A /etc/filesystmes automount</span></p><p class="c3"><span class="c5">-t mount type(rw, readwrite &ndash; ro,readonly)</span></p><p class="c3"><span class="c5">-w location (fg foreground,bg background)</span></p><p class="c3"><span class="c5">-Y execution of SUID and SGID</span></p><p class="c3"><span class="c5">-Z device access through this mount is allowed</span></p><p class="c3"><span class="c5">-X server does support long device numbers</span></p><p class="c3"><span class="c5">-H hard mount, continue retrying until the server responds</span></p><p class="c3"><span class="c5">-j acls are not used on this mount</span></p><p class="c3"><span class="c5">-q no posix pathconf information exchanged if mounted NFS Ver2</span></p><p class="c3"><span class="c5">-g Does not direct new files or directories created on the file</span></p><p class="c3"><span class="c5">system to inherit the group ID of the parent directory</span></p><p class="c3"><span class="c4">To set the Max Process to 4096:</span></p><p class="c3"><span class="c5">chdev -l sys0 -a maxuproc=&#39;4096&#39;</span></p><p class="c3"><span class="c5">error sample related to maxuproc:</span></p><p class="c3"><span class="c5">The following common error throw by DB: &quot;ORA-12223: TNS:internal</span></p><p class="c3"><span class="c5">limit restriction exceeded&quot;</span></p><p class="c3"><span class="c4">To disconnect from console:(add ~ for each hop)</span></p><p class="c8"><span class="c5">~~. or ~. </span></p><p class="c3"><span class="c6 c4">/etc/filesystems mountguard:</span></p><p class="c3"><span class="c6 c4">first mount the filesystem:</span></p><p class="c3"><span class="c5">mount -o noguard &lt;file_system&gt;</span></p><p class="c3"><span class="c6 c4">then change the option to not guard in the future:</span></p><p class="c3"><span class="c6 c5">chfs -a moutguard=no &lt;file_system&gt;</span></p><p class="c3 c29"><span class="c6 c4"></span></p><p class="c3"><span class="c4">Error running smitty or getting error</span></p><p class="c8"><span class="c5">man lsvg</span><span class="c11">&nbsp;</span><span class="c5">/tmp/man2162886: Invalid file system control data detected</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c4">To fix this edit the /etc/filesystems and set file system(/tmp) flag on check = true</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c4">You can even try to reboot WITHOUT changing the /etc/filesystems </span></p><p class="c3"><span class="c4">Error creating VG:</span></p><p class="c3"><span class="c5">/home/root# mkvg -yshellvg hdisk2</span></p><p class="c3"><span class="c5">0516-1254 mkvg: Changing the PVID in the ODM.</span></p><p class="c3"><span class="c5">shellvg</span></p><p class="c3"><span class="c5">0516-021 /usr/sbin/varyonvg: The varyonvg failed because the volume</span></p><p class="c3"><span class="c5">group&#39;s major number was already used by another device.</span></p><p class="c8"><span class="c5">0516-862 mkvg: Unable to create volume group. </span><span class="c4">Used </span><span class="c5">lvlstmajor </span><span class="c4">to get unused major number. </span><span class="c5">/home/root# lvlstmajor</span><span class="c11">&nbsp;</span><span class="c5">35... </span></p><p class="c3"><span class="c5">/home/root# mkvg -f -V40 -yshellvg hdisk2</span></p><p class="c3"><span class="c5">shellvg</span></p><p class="c3"><span class="c4 c16">To upgrade firmware on HBA:</span></p><p class="c3"><span class="c4">Pasha it was easy to upgrade hba firmware(FNU KHAN)</span></p><p class="c3"><span class="c5">Here is procedure :</span></p><p class="c3"><span class="c5">6.1 Downloading AIX RPM Package</span></p><p class="c3"><span class="c5">Use this method to install the AIX RPM package on an AIX system. Note</span></p><p class="c3"><span class="c5">that the commands are case sensitive and must be entered exactly as</span></p><p class="c3"><span class="c5">shown, including file names.</span></p><p class="c3"><span class="c5">1) If the /etc/microcode directory does not exist, make a directory</span></p><p class="c3"><span class="c5">to receive the RPM format file. On the command line type:</span></p><p class="c3"><span class="c5">mkdir/etc/microcode</span></p><p class="c3"><span class="c5">2) Transfer the RPM format file, df1000f114100104.202307.aix.rpm to</span></p><p class="c3"><span class="c5">any temporary directory on the target server.</span></p><p class="c3"><span class="c5">3) Unpack the file. On the command line type:</span></p><p class="c3"><span class="c5">rpm -ihv --ignoreos df1000f114100104.202307.aix.rpm</span></p><p class="c3"><span class="c5">4) If the microcode package unpacks successfully, the microcode file</span></p><p class="c3"><span class="c5">will be added to the /etc/microcode directory.</span></p><p class="c3"><span class="c5">If a message is received saying the &quot;package &lt;package_name&gt;is already</span></p><p class="c3"><span class="c5">installed&quot;, you will need to uninstall the rpm package. On the</span></p><p class="c3"><span class="c5">command line type:</span></p><p class="c3"><span class="c5">rpm -e &lt;package_name&gt;</span></p><p class="c3"><span class="c5">where &lt;package_name&gt; is the name of the package that was returned in</span></p><p class="c3"><span class="c5">the message. Return to Step 3 and attempt to unpack the file again.</span></p><p class="c3"><span class="c5">5) Verify the file size and sum of the df1000f114100104.202307 file</span></p><p class="c3"><span class="c5">in /etc/microcode. On the command line type:</span></p><p class="c3"><span class="c5">For the file size:</span></p><p class="c3"><span class="c5">ls -al df1000f114100104.202307</span></p><p class="c3"><span class="c5">For the sum:</span></p><p class="c3"><span class="c5">sum df1000f114100104.202307</span></p><p class="c3"><span class="c5">The output of these commands should be:</span></p><p class="c3"><span class="c5">file size: 574516</span></p><p class="c3"><span class="c5">sum: 41094</span></p><p class="c3"><span class="c5">Login as root user.</span></p><p class="c3"><span class="c5">From the command line key in: &nbsp;diag</span></p><p class="c3"><span class="c5">Select: &nbsp;Task Selection (Diagnostics, Advanced Diagnostics, Service</span></p><p class="c3"><span class="c5">Aids, etc.)</span></p><p class="c3"><span class="c5">Select: &nbsp;Microcode Tasks</span></p><p class="c3"><span class="c5">Select: &nbsp;Download Latest Available Microcode</span></p><p class="c3"><span class="c5">Select: &nbsp;file system</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/etc/microcode</span></p><p class="c3"><span class="c5">Select the device: &nbsp;fcs*</span></p><p class="c3"><span class="c5">Press enter when prompted to download the microcode</span></p><p class="c3"><span class="c5">Upon completion, a message will state that the microcode has be</span></p><p class="c3"><span class="c5">successfully downloaded and that</span></p><p class="c3"><span class="c5">the new level is 202307</span></p><p class="c8"><span class="c4">If you need output on the same line AND assign it to a variable: xargs is the key</span><span class="c12">&nbsp;</span><span class="c5">HDISKS=$(lspv | awk &#39;/hdiskpower/ {print $1}&#39;| xargs) </span></p><p class="c3"><span class="c4 c51">Then get the WWN (for fcs0 in this example):</span></p><p class="c3"><span class="c5 c51">lscfg -vl fcs0 | grep &quot;Network Address&quot;</span></p><p class="c3"><span class="c4 c51">SAS adapter-drawer mode(hard coded, model 5887):</span></p><p class="c3"><span class="c5 c51">lscfg -vl ses0</span></p><p class="c3"><span class="c5 c51">look for Product Specific(ZM): 1</span></p><p class="c3"><span class="c5 c51">1 means sees all disks</span></p><p class="c3"><span class="c5 c51">2 means split in half</span></p><p class="c3"><span class="c5 c51">s 4 banks of 6 disks</span></p><p class="c3"><span class="c4">smitty fast path aliases:</span></p><p class="c3"><span class="c5">smitty inetalias</span></p><p class="c3"><span class="c4">To remove an alias:</span></p><p class="c3"><span class="c5">chdev -l en1 -a delalias4=&#39;156.81.27.110&#39;,&#39;255.255.255.0&#39;</span></p><p class="c3"><span class="c4">To add an alias:</span></p><p class="c3"><span class="c5">chdev -l en1 -a alias4=&#39;156.81.27.108&#39;,&#39;255.255.255.0&#39;</span></p><p class="c3"><span class="c4">To bind IP Address:</span></p><p class="c3"><span class="c5">chdev -l &#39;en1&#39; -a netaddr=&#39;5.16.53.26&#39; -a netmask=&#39;255.255.255.0&#39; -a</span></p><p class="c3"><span class="c5">state=&#39;up&#39;</span></p><p class="c3"><span class="c4">Change the IP address on en0 to 192.168.1.2</span></p><p class="c3"><span class="c5">chtcpip -interface en0 -inetaddr 192.168.1.2 -netmask 255.255.255.0</span></p><p class="c3"><span class="c4">To remove an IP Address for interface en3:</span></p><p class="c3"><span class="c5">chdev -a netaddr=0.0.0.0 -a netmask=0.0.0.0 -l en3</span></p><p class="c3"><span class="c4">HBA lights indicators:</span></p><a id="t.b6331499e1290be16ee43e5c9bce69616961ba5a"></a><a id="t.2"></a><table class="c74"><tr class="c41"><td class="c22" colspan="1" rowspan="1"><p class="c8"><span class="c5">Green LED </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c8"><span class="c5">Yellow LED </span></p></td><td class="c94" colspan="1" rowspan="1"><p class="c8"><span class="c5">State </span></p></td></tr><tr class="c41"><td class="c22" colspan="1" rowspan="1"><p class="c8"><span class="c5">Slow blink </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c8"><span class="c5">Off </span></p></td><td class="c94" colspan="1" rowspan="1"><p class="c3"><span class="c5">Normal, link down</span></p></td></tr><tr class="c41"><td class="c22" colspan="1" rowspan="1"><p class="c8"><span class="c5">On </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c8"><span class="c5">3 fast blinks </span></p></td><td class="c94" colspan="1" rowspan="1"><p class="c3"><span class="c5">4 Gbps link rate -</span></p><p class="c3"><span class="c5">normal, link active</span></p></td></tr></table><p class="c3"><span class="c4">To list the physical attributes of fiber channel card:</span></p><p class="c3"><span class="c5">lsdev -dev fcs3 -vpd</span></p><p class="c8"><span class="c4">odmget command:</span><span class="c12">&nbsp;</span><span class="c4">(this command was used to see if hdisks were listed before hdiskpowers. At kaiser there was an issue with &ldquo;-&rdquo; being in the bootlist command. This was due to hdiskpowers being listed before hdisks)</span><span class="c12">&nbsp;</span><span class="c5">odmget -q&rdquo;parent=fscsi0 and status=1&rdquo; CuDv </span></p><p class="c3"><span class="c4">Error removing ethernet:</span></p><p class="c3"><span class="c5"># rmdev -Rdl ent0</span></p><p class="c3"><span class="c5">rmdev: 0514-521 Cannot find information in the predefined device</span></p><p class="c8"><span class="c5">configuration database for the customized device ent0. 1. </span><span class="c4">Backup ODM. </span></p><p class="c3"><span class="c5">tar -cvf /tmp/ODM.tar /etc/objrepos/</span></p><p class="c3"><span class="c4">2. Delete the ent0 device from CuDv</span></p><p class="c3"><span class="c5">odmdelete -q &quot;name=ent0&quot; -o CuDv</span></p><p class="c3"><span class="c4">Error when running cfgmgr trying to get AIX to see its ethernet</span></p><p class="c3"><span class="c5"># cfgmgr</span></p><p class="c3"><span class="c5">cfgmgr: 0514-621 WARNING: The following device packages are required</span></p><p class="c3"><span class="c5">for &nbsp; &nbsp; &nbsp; &nbsp;device support but are not currently installed.</span></p><p class="c3"><span class="c5">devices.pciex.ethernet:devices.pciex.pciex14e4.1657.1014.420.1:devices.pciex.e414571614102004:devices.pciex.14102004:devices.pciex.pciex14e4.1657.1:devices.pciex.e4145716:devices.pciex.pciexclass.020000:devices.pciex.pciexclass.000200</span></p><p class="c3"><span class="c4">Got an error changing en0 to jumbo frame in smitty:</span></p><p class="c3"><span class="c5">0514-518: can not access CuDv blah blah blah. I changed directories</span></p><p class="c3"><span class="c5">to /etc/objrepos then went back into smitty ethernet and it</span></p><p class="c3"><span class="c5">worked....stupid AIX</span></p><p class="c8"><span class="c4">How to get the WWN&#39;s from the SMS menu:</span><span class="c12">&nbsp;</span><span class="c4">Select #8 (Open Firmware prompt) then at the ok prompt type: </span><span class="c5">ioinfo </span><span class="c4">then select the </span><span class="c5">FCINFO </span><span class="c4">and then your fiber card and look at </span><span class="c5">FC Node WorldWidePortName </span><span class="c4">field </span></p><p class="c3"><span class="c6 c4">Show active WWN:</span></p><p class="c3"><span class="c5">fcstat &ndash;d fcs0</span></p><p class="c3"><span class="c4">Clear the force password change on root:</span></p><p class="c3"><span class="c6 c5">pwdadm -c root</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c24"><span class="c6 c4">System firmware file naming convention:</span></p><p class="c24"><span class="c6 c65">&nbsp;</span></p><p class="c24"><span class="c6 c5">01SVxxx_yyy_zzz</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">xxx is the release level</span></p><p class="c24"><span class="c6 c5">&nbsp;yyy is the service pack level</span></p><p class="c24"><span class="c6 c5">&nbsp;zzz is the last disruptive service pack level </span></p><p class="c24 c29"><span class="c6 c5"></span></p><p class="c24"><span class="c6 c5">NOTE: Values of service pack and last disruptive service pack level (yyy and zzz) are only unique within a release level (xxx). For example, 01SV830_040_040 and 01SV840_040_045 are</span></p><p class="c24"><span class="c6 c5">different service packs.</span></p><p class="c24 c29"><span class="c6 c5"></span></p><p class="c24"><span class="c6 c5">An installation is disruptive if the release levels (xxx) are different:</span></p><p class="c24"><span class="c5">Example: Currently installed release is 01SV</span><span class="c4">840</span><span class="c5">_040_040, new release is 01SV</span><span class="c4">850</span><span class="c6 c5">_050_050.</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">or</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">The service pack level (yyy) and the last disruptive service pack level (zzz) are the same.</span></p><p class="c24"><span class="c5">Example: SV830_</span><span class="c4">040</span><span class="c5">_</span><span class="c4">040</span><span class="c6 c5">&nbsp;is disruptive, no matter what level of SV830 is currently installed on the system.</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">or</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">The service pack level (yyy) currently installed on the system is lower than the last disruptive service pack level (zzz) of the service pack to be installed.</span></p><p class="c24"><span class="c6 c5">Example: Currently installed service pack is</span></p><p class="c24"><span class="c5">SV830_</span><span class="c4">040</span><span class="c5">_040 and new service pack is SV830_050_</span><span class="c4">045</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">An installation is concurrent if:</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">The release level (xxx) is the same, and</span></p><p class="c24"><span class="c6 c5">&nbsp;The service pack level (yyy) currently installed on the system is the same or</span></p><p class="c24"><span class="c6 c5">higher than the last disruptive service pack level (zzz) of the service pack to</span></p><p class="c24"><span class="c6 c5">be installed.</span></p><p class="c24"><span class="c6 c5">&nbsp;</span></p><p class="c24"><span class="c6 c5">Example: Currently installed service pack is SV830_040_040, new service pack</span></p><p class="c24"><span class="c6 c5">is SV830_071_040.</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">Steps to take to get firmware updates/upgrades:</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c5">Go to IBM Fixcentral(here is latest link):</span></p><p class="c3"><span class="c5 c30"><a class="c79" href="https://www.google.com/url?q=https://www.ibm.com/support/fixcentral/&amp;sa=D&amp;source=editors&amp;ust=1673574135276975&amp;usg=AOvVaw3h5HMBFYaJrUJT2Rp-2aTq">https://www.ibm.com/support/fixcentral/</a></span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c5">Once you determine what firmware level you want you need to make sure the HMC code level can handle it. Use the following link:</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c30 c5"><a class="c79" href="https://www.google.com/url?q=http://www-933.ibm.com/support/fixcentral/firmware/supportedCombinations&amp;sa=D&amp;source=editors&amp;ust=1673574135277525&amp;usg=AOvVaw1g11A3Cj-c5IYLK7a5Y4hS">http://www-933.ibm.com/support/fixcentral/firmware/supportedCombinations</a></span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c4">Verbose boot from open firmware:</span></p><p class="c3"><span class="c5">boot -s verbose /</span></p><p class="c3"><span class="c4">To list all defined devices:</span></p><p class="c3"><span class="c5">lsdev -Cc adapter -S d</span></p><p class="c3"><span class="c4">Query if user must change password on next login:</span></p><p class="c3"><span class="c5">[root@cg1p03a]:/# pwdadm -q maestro</span></p><p class="c3"><span class="c5">maestro:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; lastupdate = 1295547225</span></p><p class="c8"><span class="c5">flags = ADMCHG </span><span class="c4">&lt;-- Requires change(if this line does not show then no password change required) </span></p><p class="c8"><span class="c4">NTP Notes:</span><span class="c12">&nbsp;</span><span class="c4">Verify that you have a server suitable for synchronization.</span><span class="c12">&nbsp;</span><span class="c6 c4">Enter:</span></p><p class="c8"><span class="c4"># </span><span class="c5">ntpdate -d ip.address.of.server</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c4">The offset must be less than 1000 seconds for xntpd to synch. If the offset is greater than 1000 seconds, change the time manually on the client and run the ntpdate -d again.</span><span class="c12">&nbsp;</span><span class="c4">If you get the message, &quot;no server suitable for synchronization found&quot;, verify xntpd is running on the server (see above) and that no firewalls are blocking port 123 or that you can ping that particular ntp server.</span><span class="c12">&nbsp;</span><span class="c4">Specify your xntp server in /etc/ntp.conf,enter:</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c5"># vi /etc/ntp.conf</span><span class="c4">(Comment out the &quot;broadcastclient&quot; line and add server ip.address.of.server prefer.)</span><span class="c12">&nbsp;</span><span class="c4">Leave the driftfile and tracefile at their defaults.</span><span class="c12">&nbsp;</span><span class="c4">Start the xntpd daemon:</span><span class="c12">&nbsp;</span><span class="c5"># </span><span class="c4">startsrc -s xntpd </span><span class="c5">(Use the -x flag if it is appropriate for your environment.)</span><span class="c11">&nbsp;</span><span class="c4">Uncomment xntpd from /etc/rc.tcpip so it will start on a reboot.</span><span class="c12">&nbsp;</span><span class="c5"># vi /etc/rc.tcpip</span><span class="c11">&nbsp;</span><span class="c4">Uncomment the following line:</span><span class="c12">&nbsp;</span><span class="c5">start /usr/sbin/xntpd &quot;$src_running&quot;</span><span class="c11">&nbsp;</span><span class="c4">If using the -x flag, add &quot;-x&quot; to the end of the line. You must include the quotes around the -x.</span><span class="c12">&nbsp;</span><span class="c4">Verify that the client is synched.</span><span class="c12">&nbsp;</span><span class="c5"># lssrc -ls xntpd</span><span class="c11">&nbsp;</span><span class="c4">NOTE: Sys peer should display the IP address or name of your xntpserver. This process may take up to 12 minutes. </span></p><p class="c3"><span class="c4">How to stop a daemon from starting in /etc/rc.tcpip:</span></p><p class="c3"><span class="c6 c5">chrctcp -d &lt;daemon_name&gt;</span></p><p class="c3"><span class="c6 c4">To enable and start ntp:</span></p><p class="c3"><span class="c5">chrctcp &ndash;S &ndash;a xntpd</span></p><p class="c8"><span class="c4">Debug mode for ntp: /usr/sbin/xntpd -d -d -d -d -d -d -d -d -d -d Update time:</span><span class="c12">&nbsp;</span><span class="c5">ntpdate &lt;ntp_server&gt; </span></p><p class="c3"><span class="c4">Clear PVID on a disk:</span></p><p class="c3"><span class="c5">chdev -l &lt;disk&gt; -a pv=clear</span></p><p class="c3"><span class="c4">Add PVID on a disk:</span></p><p class="c3"><span class="c5">chdev -l &lt;disk&gt; -a pv=yes</span></p><p class="c3"><span class="c4">Change Password:</span></p><p class="c3"><span class="c5">echo &quot;root:kaiser&quot; |chpasswd -c</span></p><p class="c8"><span class="c4">using dsh: </span></p><p class="c3"><span class="c5">dsh -l ibmtech sudo sh|echo &quot;db2cinst:abc123&quot;|chpasswd -c</span></p><p class="c3"><span class="c4 c16">What program is using a port:</span></p><p class="c3"><span class="c5">io -i &lt;port_num&gt;</span></p><p class="c3"><span class="c4">Change the number of pty&#39;s:</span></p><p class="c3"><span class="c5">smitty chgpty</span></p><p class="c3"><span class="c5">or</span></p><p class="c3"><span class="c5">chdev -l pty0 -a ATTnum=&#39;15000&#39;</span></p><p class="c3"><span class="c4">lsattr -El pty0</span></p><p class="c3"><span class="c5">ATTnum &nbsp; &nbsp; 256 &nbsp; &nbsp; &nbsp; Maximum number of Pseudo-Terminals &nbsp; &nbsp; True</span></p><p class="c3"><span class="c5">BSDnum &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; &nbsp;Maximum number of BSD Pseudo-Terminals True</span></p><p class="c3"><span class="c5">autoconfig available STATE to be configured at boot time &nbsp; &nbsp;True</span></p><p class="c3"><span class="c5">csmap &nbsp; &nbsp; &nbsp;sbcs &nbsp; &nbsp; &nbsp;N/A &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;True</span></p><p class="c3"><span class="c4">Show static routes and host name of inet0:</span></p><p class="c3"><span class="c5">lsattr -El inet0</span></p><p class="c3"><span class="c4">Delete route:</span></p><p class="c3"><span class="c5">route delete default 10.31.101.65</span></p><p class="c3"><span class="c5">or</span></p><p class="c3"><span class="c5">&gt; /etc/staticroutes</span></p><p class="c3"><span class="c4">route add network:</span></p><p class="c3"><span class="c5">chdev -l inet0 -a route=&quot;net,-hopcount,0,-netmask,255.255.248.0,,,,,-</span></p><p class="c3"><span class="c5">static,172.31.240.0,172.31.238.1&quot;</span></p><p class="c3"><span class="c4">Delete route:</span></p><p class="c3"><span class="c5">lsattr -El inet0|grep ^route</span></p><p class="c3"><span class="c5">route host,-hopcount,0,,,,,,10.62.61.5,10.23.32.1 Route True</span></p><p class="c3"><span class="c5">route net,-hopcount,0,,0,50.120.183.133 Route True</span></p><p class="c3"><span class="c5">chdev -l inet0 -a delroute=&quot;host,-</span></p><p class="c3"><span class="c5">hopcount,0,,,,,,10.62.61.5,10.23.32.1&quot;</span></p><p class="c3"><span class="c5">The routing is deleted permanently.</span></p><p class="c3"><span class="c4">To mount a file system with rbrw:</span></p><p class="c3"><span class="c5">modify the /etc/filesystems to reflect the option = rbrw in the</span></p><p class="c3"><span class="c5">stanza of the mount point</span></p><p class="c3"><span class="c4">List All Logical Volumes by Volume Group:</span></p><p class="c3"><span class="c5">lsvg -o|lsvg -il</span></p><p class="c3"><span class="c4">List Free PP&#39;s in all VG&#39;s:</span></p><p class="c3"><span class="c5">/usr/sbin/lsvg -o|/usr/sbin/lsvg -i|egrep &quot;VOLUME|FREE&quot;</span></p><p class="c3"><span class="c4">One liner for saving/restoring VG&#39;s(Naveen Gande):</span></p><p class="c3"><span class="c5">lsvg -o | grep -vE &quot;root|apps&quot; | awk &#39;{print &quot;/usr/bin/savevg &nbsp;-f</span></p><p class="c3"><span class="c5">/home2/&quot;$1,&quot; -v -i -r &quot;,$1}&#39; | sh</span></p><p class="c3"><span class="c4">To print only LV names not in rootvg or swapvg:</span></p><p class="c3"><span class="c5">lsvg -o | grep -vE &quot;root|swapvg&quot;|lsvg -i -l|grep -vE &quot;.:|LV|jfs2log&quot;|</span></p><p class="c3"><span class="c5">awk &#39;{print $1}&#39;</span></p><p class="c8"><span class="c4">save vg : </span></p><p class="c3"><span class="c5">/usr/bin/savevg &nbsp;-f&#39;/home2/scshdspvg&#39; &#39;-v&#39; &#39;-i&#39; &nbsp;&#39;-r&#39; &nbsp;scshdspvg</span></p><p class="c8"><span class="c4">restore vg: </span></p><p class="c3"><span class="c5">/usr/bin/restvg &nbsp;-f&#39;/root/sap-prd1.prd1_sapvg&#39; -s -r hdisk75</span></p><p class="c3"><span class="c4">To view contents of a savevg file:</span></p><p class="c3"><span class="c5">/usr/bin/restvg -l -f&#39;&lt;path_to_savevg_file&gt;&#39;</span></p><p class="c3"><span class="c5">X-Windows Set up:</span></p><p class="c3"><span class="c5">Install Xming and at run prompt:</span></p><p class="c3"><span class="c5">&quot;C:\Program Files\Xming\Xming.exe&quot; -ac -multiwindow -clipboard</span></p><p class="c3"><span class="c5">This turns off access control.</span></p><p class="c3"><span class="c5">Open Putty:</span></p><p class="c3"><span class="c5">Enable X11 forwarding and put your local box hostname:0 in X11</span></p><p class="c3"><span class="c5">Display Location.</span></p><p class="c3"><span class="c5">ssh to AIX box and run xclock</span></p><p class="c3"><span class="c5">*********************************************************************</span></p><p class="c3"><span class="c5">************************</span></p><p class="c3"><span class="c6 c4">Wanna get rid of AIX doing a reverse name lookup on incoming connections???:</span></p><p class="c3"><span class="c5">vi /etc/ssh/sshd_config</span></p><p class="c3"><span class="c6 c5">enable UseDNS and set it to no</span></p><p class="c3"><span class="c6 c4">Allow certain logins from specific host using key pair authentication:</span></p><p class="c3"><span class="c85 c16">Match user mercury<br>&nbsp;&nbsp;&nbsp;&nbsp;AllowUsers mercury@</span><span class="c96 c85 c45">10.248.113.61</span><span class="c85 c16">&nbsp;mercury@</span><span class="c85 c45 c96">10.248.132.202</span><span class="c85 c16"><br>&nbsp;&nbsp;&nbsp;&nbsp;AuthenticationMethods publickey<br>&nbsp;&nbsp;&nbsp;&nbsp;PasswordAuthentication no<br>&nbsp;&nbsp;&nbsp;&nbsp;RSAAuthentication&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yes<br>&nbsp;&nbsp;&nbsp;&nbsp;PubkeyAuthentication&nbsp;&nbsp; yes<br>&nbsp;&nbsp;&nbsp;&nbsp;AuthorizedKeysFile&nbsp;&nbsp;&nbsp;&nbsp; .ssh/authorized_keys<br>&nbsp;&nbsp;&nbsp;&nbsp;GSSAPIAuthentication&nbsp;&nbsp; no<br><br>Match all</span></p><p class="c3"><span class="c4">Update ssh to enable root to login:</span></p><p class="c3"><span class="c5">perl -pi.bak -e &#39;s!^#*PermitRootLogin.*!PermitRootLogin yes!&#39;</span></p><p class="c3"><span class="c6 c5">/etc/ssh/sshd_config</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Generate ssh keys:</span></p><p class="c8"><span class="c6 c5">ssh-keygen </span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c4">Push keys out with ssh-copy-id:</span></p><p class="c8"><span class="c6 c5">ssh-copy-id &ndash;i &lt;path_to_pub_key&gt; &lt;remote_host&gt;</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c3"><span class="c4">ssh keys changed?:</span></p><p class="c3"><span class="c5">I already accepted the ssh keys but when I reconnect, it asks me</span></p><p class="c3"><span class="c5">again...why?</span></p><p class="c3"><span class="c5">Maybe the hostname was changed. Maybe it changed in DNS, if you</span><span>&nbsp;</span><span class="c6 c5">resolve this way</span></p><p class="c3"><span class="c6 c5">ssh-keygen -R hostname</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">ssh -o options:</span></p><p class="c3"><span class="c6 c5">jtucker007@phxunixent003:~&gt; ssh PHXSNDC010B</span></p><p class="c3"><span class="c6 c5">Unable to negotiate with 10.2.31.61 port 22: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1</span></p><p class="c3"><span class="c6 c5">jtucker007@phxunixent003:~&gt; ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 PHXSNDC010A</span></p><p class="c3"><span class="c6 c5">The authenticity of host &#39;phxsndc010a (10.2.31.60)&#39; can&#39;t be established.</span></p><p class="c3"><span class="c6 c5">RSA key fingerprint is SHA256:H7KcGv9YZGI2yiNahfJrq9dJ/ym+In8fWPW+AUgkJDU.</span></p><p class="c3"><span class="c6 c5">Are you sure you want to continue connecting (yes/no)?</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c8"><span class="c4">Kewl pipes:</span></p><p class="c3"><span class="c5 c51">chmod 700 ~/.ssh</span></p><p class="c3"><span class="c5 c51">chmod 600 ~/.ssh/authorized_keys</span></p><p class="c8"><span class="c5 c51">cat ~/.ssh/id_rsa.pub | ssh username@server.com &#39;cat &gt;&gt;</span></p><p class="c3"><span class="c5 c51">.ssh/authorized_keys&#39;</span></p><p class="c3"><span class="c5 c51">User&#39;s home directory needs to be 755</span></p><p class="c3"><span class="c5 c51">for i in $(cat ~/ALL_VIOC)</span></p><p class="c3"><span class="c5 c51">do</span></p><p class="c3"><span class="c5 c51">echo Checking &quot;${i}&quot;</span></p><p class="c3"><span class="c5 c51">ssh &quot;${i}&quot; &#39;ls -la ~/.ssh&#39;</span></p><p class="c3"><span class="c5 c51">if [[ $? -eq 2 ]];then</span></p><p class="c3"><span class="c5 c51">echo making .ssh</span></p><p class="c3"><span class="c5 c51">ssh &quot;${i}&quot; &#39;mkdir -p ~/.ssh&#39;</span></p><p class="c3"><span class="c5 c51">echo copying key over</span></p><p class="c3"><span class="c5 c51">cat ~/.ssh/id_dsa.pub |ssh &quot;${i}&quot; &#39;cat &gt;&gt; .ssh/authorized_keys&#39;</span></p><p class="c3"><span class="c5 c51">else</span></p><p class="c3"><span class="c5 c51">cat ~/.ssh/id_dsa.pub |ssh &quot;${i}&quot; &#39;cat &gt;&gt; .ssh/authorized_keys&#39;</span></p><p class="c3"><span class="c5 c51">fi</span></p><p class="c3"><span class="c5 c51">done</span></p><p class="c3"><span class="c5 c51">for i in `cat ~/wave6.hosts`</span></p><p class="c3"><span class="c5 c51">do</span></p><p class="c3"><span class="c5 c51">if [[ ! -f /home/ibmtech/.ssh/authorized_keys ]]</span></p><p class="c3"><span class="c5 c51">then</span></p><p class="c3"><span class="c5 c51">cat /home/root/authorized_keys | ssh ibmtech@$i &#39;cat &gt;&gt;</span></p><p class="c3"><span class="c5 c51">/home/ibmtech/.ssh/authorized_keys&#39;</span></p><p class="c3"><span class="c5 c51">fi</span></p><p class="c3"><span class="c5 c51">done</span></p><p class="c3"><span class="c5"># Include time in prompt.</span></p><p class="c3"><span class="c5">export SECONDS=&quot;$(date &#39;+3600*%H+60*%M+%S&#39;)&quot;</span></p><p class="c3"><span class="c5">typeset -Z2 _h; typeset -Z2 _m ; typeset -Z2 _s</span></p><p class="c3"><span class="c5">padded</span></p><p class="c3"><span class="c5"># hours, minutes and seconds...</span></p><p class="c3"><span class="c5">_hh=&quot;(SECONDS/3600)%24&quot;</span></p><p class="c3"><span class="c5">_mm=&quot;(SECONDS/60)%60&quot;</span></p><p class="c3"><span class="c5">_ss=&quot;(SECONDS)%60&quot;</span></p><p class="c3"><span class="c5">_time=&#39;${_x[(_m=_mm)==(_h=_hh)==(_s=_ss)]}$_h:$_m:$_s&#39;</span></p><p class="c3"><span class="c5">export PS1=$(echo &quot;${_time} # &quot;)</span></p><p class="c3"><span class="c5">no -a:</span></p><p class="c3"><span class="c5">Was asked to modify:</span></p><p class="c3"><span class="c5">The value for the following parameters should be set at 64K</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;xdp_xmit_hiwat</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;udp_recv_hiwat</span></p><p class="c3"><span class="c5"># 2 digits, zero</span></p><p class="c3"><span class="c5">UDP related OS parameters can be queried with the following command:</span></p><p class="c3"><span class="c5">no -a</span></p><p class="c3"><span class="c5">Set the udp_sendspace and udp_recvspace to the OS maximum with:</span></p><p class="c3"><span class="c5">no -o &lt;parameter&gt;</span></p><p class="c3"><span class="c4">Some commands that I have seen from Funso:( -f spreadsheet format, -s</span></p><p class="c3"><span class="c4">seconds, -c count(iteration), -T Includes the top processes in the</span></p><p class="c3"><span class="c4">output, -m Changes the directory before the command saves the data to</span></p><p class="c3"><span class="c4">a file)</span></p><p class="c3"><span class="c5">print &quot;/usr/local/bin/nmon -fT -s 60 -c 600 -m /var/tmp/nmon&quot;|at 10</span></p><p class="c3"><span class="c5">am &lt;- This is the &#39;at&#39; command</span></p><p class="c3"><span class="c4">Find out the size of a PV:</span></p><p class="c3"><span class="c5">bootinfo -s &lt;disk_name&gt;</span></p><p class="c3"><span class="c5">or</span></p><p class="c3"><span class="c5">for i in `lsdev -Ct power -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">getconf DISK_SIZE /dev/$i</span></p><p class="c3"><span class="c5">done | sort | uniq -c</span></p><p class="c3"><span class="c4">List file names that contain a string:</span></p><p class="c3"><span class="c5">grep -l czapdb *s</span></p><p class="c3"><span class="c4">When the resize command is not installed:(alias it in .profile)</span></p><p class="c3"><span class="c5">COLUMNS=139;</span></p><p class="c3"><span class="c5">LINES=42;</span></p><p class="c3"><span class="c5">export COLUMNS LINES;</span></p><p class="c3"><span class="c4">Creating a sysdump file type device:</span></p><p class="c3"><span class="c5">/usr/sbin/mklv -y&#39;lg_dump2lv&#39; -t&#39;sysdump&#39; rootvg 8 hdisk1</span></p><p class="c3"><span class="c4">Change the secondary dump device:</span></p><p class="c3"><span class="c5">sysdumpdev -P -s&#39;/dev/lg_dump2lv&#39;</span></p><p class="c3"><span class="c4">Change the primary dump device:</span></p><p class="c3"><span class="c5">sysdumpdev -P -p&#39;/dev/pdumplv&#39;</span></p><p class="c3"><span class="c4">Change the directory dump is copied to:</span></p><p class="c3"><span class="c5">sysdumpdev &#39;-D&#39; /var/adm/ras/dumpcopy</span></p><p class="c3"><span class="c4">Always allow dump:</span></p><p class="c3"><span class="c6 c5">sysdumpdev &ndash;K</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">dump device too small:</span></p><p class="c3"><span class="c6 c5">/usr/lib/ras/dumpcheck -p</span></p><p class="c3"><span class="c6 c5">Then subtract existing size from estimated size divide by 1024 then divide by PP size to get number of LP&rsquo;s to add</span></p><p class="c3"><span class="c6 c5">lslv &lt;dump_device_lv&gt;</span></p><p class="c3"><span class="c6 c5">extendlv &lt;dump_device_lv&gt; &lt;#_LP&rsquo;s_to_add&gt;</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Cool things to put in .profile:</span></p><p class="c8"><span class="c5 c15">export PS1</span><span class="c5">=[${LOGNAME}@$(hostname)]&#39;$PWD&gt;&#39; stty erase ^? </span></p><p class="c3"><span class="c5">create an executable .logout file in your home directory and put what ever you want in it:</span></p><p class="c3"><span class="c5">vi .logout</span></p><p class="c3"><span class="c5">echo &ldquo;Good Bye!!&rdquo;</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Pre VIO power cycle:</span></p><p class="c3"><span class="c5">1) Capture the primary and secondary dump devices with &quot;sysdumpdev</span></p><p class="c3"><span class="c5">-l&quot; and make note of them.</span></p><p class="c3"><span class="c5">2) Run lsvg -l rootvg and make sure the rootvg is mirrored.</span></p><p class="c3"><span class="c5">3) Run &quot;sysdumpdev -P -p&quot; and sysdumpdev -P -s&quot; to set dump devices</span></p><p class="c3"><span class="c5">to /dev/sysdumpnull</span></p><p class="c3"><span class="c4">Post VIO power cycle:</span></p><p class="c3"><span class="c5">1) Reset dump devices to what they &quot;were&quot;. See 1) from pre VIO reboot</span></p><p class="c3"><span class="c5">2) &nbsp; Continue to normal checks (syncvg and lspath)</span></p><p class="c3"><span class="c4">nmon collection directory:</span></p><p class="c3"><span class="c5">into whoever&#39;s ID you used to run nmon</span></p><p class="c3"><span class="c4">.zip extractation:</span></p><p class="c3"><span class="c5">jar -xvf &lt;file.zip&gt;</span></p><p class="c3"><span class="c6 c4">writesrv service:</span></p><p class="c3"><span class="c6 c5">lssrc &ndash;s writesrv</span></p><p class="c3"><span class="c0">The writesrv daemon is the server for the write(1) client. This allows users on the same system to send real time messages to one another of the sort &quot;John, you there? Wanna do lunch?&quot;. The messages are blasted onto your terminal without much ado. These days users aren&#39;t typically logged in as interactive Unix users (unless they&#39;re geeks) so there&#39;s no compelling need for this service.</span></p><p class="c3"><span class="c6 c5"># lsitab -a|grep writesrv</span></p><p class="c3"><span class="c6 c5">writesrv:2:wait:/usr/bin/startsrc -swritesrv</span></p><p class="c3"><span class="c6 c5">root@chmc_lis / &gt;</span></p><p class="c3"><span class="c6 c5"># rmitab writesrv</span></p><p class="c3 c29"><span class="c6 c4"></span></p><p class="c3"><span class="c4">Increasing a mount point to a certain percentage:</span></p><p class="c3"><span class="c5">Lets say this you had this:</span></p><p class="c3"><span class="c5">Filesystem GB blocks Free %Used Iused %Iused Mounted on</span></p><p class="c3"><span class="c5">/dev/hd3 1.00 &nbsp;0.97 &nbsp; &nbsp;4% &nbsp; &nbsp; &nbsp;159 &nbsp; &nbsp; 1% /tmp</span></p><p class="c3"><span class="c5">as you want to have 90% free space, by how much would you increase</span></p><p class="c3"><span class="c5">/tmp?</span></p><p class="c3"><span class="c5">Take the current total(1GB) and subtract the current free(.97GB) this</span></p><p class="c3"><span class="c5">will give you 30MB(used)</span></p><p class="c3"><span class="c5">then divide your used by the percentage free you want(90% for this</span></p><p class="c3"><span class="c5">example) 30/.9 = 33.3</span></p><p class="c3"><span class="c5">then use the 33.3MB to increase /tmp</span></p><p class="c3"><span class="c5">chfs -a size=+34M /tmp</span></p><p class="c3"><span class="c4">Tar and gzip one liner:</span></p><p class="c3"><span class="c5">tar cvf - &lt;directory&gt;|gzip </span><span class="c4">&gt;</span><span class="c5">&nbsp;&lt;path_to_tar.gz_file&gt;</span></p><p class="c3"><span class="c4">Find the big directories:</span></p><p class="c3"><span class="c6 c5">du -s /path/* | sort &ndash;n</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c4">Find large files:</span></p><p class="c3"><span class="c6 c5">find /var &ndash;xdev -type f -size +1024 -exec ls &ndash;Al {} \; | awk &lsquo;{print $9, $5, $6, $7, $8}&rsquo; | sort -nrk 2|awk &lsquo;{print $1, $2/1024/1024 &ldquo;MB&rdquo;, $3, $4, $5}&rsquo;|more</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Find the big files:</span></p><p class="c3"><span class="c5">du -am &lt;dir Path&gt; | sort -n</span></p><p class="c3"><span class="c5">du -sm * | sort -nr</span></p><p class="c3"><span class="c4">Find files modified in the last day:</span></p><p class="c3"><span class="c5">find . -mtime 1</span></p><p class="c3"><span class="c4">Here is the list of the top 20 largest files:</span></p><p class="c3"><span class="c5">$ sudo find /home -xdev -ls | sort +6 -nr | head -20</span></p><p class="c3"><span class="c4">Check most recently modified file: -1 = one day</span></p><p class="c3"><span class="c5">find /path/to/filesystem -xdev -mtime -1 -ls</span></p><p class="c3"><span class="c4">FTP:(enable &amp; disable)</span></p><p class="c3"><span class="c5">You can disable any service in /etc/inetd.conf file. For example</span></p><p class="c3"><span class="c5">modify the &#39;ftp service &#39; line from:</span></p><p class="c3"><span class="c5">ftp stream tcp6 nowait root /usr/sbin/ftpd ftpd</span></p><p class="c3"><span class="c5">to</span></p><p class="c3"><span class="c5">#ftp stream tcp6 nowait root /usr/sbin/ftpd ftpd</span></p><p class="c3"><span class="c5">and don&#39;t forget about restart the inetd</span></p><p class="c3"><span class="c6 c5">refresh -s inetd</span></p><p class="c3"><span class="c6 c5">or</span></p><p class="c3"><span class="c6 c5">chsubserver -a -v ftp -p tcp</span></p><p class="c3"><span class="c6 c5">chsubserver -a -v ftp -p tcp</span></p><p class="c3"><span class="c4">OR DO IT THE EASY WAY:</span></p><p class="c8"><span class="c5">startsrc -t ftp stopsrc -t ftp </span><span class="c4">check status: </span><span class="c5">lssrc -ls inetd </span></p><p class="c8"><span class="c4">ftp error:</span><span class="c12">&nbsp;</span><span class="c4">421 service not available. I checked /etc/inetd.conf and seen that ftp was configured to use TCP Wrappers but TCP Wrappers was not configured at all. So I removed the link to TCP Wrappers in /etc/inetd.conf</span><span class="c12">&nbsp;</span><span class="c4">Original line was:</span><span class="c12">&nbsp;</span><span class="c5">ftp stream tcp nowait root </span><span class="c4">/usr/local/asert/sbin/</span><span class="c4 c14">tcpd </span><span class="c5">/usr/local/etc/ftpd -a -u 077</span><span class="c11">&nbsp;</span><span class="c4">Changed to:</span><span class="c12">&nbsp;</span><span class="c5">ftp stream tcp nowait root /usr/sbin/ftpd ftpd </span></p><p class="c3"><span class="c4">FTP modes, active and passive(&lt;-toggles between them):</span></p><p class="c3"><span class="c5">The following chart should help admins remember how each FTP mode</span></p><p class="c3"><span class="c5">works:</span></p><p class="c3"><span class="c5">Active FTP :</span></p><p class="c3"><span class="c5">command : client &gt;1023 -&gt; server 21</span></p><p class="c3"><span class="c5">data : client &gt;1023 &lt;- server 20</span></p><p class="c3"><span class="c5">Passive FTP :</span></p><p class="c3"><span class="c5">command : client &gt;1023 -&gt; server 21</span></p><p class="c3"><span class="c5">data : client &gt;1023 -&gt; server &gt;1023</span></p><p class="c3"><span class="c4">Switching From 32 to 64 Bit Mode:</span></p><p class="c3"><span class="c5">To switch from 32-bit mode to 64-bit mode run the following commands,</span></p><p class="c3"><span class="c5">in the given order:</span></p><p class="c3"><span class="c5">&nbsp;1. ln -sf /usr/lib/boot/unix_64 /unix</span></p><p class="c3"><span class="c5">&nbsp;2. ln -sf /usr/lib/boot/unix_64 /usr/lib/boot/unix</span></p><p class="c3"><span class="c5">&nbsp;3. bosboot -ad /dev/ipldevice</span></p><p class="c3"><span class="c5">&nbsp;4. shutdown -Fr</span></p><p class="c3"><span class="c5">&nbsp;5. bootinfo -K (should now show 64)</span></p><p class="c3"><span class="c4">Switching From 64 To 32-Bit Mode:</span></p><p class="c3"><span class="c5">To switch from 64-bit mode to 32-bit mode run the following commands,</span></p><p class="c3"><span class="c5">in the given order:</span></p><p class="c3"><span class="c5">&nbsp;1. ln -sf /usr/lib/boot/unix_mp /unix</span></p><p class="c3"><span class="c5">&nbsp;2. ln -sf /usr/lib/boot/unix_mp /usr/lib/boot/unix</span></p><p class="c3"><span class="c5">&nbsp;3. bosboot -ad /dev/ipldevice</span></p><p class="c3"><span class="c5">&nbsp;4. shutdown -Fr</span></p><p class="c3"><span class="c5">&nbsp;5. bootinfo -K (should now show 32)</span></p><p class="c3"><span class="c4">OS 32-bit or 64-bit?</span></p><p class="c3"><span class="c5">bootinfo -y</span></p><p class="c3"><span class="c5">Upgrading OS pre-checks:</span></p><p class="c3"><span class="c5">Make sure these come back clean</span></p><p class="c3"><span class="c5">#lppchk -v</span></p><p class="c3"><span class="c5">#lppchk -vm3</span></p><p class="c3"><span class="c5">#lppchk -c</span></p><p class="c3"><span class="c5">#lppchk -l</span></p><p class="c3"><span class="c5">#oslevel -sq</span></p><p class="c3"><span class="c5">#oslevel -rl &lt;top level from above command&gt; example: oslevel -rl</span></p><p class="c3"><span class="c5">5300-06</span></p><p class="c3"><span class="c5">One thing that happened to me was that I was using smitty alt_clone</span></p><p class="c3"><span class="c5">and choosing &#39;all&#39; in the filesets to install but it kept failing due</span></p><p class="c3"><span class="c5">to prereq failures on stuff like java and openGL, basically file sets</span></p><p class="c3"><span class="c5">that I never wanted to upgrade anyways...instead(via help from IBM) I</span></p><p class="c3"><span class="c5">put &#39;update_all&#39; in the bundles to install and everything worked.</span></p><p class="c3"><span class="c5">Example of NOT coming back clean:</span></p><p class="c3"><span class="c5 c45"># lppchk -v</span></p><p class="c3"><span class="c5 c45"># lppchk -c</span></p><p class="c3"><span class="c5 c45">lppchk: 0504-208 Size of /usr/java14/jre/lib/security/cacerts is</span></p><p class="c3"><span class="c5 c45">32284,</span></p><p class="c3"><span class="c5 c45">expected value was 30337.</span></p><p class="c3"><span class="c5 c45"># lppchk -l</span></p><p class="c3"><span class="c5 c45"># oslevel -sq</span></p><p class="c3"><span class="c5 c45">Known Service Packs</span></p><p class="c3"><span class="c5 c45">-------------------</span></p><p class="c3"><span class="c5 c45">5300-06-03-0732</span></p><p class="c3"><span class="c5 c45">5300-06-02-0727</span></p><p class="c3"><span class="c5 c45">5300-06-01-0722</span></p><p class="c3"><span class="c5 c45">5300-05-CSP-0000</span></p><p class="c3"><span class="c5 c45">5300-05-06-0000</span></p><p class="c3"><span class="c5 c45">5300-05-05-0000</span></p><p class="c3"><span class="c5 c45">5300-05-04-0000</span></p><p class="c3"><span class="c5 c45">5300-05-03-0000</span></p><p class="c3"><span class="c5 c45">5300-05-02-0000</span></p><p class="c3"><span class="c5 c45">5300-05-01-0000</span></p><p class="c3"><span class="c5 c45">5300-05-00-0000</span></p><p class="c3"><span class="c5 c45">5300-04-CSP-0000</span></p><p class="c3"><span class="c5 c45">5300-04-03-0000</span></p><p class="c3"><span class="c5 c45">5300-04-02-0000</span></p><p class="c3"><span class="c5 c45">5300-04-01-0000</span></p><p class="c3"><span class="c5 c45">5300-03-CSP-0000</span></p><p class="c3"><span class="c5 c45"># oslevel -rl 5300-06</span></p><p class="c3"><span class="c5 c45">Fileset Actual Level Recommended ML</span></p><p class="c3"><span class="c5 c45">---------------------------------------------------------------------</span></p><p class="c3"><span class="c5 c45">--------</span></p><p class="c3"><span class="c5 c45">ICU4C.rte 5.3.0.0 5.3.0.60</span></p><p class="c3"><span class="c5 c45"># oslevel -rl 5300-05</span></p><p class="c3"><span class="c5 c45"># oslevel -rl 5300-04</span></p><p class="c3"><span class="c5 c45"># oslevel -rl 5300-03</span></p><p class="c3"><span class="c5 c45"># oslevel -s</span></p><p class="c3"><span class="c5 c45">5300-05-05-0000</span></p><p class="c3"><span class="c5 c45">What happened here was that the ICU4C.rte is missing and is bringing</span></p><p class="c3"><span class="c5 c45">down the oslevel -s.</span></p><p class="c3"><span class="c5 c45">Download and install ICU4C.rte 5.3.0.0 5.3.0.60 and it will allow</span></p><p class="c3"><span class="c5 c45">oslevel -s to come back 5300-06-03-0732</span></p><p class="c3"><span class="c4">So at AMEX I couldnt find the base file set for bos.clvm.enh. Mr Fed</span></p><p class="c3"><span class="c4">told me to look in the .toc in the directories for it...perfect!!</span></p><p class="c3"><span class="c4">Boot Logical Volume:</span></p><p class="c3"><span class="c5">lslv -m hd5 shows where the BLV is on the hdisk</span></p><p class="c3"><span class="c5">lspv -M hdiskX shows the LV mapping on a hdisk</span></p><p class="c3"><span class="c5">lspv -p hdiskX show condensed mapping on hdisk</span></p><p class="c3"><span class="c5">ucln101s:/root&gt; lslv -l lv_usrlcl</span></p><p class="c3"><span class="c5">lv_usrlcl:/usr/local</span></p><p class="c3"><span class="c5">PV &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;COPIES &nbsp; &nbsp; &nbsp; &nbsp;IN BAND</span></p><ul class="c60 lst-kix_list_2-0 start"><li class="c3 c33 li-bullet-0"><span class="c5">hdisk0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 004:000:000 &nbsp;0%</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li><li class="c3 c33 li-bullet-0"><span class="c5">hdisk1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 004:000:000 &nbsp;0%</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li></ul><p class="c3"><span class="c5">The COPIES column indicates that the total number of logical</span></p><p class="c3"><span class="c5">partitions.The IN BAND column indicates the level of intra-allocation</span></p><p class="c3"><span class="c5">policy as a percentage.</span></p><p class="c3"><span class="c5">The DISTRIBUTION column shows how the physical partitions are</span></p><p class="c3"><span class="c5">allocated in</span></p><p class="c3"><span class="c5">each section of the intra policy, as shown in the following</span></p><p class="c3"><span class="c5">relationship:</span></p><p class="c3"><span class="c5">(outer edge) : (outer middle) : (center) : (inner middle) : (inner</span></p><p class="c3"><span class="c5">edge)</span></p><p class="c3"><span class="c4">Create boot image on disk:</span></p><p class="c3"><span class="c5">bosboot -ad /dev/ipldevice</span></p><p class="c3"><span class="c5">&nbsp;DISTRIBUTION</span></p><p class="c3"><span class="c5">004:000:000:000:000</span></p><p class="c3"><span class="c5">004:000:000:000:000</span></p><p class="c3"><span class="c5">boosboot -ad /dev/hdiskX</span></p><p class="c3"><span class="c5">0503-409 installp: bosboot verification starting</span></p><p class="c3"><span class="c5">Check which disk is your boot disk.</span></p><p class="c3"><span class="c5">rerun bosboot -ad hdiskX ::: Doesnt hurt anything</span></p><p class="c3"><span class="c5">relink your IPL Device:</span></p><p class="c3"><span class="c5">ln -f /dev/hdiskX /dev/ipldevice ::: -f removes the target if it</span></p><p class="c3"><span class="c5">exists</span></p><p class="c3"><span class="c5">Basically what happens is the link between the boot disk and</span></p><p class="c3"><span class="c5">/dev/ipldevice is wrong or not there.</span></p><p class="c3"><span class="c5">Determine if the link to the boot device is missing or incorrect,</span></p><p class="c3"><span class="c5">correct the error and complete the installation process.</span></p><p class="c3"><span class="c5">To identify the boot device and complete the installation:</span></p><p class="c8"><span class="c23 c57">1.</span><span class="c5">To identify the boot disk, enter lslv -m hd5. The boot disk name displays.</span><span class="c11">&nbsp;</span><span class="c23 c57">2.</span><span class="c5">Remove /dev/ipldevice: rm /dev/ipldevice</span><span class="c11">&nbsp;</span><span class="c23 c57">3.</span><span class="c5">Create a link between the boot device indicated and the </span><span class="c4">/dev/ipldevice </span><span class="c5">file:ln /dev/</span><span class="c5 c15">rhdiskX </span><span class="c5">/dev/ipldevice </span></p><p class="c8"><span class="c5">(An example of </span><span class="c5 c15">boot_device_name </span><span class="c5">is </span><span class="c4">rhdisk0</span><span class="c5">.) </span></p><p class="c8"><span class="c23 c57">4. </span><span class="c5">ln /dev/hd5 /dev/ipl_blv</span><span class="c11">&nbsp;</span><span class="c5">I had bosboot fail(@ State of Calif, h28&amp;h29)(opened PMR) and it came down to the bosboot script was traversing NFS mounts(which wernt working). did proctree &lt;PID&gt; &amp; procstack &lt;PID&gt; and seen that the bosboot </span></p><p class="c3"><span class="c4">Uninstall filesets:</span></p><p class="c3"><span class="c5">smitty deinstall</span></p><p class="c3"><span class="c4">Kewl unzip and uncompress command:</span></p><p class="c3"><span class="c5">zcat this.is.the.file.name.tar.Z | tar xvf -</span></p><p class="c3"><span class="c4">NFS Commands:</span></p><p class="c8"><span class="c5">dfshares &lt;hostname&gt;</span><span class="c11">&nbsp;</span><span class="c5">exportfs : </span><span class="c4">shows NFS shares on local machine</span><span class="c12">&nbsp;</span><span class="c5">showmount -e </span><span class="c4">: shows exported FS&#39;s with permissions. queries against portmapper(port 111)</span><span class="c12">&nbsp;</span><span class="c5">rpcinfo -p </span><span class="c4">: show version, protocol, port and service running</span><span class="c12">&nbsp;</span><span class="c4">Testing if NFS ports are being blocked by firewall: if hangs, port blocked</span><span class="c12">&nbsp;</span><span class="c5">tn &lt;hostname&gt; 111 </span><span class="c4">(portmapper)</span><span class="c12">&nbsp;</span><span class="c5">tn &lt;hostname&gt; 2049 </span><span class="c4">(nfs)</span><span class="c12">&nbsp;</span><span class="c6 c4">also it could be a simple route issue. If the nfs share is shared out to a non prod interface(like the back up interface) then you might need a static route. So traceroute before and after the addition of the static route </span></p><p class="c8 c29"><span class="c6 c4"></span></p><p class="c8"><span class="c6 c4">Testing to see if a port is opened:</span></p><p class="c8"><span class="c6 c4">Change shell to ksh93(chsh) then:</span></p><p class="c8"><span class="c6 c5">bash-4.2# echo &quot;\c&quot; &gt; /dev/tcp/162.135.81.215/9100</span></p><p class="c8"><span class="c6 c5">bash-4.2# echo &quot;\c&quot; &gt; /dev/tcp/162.135.81.215/9101</span></p><p class="c8"><span class="c6 c5">bash: connect: Connection refused</span></p><p class="c8"><span class="c6 c5">since the ort on 9100 didn&rsquo;t return anything it means it is listening&hellip;proved by testing port 9101</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Mounting NFS shares from a Linux server</span></p><p class="c3"><span class="c5">Almost every Unix/Linux server, except AIX, has &quot;portcheck&quot; enabled,</span></p><p class="c3"><span class="c5">which means that an NFS client must use reserved ports when</span></p><p class="c3"><span class="c5">connecting to the server. Fortunately this setting can be changed on</span></p><p class="c3"><span class="c5">the fly, and can also be made permanent. If you attempt to mount an</span></p><p class="c3"><span class="c5">NFS filesystem from a Linux server without portcheck, you will</span></p><p class="c3"><span class="c5">receive the following error:</span></p><p class="c3"><span class="c5"># </span><span class="c5 c45">mount centos:/home/export /mnt</span></p><p class="c3"><span class="c5">mount: 1831-008 giving up on:</span></p><p class="c3"><span class="c5">centos:/home/export</span></p><p class="c3"><span class="c5">vmount: Operation not permitted.</span></p><p class="c3"><span class="c5">Once portcheck is activated, you can mount the filesystem:</span></p><p class="c3"><span class="c5"># </span><span class="c5 c45">nfso -r -o nfs_use_reserved_ports=1 (-r sets it across reboots)</span></p><p class="c8"><span class="c4">To list the reboot values for all Network File System tuning parameters, type: </span><span class="c5">nfso -r -a </span></p><p class="c8"><span class="c4">From my experience with the DR NIM and the DR firewall, I recall that sunrpc inspection had to be enabled since the ports that get assigned for NFS are dynamic (between 32768 and 65535) and it&#39;s the RPC portmapper who tells the client on which port the NFS service is actually listening. If I remember correctly after enabling inspection for sunrpc everything started to work smoothly on DR so I would expect the same here. Tftp also uses a random UDP port between 32768 and 65535 which is probably being handled already by the firewall since John was getting an NFS issue and that step in the process comes after successfully downloading the boot file over TFTP. </span></p><p class="c8"><span class="c4">Not sure if this is still needed, but here is the breakdown of the ports and which ones are TCP, UPD or Both: </span></p><p class="c8"><span class="c4">111 Sunrpc</span><span class="c12">&nbsp;</span><span class="c4">Needs both TCP and UDP. The service listens on both. </span></p><p class="c8"><span class="c4">2049 NFS</span><span class="c12">&nbsp;</span><span class="c4">This por uses TCP. </span></p><p class="c8"><span class="c4">1058-1059 NIM These ports use TCP. </span></p><p class="c8"><span class="c4">67-68 BOOTP These use UDP. </span></p><p class="c8"><span class="c4">69 TFTP</span><span class="c12">&nbsp;</span><span class="c4">This port uses UDP and then a random UDP port between 32768 and </span></p><p class="c8"><span class="c4">65535 is used for the actual transfer. </span></p><p class="c8"><span class="c4">513-1023 RSH (needed for NIM Alt. disk migrations) All these are TCP. </span></p><p class="c8"><span class="c4">3901-3902 NIM Service Handler These use TCP. </span></p><p class="c8"><span class="c4">There is a lot more information here: </span><span class="c5 c53">http://www-304.ibm.com/support/docview.wss? uid=isg3T1011808 </span></p><p class="c3"><span class="c4">Hard-mounted and soft-mounted file problems</span></p><p class="c8"><span class="c5">When the network or server has problems, programs that access hard-mounted remote files fail differently from those that access soft-mounted remote files. If a server fails to respond to a hard-mount request, NFS prints the message: </span></p><p class="c8"><span class="c5">NFS server hostname not responding, still trying</span><span class="c11">&nbsp;</span><span class="c5">Hard-mounted remote file systems cause programs to hang until the server responds because the client retries the mount request until it succeeds. Use the </span><span class="c4">-bg </span><span class="c5">flag with the </span><span class="c4">mount </span><span class="c5">command when performing a hard mount so if the server does not respond, the client will retry the mount in the background. If a server fails to respond to a soft-mount request, NFS prints the message: </span></p><p class="c8"><span class="c5">Connection timed out</span><span class="c11">&nbsp;</span><span class="c5">Soft-mounted remote file systems return an error after trying unsuccessfully for a while. Unfortunately, many programs do not check return conditions on file system operations, so you do not see this error message when accessing soft-mounted files. However, this NFS error message prints on the console. </span></p><p class="c3"><span class="c4">Identifying NFS problems</span></p><p class="c3"><span class="c5">1) Verify that the network connections are good</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 28.40px; height: 1.53px;"><img alt="" src="images/image36.png" style="width: 28.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 40.87px; height: 1.53px;"><img alt="" src="images/image21.png" style="width: 40.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 46.20px; height: 1.53px;"><img alt="" src="images/image23.png" style="width: 46.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.20px; height: 1.47px;"><img alt="" src="images/image39.png" style="width: 7.20px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.53px;"><img alt="" src="images/image17.png" style="width: 17.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.80px; height: 1.53px;"><img alt="" src="images/image15.png" style="width: 8.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 16.80px; height: 1.53px;"><img alt="" src="images/image12.png" style="width: 16.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.93px; height: 1.53px;"><img alt="" src="images/image30.png" style="width: 8.93px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 47.20px; height: 1.53px;"><img alt="" src="images/image35.png" style="width: 47.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.93px; height: 18.60px;"><img alt="" src="images/image32.png" style="width: 7.93px; height: 18.60px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">2) </span></p><p class="c8"><span class="c5">, </span><span class="c4">portmap</span><span class="c5">, and </span><span class="c4">biod </span><span class="c5">daemons are running on the client </span></p><p class="c8"><span class="c5">Verify that the </span><span class="c4">inetd </span></p><p class="c8"><span class="c5">lssrc -g nfs </span></p><p class="c8"><span class="c5">lssrc -s inetd </span></p><p class="c8"><span class="c5">lssrc -s portmap </span></p><p class="c8"><span class="c5">3) Verify that a valid mount point exists for the file system being mounted. </span></p><p class="c8"><span class="c5">4) Verify that the server is up and running by running the following command at the shell prompt of the </span></p><p class="c8"><span class="c5">client: </span></p><p class="c8"><span class="c5">/usr/bin/rpcinfo -p </span><span class="c5 c15">server_name </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.93px; height: 18.60px;"><img alt="" src="images/image32.png" style="width: 7.93px; height: 18.60px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">5) Verify that the </span><span class="c4">mountd </span></p><p class="c8"><span class="c5">, </span></p><p class="c8"><span class="c4">portmap </span><span class="c5">and </span><span class="c4">nfsd </span><span class="c5">daemons are running on the NFS server by entering the </span></p><p class="c8"><span class="c5">following commands at the client shell prompt: </span></p><p class="c8"><span class="c5">/usr/bin/rpcinfo -u </span><span class="c5 c15">server_name </span><span class="c5">mount </span></p><p class="c8"><span class="c5">/usr/bin/rpcinfo -u </span><span class="c5 c15">server_name </span><span class="c5">portmap </span></p><p class="c8"><span class="c5">/usr/bin/rpcinfo -u </span><span class="c5 c15">server_name </span><span class="c5">nfs </span></p><p class="c8"><span class="c5">If the daemons are running at the server, the following responses are returned: </span></p><p class="c8"><span class="c23 c66">1. </span></p><p class="c8"><span class="c5">program 100005 version 1 ready and waiting </span></p><p class="c8"><span class="c5">program 100000 version 2 ready and waiting </span></p><p class="c8"><span class="c5">program 100003 version 2 ready and waiting </span></p><p class="c8"><span class="c5">The program numbers correspond to the commands, respectively, as shown in the previous </span></p><p class="c8"><span class="c5">example. If a similar response is not returned, log in to the server at the server console and </span></p><p class="c8"><span class="c5">check the status of the daemons by following the instructions in </span></p><p class="c8"><span class="c23 c66">2. </span></p><p class="c8"><span class="c23 c66">3. </span></p><p class="c8"><span class="c5 c53">Getting the current status of the </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 18.60px;"><img alt="" src="images/image33.png" style="width: 4.53px; height: 18.60px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5 c53">NFS daemons</span><span class="c5">. </span></p><p class="c8"><span class="c5">6) Verify that the </span><span class="c4">/etc/exports </span><span class="c5">file on the server lists the name of the file system that the client wants to </span></p><p class="c8"><span class="c5">mount and that the file system is exported. Do this by entering the command: </span></p><p class="c8"><span class="c5">7) showmount -e </span><span class="c5 c15">server_name </span></p><p class="c8"><span class="c5">8) This command lists all the file systems currently exported by the </span><span class="c5 c15">server_name</span><span class="c5">. </span></p><p class="c8"><span class="c5">9) For NFS version 4, verify that the NFSv4 domain is properly set. </span></p><p class="c8"><span class="c5">10) For NFS version 4, verify that the </span><span class="c4">nfsrgyd </span><span class="c5">daemon is running. </span></p><p class="c3"><span class="c5">NFS Facts &amp; Notes:</span></p><p class="c3"><span class="c5">NFS version 3 (NFSv3) is not stateful: NFSv4 is</span></p><p class="c3"><span class="c4">Change NFS Server export: -c client access, -r root access</span></p><p class="c3"><span class="c5">/usr/sbin/chnfsexp -d &#39;/pslo&#39; -V &#39;3:4&#39; &#39;-B&#39; -S &#39;sys&#39; -t &#39;rw&#39; -c</span></p><p class="c3"><span class="c5">&#39;cg1p33a,ch1p29a&#39; -r &#39;cg1p33a,ch1p29a&#39;</span></p><p class="c3"><span class="c4">Error with NFS:</span></p><p class="c3"><span class="c5">csehds003:/ds003_forms 2.00 1.92 4% 970 &nbsp;1% /ds003_forms</span></p><p class="c8"><span class="c4">csehds003:/finalist</span><span class="c12">&nbsp;</span><span class="c4">df: /finalist: A file, file system or message queue is no longer available.</span><span class="c12">&nbsp;</span><span class="c5">csehds003:/ds003_cpos_daemon1 5.00 5.00 1% 16 1% /ds003_cpos_daemon1</span><span class="c11">&nbsp;</span><span class="c5">csehds003.cse.ca.gov:/ap017_hyperion_transient</span><span class="c11">&nbsp;</span><span class="c5">df: /cse/reporting/transient_items: A file, file system or message queue is no longer available.</span><span class="c11">&nbsp;</span><span class="c5">/dev/home_hw 0.12 0.12 2% 23 1% /home/hw</span><span class="c11">&nbsp;</span><span class="c5">cg1p02a[/]# unmount /finalist (umount the local mount point that /etc/filesystems shows)</span><span class="c11">&nbsp;</span><span class="c5">then rerun: mount all </span></p><p class="c3"><span class="c4">exportfs: /cm/drArchive/001: Too many levels of symbolic links:</span></p><p class="c3"><span class="c4">Can cd into nfs share but ls and rm commands seem to hang:</span></p><p class="c3"><span class="c4">Ended up mounting as NFS version 2! and it worked...not sure why</span></p><p class="c3"><span class="c4">NFS server is not responding still trying:</span></p><p class="c3"><span class="c4">RPC: 1832-019 Program not registered:</span></p><p class="c3"><span class="c5 c17">make sure rc.nfs is not commented out in /etc/inittab</span></p><p class="c3"><span class="c5 c17">stopsrc -g nfs</span></p><p class="c3"><span class="c5 c17">startsrc -s portmap</span></p><p class="c3"><span class="c5 c17">/etc/rc.nfs</span></p><p class="c3"><span class="c4 c17"># mount pzaddb2:/epic /epic/db2_epic</span></p><p class="c3"><span class="c4 c17">mount: giving up on:</span></p><p class="c3"><span class="c4 c17">&nbsp; &nbsp; &nbsp; &nbsp; pzaddb2:/epic</span></p><p class="c3"><span class="c4 c17">vmount: No such file or directory</span></p><p class="c3"><span class="c5 c17">This error means that the local directory that you are trying to</span></p><p class="c3"><span class="c5 c17">mount to is not there. mkdir &lt;local_mount_point&gt; then retry your</span></p><p class="c3"><span class="c5 c17">mount command</span></p><p class="c8"><span class="c4">Link is to article used when there was RMC Daemon errors at Blue Shield of California(The default log file has been changed) </span><span class="c5 c53">http://aixhealthcheck.com/index.php?id=233 </span></p><p class="c3"><span class="c4">sudo,sudoers,visudo:</span></p><p class="c8"><span class="c5 c53">http://www.sudo.ws/sudo/sample.sudoers </span></p><p class="c3"><span class="c4">So if you have specific commands you are allowed to run then you have</span></p><p class="c3"><span class="c4">to preface it with: sudo &lt;command&gt;</span></p><p class="c3"><span class="c4">IPTRACE Commands:</span></p><p class="c3"><span class="c5">&nbsp;Start an IP trace to find out who&#39;s transmitting to this port:</span></p><p class="c3"><span class="c5">&nbsp;# iptrace -a -d &lt;HOST&gt; -p 657 /tmp/trace.out</span></p><p class="c3"><span class="c5">&nbsp;# ps -ef | grep iptrace</span></p><p class="c3"><span class="c5">&nbsp;root 2040018 iptrace -a -d lawtest2 -p 657 /tmp/trace.out</span></p><p class="c3"><span class="c5">&nbsp;# kill 2040018</span></p><p class="c3"><span class="c5">&nbsp;iptrace: unload success!</span></p><p class="c3"><span class="c5">&nbsp;# ipreport -n /tmp/trace.out &gt; /tmp/trace.fmt</span></p><p class="c3"><span class="c5">&nbsp;# view /tmp/trace.fmt</span></p><p class="c3"><span class="c5"># startsrc -s iptrace -a &quot;-b -p 657 /tmp/iptrace.bin&quot;</span></p><p class="c3"><span class="c5">startsrc -s iptrace -a &quot;-a -p 53 -b /tmp/dns.trc&quot; This looks at port</span></p><p class="c3"><span class="c5">53(DNS) -b bidirectional -a suppresses arp packets -p port</span></p><p class="c3"><span class="c5">Use stopsrc -s iptrace to stop your packet capture then format it</span></p><p class="c3"><span class="c5">with: ipreport -rns /tmp/dns.trc &gt;/tmp/dns.out</span></p><p class="c3"><span class="c4">Kernel Trace:</span></p><p class="c3"><span class="c5">mkdir /tmp/trace</span></p><p class="c3"><span class="c5">startsrc -s iptrace -a &quot;-a -p 53 -b /tmp/trace/iptrace.trc&quot;</span></p><p class="c3"><span class="c5">trace -a -o /tmp/trace/ktrace.bin -L 262144000;sleep 10;trcstop</span></p><p class="c3"><span class="c5">stopsrc -s iptrace</span></p><p class="c3"><span class="c5">trcrpt -O svc=on,pid=on,tid=on,exec=on -o /tmp/trace/ktrace.txt</span></p><p class="c3"><span class="c5">/tmp/trace/ktrace.bin</span></p><p class="c3"><span class="c5">view /tmp/trace/ktrace.txt &lt; Look for port(convert it to hex,</span></p><p class="c3"><span class="c5">i.e..DNS port 53 is converted to 35,port=0000000000000035)</span></p><p class="c8"><span class="c4">Trace ip traffic on a VIOS SEA:</span><span class="c12">&nbsp;</span><span class="c4">No IP Address needs to be bound to the adapter. It just needs to show in the UP status.</span><span class="c12">&nbsp;</span><span class="c5">ifconfig enX up</span><span class="c11">&nbsp;</span><span class="c5">startsrc -s iptrace -a &quot;-i en12 /tmp/iptrace.out&quot;</span><span class="c11">&nbsp;</span><span class="c5">collect your data</span><span class="c11">&nbsp;</span><span class="c5">stopsrc -s iptrace</span><span class="c11">&nbsp;</span><span class="c5">ipreport -nsrv /tmp/iptrace.out &gt; /tmp/ipreport.out</span><span class="c11">&nbsp;</span><span class="c5">view /tmp/ipreport.out </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 80.93px; height: 1.53px;"><img alt="" src="images/image29.png" style="width: 80.93px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 31.20px; height: 1.53px;"><img alt="" src="images/image40.png" style="width: 31.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.13px; height: 1.53px;"><img alt="" src="images/image13.png" style="width: 7.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 11.60px; height: 1.53px;"><img alt="" src="images/image46.png" style="width: 11.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 28.47px; height: 1.53px;"><img alt="" src="images/image115.png" style="width: 28.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image96.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 16.07px; height: 1.53px;"><img alt="" src="images/image99.png" style="width: 16.07px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image96.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 39.20px; height: 1.53px;"><img alt="" src="images/image79.png" style="width: 39.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 41.80px; height: 1.53px;"><img alt="" src="images/image95.png" style="width: 41.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">Let Time Pass</span></p><p class="c3"><span class="c5"># stopsrc -s iptrace</span></p><p class="c3"><span class="c5"># ipreport -rns /tmp/ipt &gt; /tmp/ipreport.out</span></p><p class="c3"><span class="c5"># view /tmp/ipreport.out</span></p><p class="c3"><span class="c4">AIX Accounting:</span></p><p class="c8"><span class="c5">pacct grows in the /var/adm directory and once it hits a certain size then it is renamed and replaced</span></p><p class="c8"><span class="c4">Alt Disk Install:</span></p><p class="c8"><span class="c4">Clean Up Alternate Disk Volume Group, usually old_rootvg: </span><span class="c5">alt_rootvg_op -X &lt;VG_name&gt; </span></p><p class="c3"><span class="c4">Shows the boot disk of that VG</span></p><p class="c3"><span class="c5">alt_rootvg_op -q &lt;VG_name&gt;</span></p><p class="c8"><span class="c4">To &quot;wake up&quot; an original rootvg after booting from the new alternate disk:</span></p><p class="c8"><span class="c5">alt_rootvg_op -W -d hdisk0</span></p><p class="c8"><span class="c4">To &quot;put to sleep&quot; a volume group that had experienced a &quot;wake-up&quot; and rebuild the boot image: </span></p><p class="c3"><span class="c6 c5">alt_rootvg_op -S &ndash;t</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c8"><span class="c4">Memory used: </span></p><p class="c3"><span class="c5">svmon -P</span></p><p class="c3"><span class="c5">ps -eo pid,vsz,args Shows you 3 columns. Remember about child</span></p><p class="c3"><span class="c5">processes</span></p><p class="c8"><span class="c4">Percentage of time the process has used the CPU since the process started:</span><span class="c12">&nbsp;</span><span class="c5">ch1p01a[/]# ps -o&quot;%C&quot; -p 544872</span><span class="c11">&nbsp;</span><span class="c5">%CPU </span></p><p class="c8"><span class="c5">0.0 </span></p><p class="c3"><span class="c4">Memory usage for each active process:</span></p><p class="c3"><span class="c5">ps gv | head -n 1; ps gv | egrep -v &quot;RSS&quot; | sort +6b -7 -n -r</span></p><p class="c3"><span class="c4">Sort command:</span></p><p class="c8"><span class="c5">sort -r (reverse sort on 1</span><span class="c23 c101">st </span><span class="c5">column)</span><span class="c11">&nbsp;</span><span class="c5">sort -k 1.11n (sorts on 11</span><span class="c23 c101">th </span><span class="c5">position of 1</span><span class="c23 c101">st </span><span class="c5">column numerically. This was the solution for sorting hdiskpowerX&#39;s) </span></p><p class="c8"><span class="c4">Paging Space</span><span class="c12">&nbsp;</span><span class="c4">List paging space: </span><span class="c5">lsps -s</span><span class="c11">&nbsp;</span><span class="c5">lsps -a </span></p><p class="c3"><span class="c4">Deactivate and remove paging space:</span></p><p class="c3"><span class="c5">swapoff /dev/paging01;</span></p><p class="c3"><span class="c5">rmps paging01</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c4">Change paging space on hd6: -a {y|n}</span><span class="c4 c15">(use on next restart) </span><span class="c4">-d #lp&#39;s </span><span class="c4 c15">to subtract </span><span class="c4">-s #lp&#39;s </span><span class="c4 c15">to add (</span><span class="c4">lp=pp size) </span></p><p class="c3"><span class="c5">chps -s32 hd6 (this adds 32 pp&rsquo;s)</span></p><p class="c3"><span class="c5">chps -d64 hd6 (this subtracts 64 pp&rsquo;s)</span></p><p class="c8"><span class="c4">To create new paging space: -a </span><span class="c4 c15">(use on restarts) </span><span class="c4">-n </span><span class="c4 c15">(use immediately) </span><span class="c4">-s #lp&#39;s </span><span class="c4 c15">(size)</span><span class="c12 c15">&nbsp;</span><span class="c5">mkps -a -n -s80 &lt;VG&gt; </span></p><p class="c8"><span class="c4">Instfix: </span></p><p class="c3"><span class="c5">instfix -ik &lt;IY_Number&gt; Shows whether a fix is installed</span></p><p class="c3"><span class="c4">Does the fix require a reboot?</span></p><p class="c3"><span class="c5">Go to Fix Central select your p series, aix then do a fix search and</span></p><p class="c3"><span class="c5">put in the IY&lt;number&gt;</span></p><p class="c3"><span class="c5">instfix -i | grep ML - shows wheter or not all filesets are found for</span></p><p class="c3"><span class="c5">a ML</span></p><p class="c3"><span class="c5">instfix -i|grep SP - shows wheter or not all service pack filesets</span></p><p class="c3"><span class="c5">are installed</span></p><p class="c3"><span class="c5">oslevel -rl 05 - shows missing filesets for TL 05</span></p><p class="c8"><span class="c4">NIM Commands:Install these filesets on NIM master, and reboot </span><span class="c5">bos.net.tcp.server</span><span class="c11">&nbsp;</span><span class="c5">bos.net.nfs.server</span><span class="c11">&nbsp;</span><span class="c5">bos.sysmgt.nim.master</span><span class="c11">&nbsp;</span><span class="c5">bos.sysmgt.nim.spot </span></p><p class="c8"><span class="c4">Machine Add: </span></p><p class="c3"><span class="c5">nim -o define -t ent -a net_addr=10.20.147.45 -a snm=255.255.252.0 -a</span></p><p class="c3"><span class="c5">routing1=&#39;default 10.20.144.1&#39; -a comments=&#39;Generated during</span></p><p class="c3"><span class="c5">definition of aplvh508&#39; network_10_20_144_0</span></p><p class="c8"><span class="c4">nimdef example: </span><span class="c5">command will execute a file with all your NIM client machines</span><span class="c11">&nbsp;</span><span class="c4">[root@cgnim01a]:/home/root/nim# </span><span class="c5">cat wave3.defs</span><span class="c11">&nbsp;</span><span class="c5">default: </span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;machine_type = standalone</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;subnet_mask &nbsp;= 255.255.255.0</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;network_type = ent</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;platform</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;cable_type</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;if1</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp;gateway</span></p><p class="c3"><span class="c5">cg1p05:</span></p><p class="c3"><span class="c5">cg1p06:</span></p><p class="c3"><span class="c5">cg1p07:</span></p><p class="c3"><span class="c5">cg1p08:</span></p><p class="c3"><span class="c5">cg1p09:</span></p><p class="c3"><span class="c5">= chrp</span></p><p class="c3"><span class="c5">= tp</span></p><p class="c3"><span class="c5">= nim_admin_net1</span></p><p class="c3"><span class="c5">= 192.168.0.201</span></p><p class="c3"><span class="c5">cg1p43:</span></p><p class="c3"><span class="c5">cg1p42:</span></p><p class="c8"><span class="c4">[root@cgnim01a]:/home/root/nim#</span><span class="c5">nimdef -p -f ./wave3.defs </span><span class="c4">&lt;- -p = preview -d = define </span></p><p class="c8"><span class="c4">Define NIM script resource to disable NFS from /etc/inittab and change root&#39;s password to: ibm</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c5">#!/bin/sh</span><span class="c11">&nbsp;</span><span class="c5">if [[ -f /etc/inittab ]] </span></p><p class="c3"><span class="c5">then</span></p><p class="c3"><span class="c5">cp /etc/inittab /etc/inittab_bk</span></p><p class="c3"><span class="c5">sed s/rcnfs/\:rcnfs/g &lt; /etc/inittab_bk &gt;/etc/inittab</span></p><p class="c3"><span class="c5">fi</span></p><p class="c3"><span class="c5">if [[ -f /etc/security/passwd ]]</span></p><p class="c3"><span class="c5">then</span></p><p class="c3"><span class="c5">cp /etc/security/passwd /etc/security/passwd_bk</span></p><p class="c3"><span class="c5">awk &#39;/^root:$/ { password=1; } password==1 &amp;&amp; /password/ { print &quot;</span></p><p class="c3"><span class="c5">password = TLrBnipn/WOds &quot;; password=0; next; } 1&#39; &lt;</span></p><p class="c3"><span class="c5">/etc/security/passwd_bk &gt;/etc/security/passwd</span></p><p class="c3"><span class="c5">fi</span></p><p class="c8"><span class="c4">error:</span><span class="c12">&nbsp;</span><span class="c4">The image.data file contains no vg_data stanza</span><span class="c12">&nbsp;</span><span class="c4">for rootvg. The installation cannot continue.</span><span class="c12">&nbsp;</span><span class="c5">The perms need to be 644 on the mksysb on the NIM server </span></p><p class="c3"><span class="c4">Reset client and deallocate:</span></p><p class="c3"><span class="c5 c17">nim -Fo reset &lt;NIM_host&gt;</span></p><p class="c3"><span class="c5 c17">nim -o deallocate -a subclass=all &lt;NIM_host&gt;</span></p><p class="c3"><span class="c4 c17">Remove mksysb resource and its image:</span></p><p class="c3"><span class="c5 c17">nim -o remove -arm_image=yes &lt;nim_name&gt;</span></p><p class="c3"><span class="c4 c17">Reset a NIM Machine:</span></p><p class="c3"><span class="c5 c17">nim -Fo reset -a deallocate=yes &lt;--- gee not sure on syntax</span></p><p class="c3"><span class="c4 c17">Define a NIM machine:(and have NIM determine the network)</span></p><p class="c3"><span class="c5 c17">nim -o define -t standalone &nbsp;-a if1=&quot;find_net czapwa194 0&quot; -a</span></p><p class="c3"><span class="c5 c17">cable_type1=tp czapwa194</span></p><p class="c3"><span class="c4 c17">Remove a NIM Machine:</span></p><p class="c3"><span class="c5 c17">nim -o remove &lt;NIM_Machine&gt;</span></p><p class="c3"><span class="c4 c17">Create SPOT from mksysb:</span></p><p class="c3"><span class="c5 c17">nim -o define -t spot -a source=aplwd512_mksysb -a server=master -a</span></p><p class="c3"><span class="c5 c17">location=/dc2015_testing/spot aplwd512_spot</span></p><p class="c3"><span class="c4 c17">deallocate resources, enter:</span></p><p class="c3"><span class="c5 c17">nim -o deallocate -a subclass=all &lt;NIM_host&gt;</span></p><p class="c3"><span class="c4">lsnim -c groups</span></p><p class="c3"><span class="c5">vios &nbsp; &nbsp; &nbsp; &nbsp; groups &nbsp;mac_group</span></p><p class="c3"><span class="c5">pre-prod &nbsp; &nbsp; groups &nbsp;mac_group</span></p><p class="c3"><span class="c5">test &nbsp; &nbsp; &nbsp; &nbsp; groups &nbsp;mac_group</span></p><p class="c3"><span class="c5">snbx &nbsp; &nbsp; &nbsp; &nbsp; groups &nbsp;mac_group</span></p><p class="c3"><span class="c5">TechSnbx &nbsp; &nbsp; groups &nbsp;mac_group</span></p><p class="c3"><span class="c5">r9dev1 &nbsp; &nbsp; &nbsp; groups &nbsp;mac_group</span></p><p class="c3"><span class="c4">Log for client:</span></p><p class="c3"><span class="c5">nim -o showlog -a log_type=niminst test_lpar</span></p><p class="c3"><span class="c4">Monitor mksysb install:</span></p><p class="c3"><span class="c5">while true</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">lsnim -a Cstate -a info &lt;NIM_host&gt;</span></p><p class="c3"><span class="c5">sleep 5</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">Allocate mksysb to client:</span></p><p class="c3"><span class="c5">smitty nim_bosinst</span></p><p class="c8"><span class="c4">Example 1 : When looking to see what the latest TL is that is installed to the SPOT</span><span class="c12">&nbsp;</span><span class="c5"># lsnim -l 5305_spot</span><span class="c11">&nbsp;</span><span class="c4">This will show an &ldquo;oslevel_r&rdquo; line that will give you the highest TL completely installed into the SPOT. If however you expect to see 5300-05 but only show 5300-04, we can use the fix_query operation to find out what is . </span></p><p class="c3"><span class="c5">nim -o fix_query -a fix_query_flags=&rdquo;cq&rdquo; -a fixes=5300-05_AIX_ML</span></p><p class="c3"><span class="c5">5305_spot |grep &ldquo;:-:&rdquo;</span></p><p class="c3"><span class="c4">To remove a machine from NIM:</span></p><p class="c3"><span class="c5">nim -o remove &#39;pepxgp00061&#39;</span></p><p class="c3"><span class="c4">What is required/optional for nim command:</span></p><p class="c3"><span class="c5">lsnim -q define -t mksysb</span></p><p class="c3"><span class="c5">the following resources are optional:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; exclude_files</span></p><p class="c3"><span class="c5">the following attributes are required:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a server=&lt;value&gt;</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a location=&lt;value&gt;</span></p><p class="c3"><span class="c5">the following attributes are optional:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a source=&lt;value&gt;</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a mk_image=&lt;value&gt;</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a mksysb_flags=&lt;value&gt;</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a exclude_files=&lt;value&gt;</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a size_preview=&lt;value&gt;</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a comments=&lt;value&gt;</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a verbose=&lt;value&gt;</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; -a group=&lt;value&gt;</span></p><p class="c8"><span class="c4">What does the attribute mean?: [root@cgnim01a]:/home/root/nim# </span><span class="c5">lsnim -p -a location location: </span></p><p class="c3"><span class="c5">&nbsp;This attribute stores the path name of a NIM resource. It is</span></p><p class="c3"><span class="c5">&nbsp;required for all NIM resources.</span></p><p class="c3"><span class="c4">To add mksysb resource:(havnt tried yet)</span></p><p class="c3"><span class="c5">nim -o define -t mksysb -aserver=master -alocation=&lt;path_to_mksysb&gt;</span></p><p class="c3"><span class="c5">&lt;resource_name&gt;</span></p><p class="c3"><span class="c4">To add a machine to a group:</span></p><p class="c3"><span class="c5">nim -o change -a add_member=pepxgp00200 prod</span></p><p class="c3"><span class="c4">NIM ERRORS:</span></p><p class="c3"><span class="c4">Unpack: file out of phase</span></p><p class="c3"><span class="c4">Unpack: internal unpacking error: decode failure</span></p><p class="c3"><span class="c4">Restore: Out Of Space!!</span></p><p class="c3"><span class="c4">BOS Install: Restore of Base Operating System from /NIM_BOS_IMAGE</span></p><p class="c3"><span class="c4">failed.</span></p><p class="c3"><span class="c4">ID# &nbsp; &nbsp; OPTION</span></p><ul class="c60 lst-kix_list_3-0 start"><li class="c8 c33 li-bullet-0"><span class="c4">1 &nbsp;Continue </span><span class="c20 c38">&nbsp;</span></li><li class="c3 c33 li-bullet-0"><span class="c4">2 &nbsp; &nbsp; &nbsp; &nbsp;Perform System Maintenance and Then Continue</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li></ul><p class="c3"><span class="c4">Enter ID number:</span></p><p class="c3"><span class="c5">You should recreate the mksysb, now without</span></p><p class="c3"><span class="c5">software compression. Man mksysb:</span></p><p class="c3"><span class="c5">-p Disables software packing of the files as they are backed up</span></p><p class="c8"><span class="c4">LED 611: failure: mount -r appii501.ipc.us.aexp.com:/dc2015_testing/spot/aplwd512_spot/usr /SPOT/usr</span><span class="c12">&nbsp;</span><span class="c5">Removing the spot resource and relocating the resource under a different file system </span></p><p class="c3"><span class="c4">0042-175 c_mkspot: An unexpected result was returned by the</span></p><p class="c3"><span class="c4">&quot;/usr/sbin/restbyname&quot; command:restore: 0511-126 Cannot open</span></p><p class="c3"><span class="c4">/dc2015_testing/aplwd512.mksysb/usr/sys/inst.images/bos: A parameter</span></p><p class="c8"><span class="c4">must be a directory.</span><span class="c12">&nbsp;</span><span class="c4">Mount volume 1 on /dc2015_testing/aplwd512.mksysb/usr/sys/inst.images/bos.</span><span class="c12">&nbsp;</span><span class="c4">Press the Enter key to continue.</span><span class="c12">&nbsp;</span><span class="c5">So I looked on the server for that directory and it was not there. Jeff Pany said that the one field needs to be a NIM resource label and not the path to the actual file </span></p><p class="c3"><span class="c4">0042-008 NIMState: Request denied method_req:</span></p><p class="c3"><span class="c5">google says its the cpu id but I doubled check my resource allocation</span></p><p class="c3"><span class="c5">and the actual client I was installing to. This was done in error. I</span></p><p class="c3"><span class="c5">deallocated the NIM resource and shutdown the client and did it</span></p><p class="c3"><span class="c5">correctly.</span></p><p class="c3"><span class="c4">Method A: To Produce Debug Output When Not Using a bosinst_data</span></p><p class="c3"><span class="c4">Resource</span></p><p class="c8"><span class="c23 c57">1.</span><span class="c5">To enable debugging for the BOS install program, start by performing all the processing you would normally do to install a client.</span><span class="c11">&nbsp;</span><span class="c23 c57">2.</span><span class="c5">Since you are not using a </span><span class="c4">bosinst_data </span><span class="c5">resource, you will be prompted to supply information about the installation to the BOS install program.</span><span class="c11">&nbsp;</span><span class="c23 c57">3.</span><span class="c5">Select your console.</span><span class="c11">&nbsp;</span><span class="c23 c57">4.</span><span class="c5">Select your language.</span><span class="c11">&nbsp;</span><span class="c23 c57">5.</span><span class="c5">The </span><span class="c4">Welcome to Base Operating System Installation and Maintenance </span><span class="c5">menu is displayed. Instead of selecting one of the options, enter </span><span class="c4">911 </span><span class="c5">at the prompt and press Enter.</span><span class="c11">&nbsp;</span><span class="c23 c57">6.</span><span class="c5">Continue the normal procedure for selecting options and specifying data until the installation begins. Debug output will be sent to the client&#39;s display as the installation proceeds. </span></p><p class="c3"><span class="c4">rshd: 0826-813 Permission is denied:</span></p><p class="c3"><span class="c5">Check the .rhosts file in the home directory of root (grep root</span></p><p class="c3"><span class="c5">/etc/passwd) &amp; make sure it&#39;s perms are 600</span></p><p class="c3"><span class="c4">SMS can ping but bootp fails:</span></p><p class="c8"><span class="c5">On the NIM server check /etc/inetd.conf and uncomment bootpd and refresh -s inetd and try again</span><span class="c11">&nbsp;</span><span class="c4">reference: </span><span class="c5 c53">https://www-304.ibm.com/support/docview.wss?uid=isg3T1011386 </span><span class="c4">agpiu501.gso.aexp.com:/&gt;#</span><span class="c5">lssrc -t bootps </span></p><p class="c3"><span class="c5">Service &nbsp; &nbsp; &nbsp; Command &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Arguments &nbsp; &nbsp;Status</span></p><p class="c3"><span class="c5">bootps &nbsp; &nbsp; &nbsp; /usr/sbin/bootpd &nbsp; &nbsp; &nbsp; &nbsp; bootpd /etc/bootptab &nbsp; active</span></p><p class="c8"><span class="c5">If it is running, stop bootpd, kill any processes left then run /usr/sbin/bootpd -s -d -d -d and look for your MAC address after running network install. If this fails, check firewall </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.73px; height: 1.53px;"><img alt="" src="images/image38.png" style="width: 26.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 28.40px; height: 1.53px;"><img alt="" src="images/image36.png" style="width: 28.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 40.87px; height: 1.53px;"><img alt="" src="images/image21.png" style="width: 40.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 46.20px; height: 1.53px;"><img alt="" src="images/image23.png" style="width: 46.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.13px; height: 1.53px;"><img alt="" src="images/image13.png" style="width: 7.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.53px;"><img alt="" src="images/image17.png" style="width: 17.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.80px; height: 1.53px;"><img alt="" src="images/image15.png" style="width: 8.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 16.80px; height: 1.53px;"><img alt="" src="images/image12.png" style="width: 16.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.93px; height: 1.53px;"><img alt="" src="images/image30.png" style="width: 8.93px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 48.07px; height: 1.53px;"><img alt="" src="images/image59.png" style="width: 48.07px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5 c81">top </span></p><p class="c3"><span class="c4">DISK USAGE EXAMPLES:</span></p><p class="c3"><span class="c5">du -sg &lt;directory&gt; Summarizes in GB the &lt;directory&gt; s = summary g =</span></p><p class="c3"><span class="c5">GB m = MB</span></p><p class="c8"><span class="c4">Core Dump: </span></p><p class="c3"><span class="c5">$ lquerypv -h core 6b0 64</span></p><p class="c3"><span class="c5">The name of the application causing the core file is listed in the</span></p><p class="c3"><span class="c5">section on the right. In the sample output below, the &quot;ftpd&quot;</span></p><p class="c3"><span class="c5">application</span></p><p class="c3"><span class="c5">caused the core file.</span></p><p class="c3"><span class="c5">000006B0 7FFFFFFF FFFFFFFF 7FFFFFFF FFFFFFFF |................|</span></p><p class="c3"><span class="c5">000006C0 00000000 000007D0 7FFFFFFF FFFFFFFF |................|</span></p><p class="c3"><span class="c5">000006D0 00170000 53245A2C 00000000 00000015 |....S$Z,........|</span></p><p class="c3"><span class="c5">000006E0 66747064 00000000 00000000 00000000 |</span><span class="c4">ftpd</span><span class="c5">............|</span></p><p class="c3"><span class="c5">000006F0 00000000 00000000 00000000 00000000 |................|</span></p><p class="c3"><span class="c5">00000700 00000000 00000000 00000000 000000CF |................|</span></p><p class="c3"><span class="c6 c5">00000710 00000000 00000020 00000000 000000BE |....... ........|</span></p><a id="id.30j0zll"></a><ol class="c60 lst-kix_list_9-0 start" start="1"><li class="c7 c29 c70 li-bullet-1"><span class="c6 c23 c68"></span></li></ol><ol class="c60 lst-kix_list_9-1 start" start="1"><li class="c27 c78 c7 li-bullet-1"><span class="c62 c23">You should run&nbsp;</span><span class="c62 c52 c50">dbx</span><span class="c62 c23">&nbsp;on the binary executable that caused the core dump. This will display the offending system call. In the following example the program that caused the core dump is&nbsp;</span><span class="c62 c52 c50">sleep</span><span class="c23 c62">. Running&nbsp;</span><span class="c62 c52 c50">dbx</span><span class="c6 c23 c68">&nbsp;against the sleep command shows that the offending system call was sleep. AIX Support personnel may ask for this information in some cases.</span></li><li class="c27 c78 c7 li-bullet-1"><span class="c6 c65">&nbsp; &nbsp; dbx /usr/bin/sleep core </span></li><li class="c27 c78 c7 li-bullet-2"><span class="c6 c65">&nbsp; &nbsp; Type &#39;help&#39; for help. </span></li><li class="c27 c78 c7 li-bullet-2"><span class="c6 c65">&nbsp; &nbsp; reading symbolic information ...warning: no source </span></li><li class="c27 c7 c78 li-bullet-2"><span class="c6 c65">&nbsp; &nbsp; compiled with -g </span></li><li class="c27 c78 c7 li-bullet-1"><span class="c6 c65">&nbsp; &nbsp; [using memory image in core] </span></li><li class="c27 c78 c7 li-bullet-1"><span class="c6 c65">&nbsp; &nbsp; Segmentation fault in sleep at 0xd0019cd8 </span></li><li class="c27 c78 c7 li-bullet-2"><span class="c6 c65">&nbsp; &nbsp; 0xd0019cd8 (sleep+0x40) 80410014 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; r2,0x14(rl) </span></li><li class="c27 c78 c7 li-bullet-1"><span class="c6 c65">&nbsp; &nbsp; (dbx) where </span></li><li class="c27 c78 c7 li-bullet-1"><span class="c6 c65">&nbsp; &nbsp; sleep(??) at 0xd0019cd8 </span></li><li class="c27 c78 c7 li-bullet-2"><span class="c6 c65">&nbsp; &nbsp; main(??, ??) at 0x10000378 </span></li><li class="c27 c78 c7 li-bullet-1"><span class="c6 c65">&nbsp; &nbsp; (dbx) quit </span></li></ol><p class="c84 c7"><span class="c62 c23">If AIX Support personnel determines that the core dump needs to be sent in to the support center, then also send the output of the&nbsp;</span><span class="c62 c52 c50">snap -g</span><span class="c62 c23">&nbsp;command. This gathers the output of the&nbsp;</span><span class="c62 c52 c50">lslpp -hBc</span><span class="c6 c23 c68">&nbsp;command, which is required to recreate exact operating system environments.</span></p><p class="c84 c7"><span class="c6 c23 c68">A core file is generated when a program tries to do something illegal on the system. The usual cause is an attempt to access memory outside the memory assigned to the program by the system. Core files are usually caused by a program error or some type of data corruption.</span></p><p class="c84 c7"><span class="c6 c23 c68">Unless the program that caused the core file is a special debug version of the program, usually the only useful information in the core file is the name of the module or program that caused the core dump.</span></p><p class="c7 c84"><span class="c62 c23">Examining the&nbsp;</span><span class="c62 c52 c50">errpt -a</span><span class="c6 c23 c68">&nbsp;log frequently alerts you to possible problems with the system that may be the cause of the core file.</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c0"></span></p><p class="c8"><span class="c4">cp command: </span></p><p class="c3"><span class="c5">cp -phR &lt;directory&gt; this preserves permissions(p), copies symbolic</span></p><p class="c3"><span class="c5">links(h) and recursive(R)</span></p><p class="c3"><span class="c5 c81">top</span></p><p class="c8"><span class="c4">mksysb: </span></p><p class="c3"><span class="c5">mksysb -ie /mnt/`hostname` the -i creates /image.data file which</span></p><p class="c3"><span class="c5">contains info on VG&#39;s,LV&#39;s, FS&#39;s,paging space and PV&#39;s</span></p><p class="c3"><span class="c4">Virtual Memory via smitty:</span></p><p class="c3"><span class="c5">smitty ChShCurVM</span></p><p class="c3"><span class="c5">smitty TunVmo</span></p><p class="c3"><span class="c4">Stop LDAP service:</span></p><p class="c3"><span class="c5">stop-secldapclntd</span></p><p class="c3"><span class="c4">Start LDAP service:</span></p><p class="c3"><span class="c5">start-secldapclntd</span></p><p class="c3"><span class="c4">Check if LDAP is running:</span></p><p class="c3"><span class="c5">appmd515:/:# &nbsp;ps -eaf |grep -i secldap</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; root 1098964 1 0Mar 17 &nbsp; &nbsp; &nbsp;- &nbsp;2:59 /usr/sbin/secldapclntd</span></p><p class="c3"><span class="c5">appmd515:/:#</span></p><p class="c3"><span class="c4">LDAP sanity check:</span></p><p class="c3"><span class="c5">Check /etc/hosts for properly configured ip address</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image89.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image89.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">LDAP is not configured on this server:</span></p><p class="c3"><span class="c5">phxipcinvgdb01&gt;ls -l /usr/lib/libibmldap.a</span></p><p class="c3"><span class="c5">/usr/lib/libibmldap.a not found</span></p><p class="c3"><span class="c5">phxipcinvgdb01&gt;ls -l /usr/ldap/lib/libibmldapn.a</span></p><p class="c3"><span class="c5">/usr/ldap/lib/libibmldapn.a not found</span></p><p class="c3"><span class="c5">phxipcinvgdb01&gt;ls -l /usr/lib/libibmldap64.a</span></p><p class="c3"><span class="c5">/usr/lib/libibmldap64.a not found</span></p><p class="c3"><span class="c4">Check for efix: CHECK BEFORE UPGRADING OS</span></p><p class="c3"><span class="c5">emgr -l - lists the fixes applied on the box</span></p><p class="c3"><span class="c5">emgr -r -L &lt;label&gt; - Removes the fix</span></p><p class="c3"><span class="c5">emgr -P &gt; /tmp/efix.list</span></p><p class="c3"><span class="c5">emgr -pe - preview of install</span></p><p class="c3"><span class="c5">emgr -e &lt;ifix&gt; - installs the ifix</span></p><p class="c8"><span class="c4">Exported NFS with &#39;permissions set correctly&#39; but still getting access:</span><span class="c12">&nbsp;</span><span class="c6 c5">Check that portmap and nfs is running. make sure portmap is started before nfs </span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c4">Stale nfs?:</span></p><p class="c8"><span class="c6 c5">/etc/nfs.clean then /etc/fc.nfs</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c3"><span class="c5">[padmin@vlvio02]/home/padmin&gt;mount 10.7.1.69:/software /mnt</span></p><p class="c3"><span class="c5">nfsmnthelp: 1831-019 10.7.1.69: System call error number -1.</span></p><p class="c8"><span class="c5">mount: 1831-008 giving up on:</span><span class="c11">&nbsp;</span><span class="c5">10.7.1.69:/software</span><span class="c11">&nbsp;</span><span class="c5">System call error number -1.</span><span class="c11">&nbsp;</span><span class="c4">Resolution: This is usually caused by the reverse lookup problem </span></p><p class="c3"><span class="c4">Boot Devices:</span></p><p class="c8"><span class="c5">ipl_varyon -i Indicates which PV is your BOOT drive </span></p><p class="c3"><span class="c4">Set bootlist for Normal mode:</span></p><p class="c3"><span class="c5">bootlist -m normal hdisk0 hdisk1 rmt0 fd</span></p><p class="c3"><span class="c4">Which disk did I boot off of?</span></p><p class="c8"><span class="c5">alog -o -f /var/adm/ras/bootlog|grep &quot;boot device&quot;</span><span class="c11">&nbsp;</span><span class="c5">bootinfo -b</span><span class="c11">&nbsp;</span><span class="c5">bootinfo should no longer be used. getconf should be used instead </span><span class="c4">What was the device the system was last booted from?</span><span class="c12">&nbsp;</span><span class="c5">$ getconf BOOT_DEVICE</span><span class="c11">&nbsp;</span><span class="c5">hdisk0 </span></p><p class="c8"><span class="c4">What size is a particular disk in the system? </span></p><p class="c8"><span class="c5">$ getconf DISK_SIZE /dev/hdisk0 10240 </span></p><p class="c8"><span class="c4">What partition size is being used on a disk in the system? </span></p><p class="c8"><span class="c5">$ getconf DISK_PARTITION /dev/hdisk0 16 </span></p><p class="c8"><span class="c4">Is the machine capable of running a 64-bit kernel? </span></p><p class="c8"><span class="c5">$ getconf HARDWARE_BITMODE 64 </span></p><p class="c8"><span class="c4">Is the system currently running a 64-bit or 32-bit kernel? </span></p><p class="c8"><span class="c5">$ getconf KERNEL_BITMODE 64 </span></p><p class="c8"><span class="c4">How much real memory does the system have? </span></p><p class="c8"><span class="c5">$ getconf REAL_MEMORY 524288 </span></p><p class="c8"><span class="c4">Move a logical volume from one disk to another in the same volume group:</span></p><p class="c8"><span class="c5">migratepv -l hd6 &lt;source_hdisk&gt; &lt;target_hdisk&gt; </span></p><p class="c3"><span class="c4">To move all data from one disk to another(must be same VG):</span></p><p class="c3"><span class="c5">migratepv &lt;source_hdisk&gt; &lt;target_hdisk&gt;</span></p><p class="c3"><span class="c4">Make copy of logical volume: -k sync&#39;s the LV</span></p><p class="c3"><span class="c5">/usr/sbin/mklvcopy &#39;-k&#39; &lt;lv_name&gt; &lt;#_of_copies(1-3)&gt; &lt;target_disk&gt;</span></p><p class="c3"><span class="c4">Remove a copy of a logical volume:</span></p><p class="c3"><span class="c5">/usr/sbin/rmlvcopy &lt;lv_name&gt; &lt;#_of_copies(1-3)&gt; &lt;disk_to_remove_from&gt;</span></p><p class="c3"><span class="c4">Dump Commands:</span></p><p class="c3"><span class="c5">sysdumpdev -l</span></p><p class="c3"><span class="c5">sysdumpdev -P -s&#39;/dev/sysdumpnull&#39; ::: sets(-s) secondary(-P) dump</span></p><p class="c3"><span class="c5">device to nulllsvg</span></p><p class="c3"><span class="c4">Change HMC user to allow GUI logins:</span></p><p class="c3"><span class="c6 c5">chhmcusr -i &quot;name=jtucker007,remote_webui_access=1&rdquo;</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c4">Rename a Device</span><span class="c6 c5">:</span></p><p class="c3"><span class="c6 c5">rendev -l name -n new_name</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">File in OS messed up:</span></p><p class="c3"><span class="c5">Assign RTE from NIM server, boot client off of NIM, change file.</span></p><p class="c3"><span class="c4">Listing HMC info from client LPARS:</span></p><p class="c8"><span class="c5">lsrsrc IBM.ManagementServer -- This will list the HMC info that the client is connected to.</span><span class="c11">&nbsp;</span><span class="c4">And for AIX 6.1TL6 and later:</span></p><p class="c8"><span class="c5">lsrsrc IBM.MCP </span></p><p class="c3"><span class="c4">but the best way to tell:</span></p><p class="c3"><span class="c5">/usr/sbin/rsct/bin/rmcdomainstatus -s ctrmc</span></p><p class="c3"><span class="c4">if lsrsrc returns nothing then try resarting the RMC daemons</span></p><p class="c3"><span class="c4">A specified file does not support the ioctl system call:</span></p><p class="c3"><span class="c5">comment out stty erase ^? in the .profile or there might be stale</span></p><p class="c3"><span class="c5">partitions in rootvg</span></p><p class="c3"><span class="c5">Try:</span></p><p class="c3"><span class="c6 c5">umount /tmp, syncvg -v rootvg; fsck -y /tmp; mount /tmp</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c5">Disk LUN ID and disk size:</span></p><p class="c42"><span class="c6 c5">for XX in `lspv | awk &#39;{print $1}&#39; `</span></p><p class="c42"><span class="c6 c5">&nbsp; do</span></p><p class="c42"><span class="c6 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VG=`lspv | grep &quot;$XX &quot; | awk &#39;{print $3}&#39; `</span></p><p class="c42"><span class="c6 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WUID=`lsattr -El $XX | grep uniq | awk &#39;{print $2}&#39; | cut -c6-37`</span></p><p class="c42"><span class="c6 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SZ=`getconf DISK_SIZE /dev/$XX`</span></p><p class="c42"><span class="c6 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $XX = $SZ = $WUID = $VG</span></p><p class="c42"><span class="c6 c5">&nbsp; &nbsp;done</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c4">Microcode: </span></p><p class="c8"><span class="c5">lsconf|pg</span><span class="c11">&nbsp;</span><span class="c5">lsmcode --- List the microcode on the managed system from the client LPAR</span><span class="c11">&nbsp;</span><span class="c5">lsmcode -d fcs0</span><span class="c11">&nbsp;</span><span class="c4">note:</span><span class="c12">&nbsp;</span><span class="c4">For VIOS, make sure VIOC are down and reboot the VIOS to clear any connections up(&amp; its verifies &quot;rebootability&quot; of VIOS) </span></p><p class="c3"><span class="c4">How to update microcode on fiber cards(HBA&#39;s):</span></p><p class="c8"><span class="c5">lscfg -vl fcs0 and look for the Customer Card ID Number(i.e. 5773) then go to fix central and download updates and instructions </span><span class="c4">Unpack RPM: </span><span class="c5">rpm -ivh --ignoreos &lt;rpm_package&gt;</span><span class="c11">&nbsp;</span><span class="c4">Install: </span><span class="c5">diag fcsX -T download </span></p><p class="c3"><span class="c4">Create a big file:(1GB)</span></p><p class="c3"><span class="c5">dd if=/dev/zero of=bigfile bs=1k count=10000</span></p><p class="c3"><span class="c4">Another way to create a large file is:</span></p><p class="c3"><span class="c2 c51"># /usr/sbin/lmktemp ./test.large.file 1024</span></p><p class="c3"><span class="c2 c51">creates a 1024byte file</span></p><p class="c8"><span class="c5 c51">You can use this large file for adapter throughput testing purposes: </span></p><p class="c3"><span class="c4">Write large sequential I/O test:</span></p><p class="c3"><span class="c2 c51"># cd /BIG</span></p><p class="c3"><span class="c2 c51"># time /usr/sbin/lmktemp 2GBtestfile 2147483648</span></p><p class="c8"><span class="c5 c51">Divide 2048/#seconds for MB/sec write speed. </span></p><p class="c3"><span class="c4">Read large sequential I/O test:</span></p><p class="c8"><span class="c2 c51"># umount /BIG </span></p><p class="c8"><span class="c5 c51">(This will flush file from memory) </span></p><p class="c3"><span class="c2 c51"># mount /BIG</span></p><p class="c3"><span class="c2 c51"># time cp 2GBtestfile /dev/null</span></p><p class="c8"><span class="c5 c51">Divide 2048/#seconds for MB/sec read speed.</span><span class="c11 c51">&nbsp;</span><span class="c5 c51">Tip: Run </span><span class="c5 c93">nmon </span><span class="c5 c51">(select </span><span class="c4 c51">a </span><span class="c5 c51">for adapter) in another window. You will see the throughput for each </span></p><p class="c8"><span class="c5 c51">adapter. </span></p><p class="c3"><span class="c4">What I did to determine if I could update HMC code:</span></p><p class="c3"><span class="c5">CALLED IBM SUPPORT!</span></p><p class="c3"><span class="c5">Get the matrix HMC &amp; Server code combinations</span></p><p class="c3"><span class="c5">http://www14.software.ibm.com/webapp/set2/sas/f/power5cm/supportedcod</span></p><p class="c3"><span class="c5">ep5.html</span></p><p class="c3"><span class="c5">Determine your HMC level that you are going to then log into one(is</span></p><p class="c3"><span class="c5">sufficient) client LPAR on each managed system.</span></p><p class="c3"><span class="c5">Then compare it with the matrix above.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 31.93px; height: 1.47px;"><img alt="" src="images/image93.png" style="width: 31.93px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">If the code is an UPDATE then use &#39;Licensed Internal Code</span></p><p class="c3"><span class="c5">Maintenance&#39; -&gt; HMC Code Update -&gt; Install Corrective Service</span></p><p class="c3"><span class="c4">Resync stale LV states on rootvg:</span></p><p class="c3"><span class="c5">varyonvg rootvg or syncvg -P 32 -v</span></p><p class="c3"><span class="c4">If that fails because you cant write to /tmp:</span></p><p class="c3"><span class="c5">umount /tmp, syncvg -v rootvg; fsck -y /tmp; mount /tmp</span></p><p class="c3"><span class="c90 c103">fuser -ck /tmp;umount -f /tmp &larr; if you cant umount</span></p><p class="c3"><span class="c4">synclvodm: This will synchronize and rebuild the logical volume</span></p><p class="c3"><span class="c4">control block (LVCB), the ODM and the volume group descriptor area</span></p><p class="c3"><span class="c4">(VGDA).</span></p><p class="c3"><span class="c5 c43">synclvodm -v rootvg</span></p><p class="c8"><span class="c4">Fiber Card: </span></p><p class="c3"><span class="c4 c15">WWPN: World Wide Port Name</span></p><p class="c3"><span class="c4 c15">WWNN: World Wide Node Name</span></p><p class="c8"><span class="c5 c97">WWPN WWPN </span></p><p class="c3"><span class="c5">lsattr -El fscsi0 &lt;- use to check link status with switch</span></p><p class="c3"><span class="c5">When showing: attach switch &lt;-- This means that the HBA has logged</span></p><p class="c3"><span class="c5">into the switch. Run fcstat fcsX and look for transmission bytes. If</span></p><p class="c3"><span class="c5">showing: attach al then look at port type(mine is showing &#39;Private</span></p><p class="c3"><span class="c5">Loop&#39;) it needs to show: Fabric. rmdev then cfgmgr the suspect HBA&#39;s.</span></p><p class="c3"><span class="c4">fibrechannel card is linked to a switch port?</span></p><p class="c8"><span class="c5">lsattr -El fscsi0 -F value -a attach</span><span class="c11">&nbsp;</span><span class="c5">switch</span><span class="c11">&nbsp;</span><span class="c5">system is not connected to the switch (cable is present, but switch port not configured OR cables are loose or in wrong send/receive confg) - attach: none, no SCSI ID: </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 134.27px; height: 46.13px;"><img alt="" src="images/image91.png" style="width: 134.27px; height: 46.13px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 42.60px; height: 19.47px;"><img alt="" src="images/image87.png" style="width: 42.60px; height: 19.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5 c97">WWNN </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 42.60px; height: 19.47px;"><img alt="" src="images/image87.png" style="width: 42.60px; height: 19.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c5"># lsattr -El fscsi0</span></p><p class="c8"><span class="c4">attach none </span></p><p class="c8"><span class="c5">False</span><span class="c11">&nbsp;</span><span class="c5">dyntrk no</span><span class="c11">&nbsp;</span><span class="c5">fc_err_recov delayed_fail Policy True</span><span class="c11">&nbsp;</span><span class="c4">scsi_id</span><span class="c12">&nbsp;</span><span class="c5">sw_fc_class 3 </span></p><p class="c3"><span class="c5">&nbsp;How this adapter is CONNECTED</span></p><p class="c3"><span class="c5">Dynamic Tracking of FC Devices True</span></p><p class="c3"><span class="c5">FC Fabric Event Error RECOVERY</span></p><p class="c3"><span class="c5">Adapter SCSI ID False</span></p><p class="c3"><span class="c5">FC Class for Fabric True</span></p><p class="c8"><span class="c5">... and this is how it looks, if the card is connected to the switch: </span></p><p class="c3"><span class="c5"># lsattr -El fscsi1</span></p><p class="c3"><span class="c5">attach switch</span></p><p class="c3"><span class="c5">dyntrk no</span></p><p class="c3"><span class="c5">fc_err_recov delayed_fail</span></p><p class="c3"><span class="c5">Policy True</span></p><p class="c3"><span class="c5">scsi_id 0x610100</span></p><p class="c3"><span class="c5">sw_fc_class 3</span></p><p class="c3"><span class="c5">How this adapter is CONNECTED False</span></p><p class="c3"><span class="c5">Dynamic Tracking of FC Devices True</span></p><p class="c3"><span class="c5">FC Fabric Event Error RECOVERY</span></p><p class="c3"><span class="c5">Adapter SCSI ID False</span></p><p class="c3"><span class="c5">FC Class for Fabric True</span></p><p class="c8"><span class="c5">... and this is how it looks if there is no cable to a switch at all: </span></p><p class="c3"><span class="c5"># lsattr -El fscsi1</span></p><p class="c3"><span class="c5">attach al</span></p><p class="c3"><span class="c5">dyntrk no</span></p><p class="c3"><span class="c5">fc_err_recov delayed_fail</span></p><p class="c3"><span class="c5">Policy True</span></p><p class="c3"><span class="c5">scsi_id 0x610100</span></p><p class="c3"><span class="c5">sw_fc_class 3</span></p><p class="c3"><span class="c5">How this adapter is CONNECTED False</span></p><p class="c3"><span class="c5">Dynamic Tracking of FC Devices True</span></p><p class="c3"><span class="c5">FC Fabric Event Error RECOVERY</span></p><p class="c3"><span class="c5">Adapter SCSI ID False</span></p><p class="c3"><span class="c5">FC Class for Fabric True</span></p><p class="c8"><span class="c4">al </span><span class="c5">means </span><span class="c5 c15 c102">Arbitrary Loop</span><span class="c5">. You get this if there is no cable plugged into the fibre channel card. But you also get this if the system is directly attached to a storage box (e.g. FAStT). In the latter case there is nothing wrong if you see </span><span class="c4">attach: al </span></p><p class="c3"><span class="c4">hdisk in MISSING state:</span></p><p class="c3"><span class="c5">Check lsdev -Cc disk ::: if virtual then check VIO server otherwise</span></p><p class="c3"><span class="c5">check connection to storage</span></p><p class="c3"><span class="c5">It is possible that it has been removed logically via VIO or that the</span></p><p class="c3"><span class="c5">physical disk is bad.</span></p><p class="c3"><span class="c4">hdisk in REMOVED state:</span></p><p class="c3"><span class="c4">[root@cg1p46a]:/home/root# lsvg -p rootvg</span></p><p class="c3"><span class="c4">0516-304 : Unable to find device id 00c20b45117c8c37 in the Device</span></p><p class="c3"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Configuration Database.</span></p><p class="c3"><span class="c4">rootvg:</span></p><p class="c3"><span class="c4">PV ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PV STATE</span></p><p class="c3"><span class="c4">DISTRIBUTION</span></p><p class="c3"><span class="c4">00c20b45117c8c37 &nbsp;removed</span></p><p class="c3"><span class="c4">78..109..109..109..109</span></p><p class="c3"><span class="c4">hdisk1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;active</span></p><p class="c3"><span class="c4">00..00..00..00..74</span></p><p class="c3"><span class="c4">TOTAL PPs</span></p><p class="c3"><span class="c4">&nbsp; &nbsp;546</span></p><p class="c3"><span class="c4">&nbsp; &nbsp;546</span></p><p class="c3"><span class="c4">FREE PPs &nbsp; &nbsp;FREE</span></p><p class="c3"><span class="c4">&nbsp; &nbsp;514</span></p><p class="c8"><span class="c4">74 </span></p><p class="c3"><span class="c5">to fix the removed state use chpv -va &lt;hdisk_or_hdiskpower&gt;</span></p><p class="c8"><span class="c5">reducevg rootvg 00c20b45117c8c37 </span><span class="c4">(but this error&#39;d out because there was allocated partitions on the PV)</span><span class="c12">&nbsp;</span><span class="c5">lspv -l 00c20b45117c8c37 </span><span class="c4">(listed LV name which I verified wasnt being </span></p><p class="c3"><span class="c4">used so I removed it, rmlv) then I was able to extendvg and mirror</span></p><p class="c8"><span class="c4">NFS-NIM error:</span><span class="c12">&nbsp;</span><span class="c4">0042-124 c_ch_nfsexp: NFS option sec=sys is NOT supported</span><span class="c12">&nbsp;</span><span class="c5">This can happen if you have NFS exported a filesystem/directory that is also a NIM resource.</span><span class="c11">&nbsp;</span><span class="c5">Un-export the filesystem/directory and try again to see if the error still exists </span></p><p class="c3"><span class="c4">Special Characters used in NFS share:</span></p><p class="c3"><span class="c5">AMEX used a bunch of different country language code pages and when</span></p><p class="c3"><span class="c5">you accessed them from the NFS client you would get an error, even</span></p><p class="c3"><span class="c5">when you tried creating directories. Resolution was:</span></p><p class="c3"><span class="c5"># nfso -o utf8_validation=0 # dynamic change just for the running</span></p><p class="c3"><span class="c5">environment</span></p><p class="c3"><span class="c5"># nfso -r -o utf8_validation=0 # permanent change</span></p><p class="c3"><span class="c5">Apparently by default NFS does language code checking using UTF-8.</span></p><p class="c3"><span class="c4">NFS server cgnim01 not responding still trying:PMR 89179-49r Tu</span></p><p class="c3"><span class="c5">NFS would run for a while then just DIE and never come back. Issues</span></p><p class="c3"><span class="c5">was dup IP on network. Seen different MAC addresses responding to NIM</span></p><p class="c3"><span class="c5">server. I shutdown the interface that had the IP Addy originally then</span></p><p class="c3"><span class="c5">everything worked great</span></p><p class="c3"><span class="c5">REMEMBER TO DO SMITTY NIM_BOSINST so that the client can get the</span></p><p class="c3"><span class="c5">resource. Once this is done then you can</span></p><p class="c3"><span class="c5">check /etc/bootptab on the NIM Master and see the details of the NIM</span></p><p class="c3"><span class="c5">client connection. &lt;-- very kewl!</span></p><p class="c3"><span class="c5">System booting to what looks like the screen for the CD??? check the</span></p><p class="c3"><span class="c5">lpar profile setting on HMC!</span></p><p class="c3"><span class="c6 c4">Logical Volumes:</span></p><p class="c3"><span class="c6 c5">lslv &lt;logical_volume_name&gt;</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c4">0516-404 allocp: cannot keep strictness error</span><span class="c6 c5">:</span></p><p class="c3"><span class="c6 c5">lslv &lt;lv_name&gt; check upper bound. This setting is the maximum number of disks that the LV is allowed to traverse. To change this run:</span></p><p class="c3"><span class="c6 c5">chlv -u 1024 &lt;lv_name&gt; then run your chfs command again</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c5">0516-787 extendlv: Maximum allocation for logical volume(-u is for max # of PV&#39;s, -x is for max # of logical partition(use this))</span></p><p class="c3"><span class="c5">/usr/sbin/chlv -u&#39;128&#39; -x&#39;2048&#39; lv_name_here &lt;- this changes the</span></p><p class="c3"><span class="c6 c4">MAXIMUM NUMBER OF LOGICAL PARTITIONS</span></p><p class="c3"><span class="c6 c5">Quick Calc: </span></p><p class="c3"><span class="c6 c5">lslv &lt;lv_name&gt;</span></p><p class="c3"><span class="c6 c5">Look at LPs(this is the currently allocated to this LV)</span></p><p class="c3"><span class="c6 c5">Look at PP Size&hellip;if you multiple these 2 together and divide by 1024 you will get the current size(df -g)</span></p><p class="c3"><span class="c4">If you want to see what the maximum size you can increase the file system to:</span><span class="c6 c5">&nbsp;multiple MAX LPs times PP Size then divide by 1024 will give you GB</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c4">Increase by certain amount:</span><span class="c6 c5">&nbsp;</span></p><p class="c3"><span class="c6 c5">Value of chlv &ndash;x&lt;value&gt; is how many PP Size = 1G?</span></p><p class="c3"><span class="c6 c5">Take that number and multiple it by increase size.</span></p><p class="c3"><span class="c6 c5">i.e. increase 500M PP Size = 256M</span></p><p class="c3"><span class="c5">4 PP Sizes = 1G so multiple 4 * 500 = 2000 so add 2000 to current MAX LPs and use that number as your X factor</span></p><p class="c3"><span class="c5">example: /usr/sbin/chlv -x&#39;2048&#39; fdata08</span></p><p class="c3"><span class="c4">to keep strictness and satisfy allocation requests</span></p><p class="c3"><span class="c5">Usually means that the file system is mirrored. So you need to take</span></p><p class="c3"><span class="c5">into account that extra space when determining how much free PP&rsquo;s are</span></p><p class="c3"><span class="c6 c5">available</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">Did a LUN inside a VG increase in size?</span></p><p class="c3"><span class="c6 c5">chvg &ndash;g &lt;VG_Name&gt;</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">How do I know if my volume group is normal, big, or scalable?</span></p><p class="c3"><span class="c5">lsvg:MAX PVs:32 normal, 128 big, 1024 scalable</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c4">Change T factor on VG:</span></p><p class="c3"><span class="c5"># chvg -t &lt;factor&gt; vgname</span></p><p class="c3"><span class="c5">-t factor PPs per PV Max PVs Max PVs (Big VG)</span></p><p class="c3"><span class="c5">1 1016 32 128</span></p><p class="c3"><span class="c5">2 2032 16 64</span></p><p class="c3"><span class="c5">3 3048 10 42</span></p><p class="c3"><span class="c5">4 4064 8 32</span></p><p class="c3"><span class="c5">5 5080 6 25</span></p><p class="c3"><span class="c5">6 6096 5 21</span></p><p class="c3"><span class="c5">7 7112 4 18</span></p><p class="c3"><span class="c5">8 8128 4 16</span></p><p class="c3"><span class="c5">9 9144 3 14</span></p><p class="c3"><span class="c5">10 10160 3 12</span></p><p class="c3"><span class="c5">11 11176 2 11</span></p><p class="c3"><span class="c5">12 12192 2 10</span></p><p class="c3"><span class="c5">13 13208 2 9</span></p><p class="c3"><span class="c5">14 14224 2 9</span></p><p class="c3"><span class="c5">15 15240 2 8</span></p><p class="c3"><span class="c5">16 16256 2 8</span></p><p class="c8"><span class="c4">LSSRC: </span></p><p class="c3"><span class="c5">lssrc -ls inted ::: the -l shows the status for the subsystem</span></p><p class="c3"><span class="c4">VMSTAT stuff learned:</span></p><p class="c3"><span class="c5">if a file system is using normal I/O then vmstat -sv|grep numperm</span></p><p class="c3"><span class="c5">will show some percentage ie:</span></p><p class="c3"><span class="c5">sfnim02&gt;&gt;vmstat -sv|grep numperm</span></p><p class="c3"><span class="c5">75.2 numperm percentage</span></p><p class="c3"><span class="c5">but if the file system is mounted with the DIO option then the</span></p><p class="c3"><span class="c5">numperm percentage should be zero</span></p><p class="c3"><span class="c5">In order to make the VIOS disable folding vCPUs&#39; permanent the -p</span></p><p class="c3"><span class="c5">option is needed for the schedo command, similar to vmo and ioo</span></p><p class="c3"><span class="c5">commands.</span></p><p class="c3"><span class="c5">This should be documented in vial or the admin log since there is no</span></p><p class="c3"><span class="c5">record of this change, other than the schedo command.</span></p><p class="c3"><span class="c5">This should be tested by checking schedo -a after booting the VIOS</span></p><p class="c3"><span class="c5">as:</span></p><p class="c3"><span class="c5">schedo -a | grep xvcpus</span></p><p class="c3"><span class="c5">schedo -p -o vpm_xvcpus=-1</span></p><p class="c3"><span class="c5">schedo -a | grep xvcpus</span></p><p class="c3"><span class="c5">shutdown and reboot the VIOS</span></p><p class="c3"><span class="c5">schedo -a | grep xvcpus</span></p><p class="c3"><span class="c4">MTLIB COMMANDS REFERENCE</span></p><p class="c3"><span class="c4">#To check tape mounts:</span></p><p class="c3"><span class="c5">mtlib -l/dev/lmcp0 -qM</span></p><p class="c3"><span class="c4">#To check all tapes (shows all CAT codes):</span></p><p class="c3"><span class="c5">mtlib -l/dev/lmcp0 -qI</span></p><p class="c3"><span class="c4">#To check status on a particular volume:</span></p><p class="c3"><span class="c5">mtlib -l/dev/lmcp0 -qV -V volume_ser</span></p><p class="c3"><span class="c4">#To check status of the ATL:</span></p><p class="c3"><span class="c5">mtlib -l/dev/lmcp0 -qL</span></p><p class="c3"><span class="c4">#To change the CAT code on a volume:</span></p><p class="c3"><span class="c5">mtlib -l/dev/lmcp0 -C -V tape_volume -s old_cat -t new_cat</span></p><p class="c3"><span class="c4">#To mount a volume (manually):</span></p><p class="c3"><span class="c5">mtlib -l/dev/lmcp0 -m -f /dev/rmt0 -V 002666</span></p><p class="c3"><span class="c4">#To dismount an unloaded tape:</span></p><p class="c3"><span class="c5">mtlib -l (library) -f /dev/rmtxx -d</span></p><p class="c8"><span class="c4">RPM&#39;s on AIX</span><span class="c12">&nbsp;</span><span class="c4">to list:</span><span class="c12">&nbsp;</span><span class="c5">rpm -q &lt;package_name&gt; or rpm -qa (queries all packages) </span></p><p class="c8"><span class="c5">wwwdev01(root):/usr/local/bin&gt;rpm -q libgcc libgcc-4.2.0-3</span><span class="c11">&nbsp;</span><span class="c4">to install:</span><span class="c12">&nbsp;</span><span class="c6 c5">rpm -i &lt;package_name&gt; </span></p><p class="c8"><span class="c6 c5">List the dependency package using:</span></p><p class="c8"><span class="c6 c5">rpm &ndash;qRp &lt;package_name&gt;</span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c5">so installing rpm.rte will create AIX-rpm-7.1.5.15.1.ppc</span></p><p class="c8"><span class="c6 c4">When oslevel and other commands come back with rpm/rpmdb errors:</span></p><p class="c8"><span class="c6 c5">mv /var/lib/rpm/_db* /tmp/</span></p><p class="c8"><span class="c6 c5">rpm --rebuilddb</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Removing a file with funny characters in it:(Michael Rowen)</span></p><p class="c8"><span class="c4 c89">First you can use the od -a command to look at the characters in each file name:</span><span class="c12 c18 c89">&nbsp;</span></p><p class="c8"><span class="c5"># ls Mail_* | od -a | more</span><span class="c11">&nbsp;</span><span class="c5">0000000 M a i l _ R C bs D C _ T r a d e </span></p><p class="c3"><span class="c5">0000020 _ C o u n t . s h lf M a i l _ R</span></p><p class="c3"><span class="c5">0000040 D C _ T r a d e _ C o u n t . s</span></p><p class="c3"><span class="c5">0000060 h lf M a i l _ R D C _ U s e r s</span></p><p class="c3"><span class="c5">0000100 . s h lf M a i l _ R D C _ U s e</span></p><p class="c3"><span class="c5">0000120 r s . s h bs bs bs _ n e w . s h lf</span></p><p class="c3"><span class="c5">0000140 M a i l _ R D C _ U s e r s _ n</span></p><p class="c3"><span class="c5">0000160 e w 1 . s h lf</span></p><p class="c3"><span class="c5">0000167 </span></p><p class="c8"><span class="c4 c89">If you look at the above output, you can see that there are 3 &quot;bs&quot; backspace characters in there. So the file names is really:</span><span class="c12 c89">&nbsp;</span><span class="c5">M a i l _ R D C _ U s e r s . s h bs bs bs _ n e w . s h </span></p><p class="c8"><span class="c4 c89">What you can do instead is use the inode number which is unique for any file. Use ls with the -i option to list inodes.</span><span class="c12 c18 c89">&nbsp;</span></p><p class="c8"><span class="c5"># ls -i Mail_*</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c5">37688 Mail_RDC_Trade_Count.sh </span></p><p class="c3"><span class="c5">38982 Mail_RDC_Trade_Count.sh</span></p><p class="c3"><span class="c5">38717 Mail_RDC_Users.sh</span></p><p class="c3"><span class="c5">37620 Mail_RDC_Users_new.sh</span></p><p class="c3"><span class="c5">38080 Mail_RDC_Users_new1.sh</span></p><p class="c3"><span class="c5"># ls -i Mail_* | od -a</span></p><p class="c3"><span class="c5">0000000 3 7 6 8 8 sp M a i l _ R C bs D C</span></p><p class="c3"><span class="c5">0000020 _ T r a d e _ C o u n t . s h lf</span></p><p class="c3"><span class="c5">0000040 3 8 9 8 2 sp M a i l _ R D C _ T</span></p><p class="c3"><span class="c5">0000060 r a d e _ C o u n t . s h lf 3 8</span></p><p class="c3"><span class="c5">0000100 7 1 7 sp M a i l _ R D C _ U s e</span></p><p class="c3"><span class="c5">0000120 r s . s h lf 3 7 6 2 0 sp M a i l</span></p><p class="c3"><span class="c5">0000140 _ R D C _ U s e r s . s h bs bs bs</span></p><p class="c3"><span class="c5">0000160 _ n e w . s h lf 3 8 0 8 0 sp M a</span></p><p class="c3"><span class="c5">0000200 i l _ R D C _ U s e r s _ n e w</span></p><p class="c3"><span class="c5">0000220 1 . s h lf</span></p><p class="c3"><span class="c5 c89">So the inode number we are interested in is 37620. You can then use</span><span>&nbsp;</span><span class="c5 c89">the find command with options to match by inode and remove the file:</span></p><p class="c3"><span class="c5"># find ./ -inum 37620</span></p><p class="c3"><span class="c5">./Mail_RDC_Users_new.sh</span></p><p class="c3"><span class="c5"># find ./ -inum 37620 | od -a</span></p><p class="c3"><span class="c5">0000000 . / M a i l _ R D C _ U s e r s</span></p><p class="c3"><span class="c5">0000020 . s h bs bs bs _ n e w . s h lf</span></p><p class="c3"><span class="c5">0000036</span></p><p class="c3"><span class="c5 c89">So we verified that this is the file causing us problems. To actually</span></p><p class="c3"><span class="c5 c89">remove it add the rm command to the find command as follows:</span></p><p class="c3"><span class="c5 c45">find ./ -inum 37620 -exec rm {} \;</span></p><p class="c3"><span class="c5 c45">Anh Salmonson&#39;s version:</span></p><p class="c3"><span class="c5 c45">cd /var/ct/SAP_PRD_P31/registry/local_tree</span></p><p class="c3"><span class="c5 c45">ls -li --&gt; list by inode number</span></p><p class="c3"><span class="c5 c45">find . -inum 12701 --&gt; make sure this outputs 1 file</span></p><p class="c3"><span class="c5 c45">find . -inum 12701 -exec rm {} \;</span></p><p class="c8"><span class="c4">Disk Errors: </span></p><p class="c3"><span class="c5">SC_DISK_ERR4. IBM suppt had me look at the sense data and they decoded it. Fields looked at were. Top Right then count left to</span></p><p class="c3"><span class="c5">column 3 &amp; 4</span></p><p class="c3"><span class="c5">FSCSI_ERR4. Sense Data Fields looked at were top left then count</span></p><p class="c3"><span class="c5">right, columns 3 &amp; 4. Also Bottom right then one up then count left</span></p><p class="c3"><span class="c5">to column 6.</span></p><p class="c3"><span class="c5">Basically IBM Supt knew the particulars of the error. Ended up</span></p><p class="c3"><span class="c5">running a snap -gbc and sent it in for analysis.</span></p><p class="c8"><span class="c5">SC_DISK_ERR2</span><span class="c11">&nbsp;</span><span class="c5">Check errpt to see if the IDENTIFIER is B6267342. Check link below for cause relating to nmon </span><span class="c5 c53">http://www.ibm.com/developerworks/forums/thread.jspa?threadID=334029&amp;tstart=0#14485246 </span></p><p class="c3"><span class="c4">Sending an attachment via mailx:</span></p><p class="c3"><span class="c5">uuencode /ecmd6qapp03_090423_0800.nmon nmondata.nmon | mailx -s&quot;nmon&quot;</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 87.13px; height: 1.53px;"><img alt="" src="images/image66.png" style="width: 87.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 39.20px; height: 1.53px;"><img alt="" src="images/image79.png" style="width: 39.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 34.73px; height: 1.53px;"><img alt="" src="images/image76.png" style="width: 34.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image78.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.13px; height: 1.53px;"><img alt="" src="images/image13.png" style="width: 7.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 48.73px; height: 1.53px;"><img alt="" src="images/image72.png" style="width: 48.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 58.60px; height: 1.53px;"><img alt="" src="images/image74.png" style="width: 58.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 27.60px; height: 1.53px;"><img alt="" src="images/image61.png" style="width: 27.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 75.53px; height: 1.53px;"><img alt="" src="images/image71.png" style="width: 75.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">jmtx@pge.com</span></p><p class="c3"><span class="c6 c5">uuencode &lt;file_name&gt; &lt;attachment_name&gt;</span></p><p class="c3"><span class="c6 c4">Email cofig file:</span></p><p class="c3"><span class="c6 c5">/etc/mail/sendmail.cf</span></p><p class="c3"><span class="c6 c5">Or</span></p><p class="c3"><span class="c6 c5">/etc/sendmail.cf</span></p><p class="c3"><span class="c6 c5">http://www-01.ibm.com/support/docview.wss?uid=isg3T1011822</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">EMAIL TESTING:</span></p><p class="c8"><span class="c5">telnet mail.contoso.com 25</span><span class="c11">&nbsp;</span><span class="c5">EHLO test.com</span></p><p class="c8"><span class="c4 c15">Type the following command to tell the receiving SMTP server who the message is from:</span></p><p class="c8"><span class="c5 c15">MAIL FROM:Admin@test.com</span></p><p class="c8"><span class="c4 c15">Type the following command with the SMTP address of the person you want to send to:</span><span class="c12 c15">&nbsp;</span><span class="c5 c15">RCPT TO: </span><span class="c30 c5 c15"><a class="c79" href="mailto:User@Domain.Com">User@Domain.Com</a></span><span class="c11 c15">&nbsp;</span><span class="c4">Type the following command to tell the SMTP server that you are ready to send data:</span><span class="c12">&nbsp;</span><span class="c4">DATA </span></p><p class="c8"><span class="c23 c57">1.</span><span class="c4">You are now ready to start typing the 822/2822 section of the message. The user will see this part of the message in their inbox. Type the following command to add a subject line: </span><span class="c5">Subject: test message</span><span class="c4">Press ENTER two times. You do not receive a response from this command. </span></p><p class="c8"><span class="c4">Note The two ENTER commands comply with Request for Comments (RFC) 822 and 2822. 822 commands must be followed by a blank line.</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c23 c57">2.</span><span class="c4">Type the following command to add message body text:</span><span class="c12">&nbsp;</span><span class="c5">This is a test message you will not see a response from this command. </span></p><p class="c8"><span class="c23 c57">3.</span><span class="c4">Type a period (.) at the next blank line, and then press ENTER. You receive the following response:</span><span class="c12">&nbsp;</span><span class="c5 c51">250 OK</span><span class="c11 c18 c51">&nbsp;</span></p><p class="c8"><span class="c23 c57">4.</span><span class="c4">Close the connection by typing the following command: </span></p><p class="c8"><span class="c5">QUIT </span></p><p class="c3"><span class="c5">Make sure that root:system own /usr/sbin/sendmail</span></p><p class="c3"><span class="c5">What is the version of sendmail on box?</span></p><p class="c3"><span class="c5">echo \$Z|sendmail -d0</span></p><p class="c8"><span class="c4">Can ping but ssh just drops</span><span class="c12">&nbsp;</span><span class="c4">need to login using console and run the below commands </span><span class="c5">stopsrc -s vasd ;</span><span class="c11">&nbsp;</span><span class="c4">kill remnants vasd pids</span><span class="c12">&nbsp;</span><span class="c5">startsrc -s vasd ;</span><span class="c11">&nbsp;</span><span class="c5">startsrc -s pblocald </span></p><p class="c3"><span class="c5">netstat notes:</span></p><p class="c8"><span class="c5">netstat -in </span></p><p class="c3"><span class="c5"># netstat -in</span></p><p class="c3"><span class="c5">Name Mtu &nbsp;Network &nbsp;Address Ipkts Ierrs Opkts Oerrs Coll</span></p><p class="c3"><span class="c5">en0 &nbsp;1500 link#2 0.21.5e.34.34.42 204041005 &nbsp;0 67446977 3 0</span></p><p class="c3"><span class="c5">en0 &nbsp;1500 172.18.185 172.18.185.42 204041005 0 67446977 3 0</span></p><p class="c3"><span class="c5">en0 &nbsp;1500 172.18.184 172.18.184.53 204041005 0 67446977 3 0</span></p><p class="c3"><span class="c5">en0 &nbsp;1500 172.18.184 172.18.184.52 204041005 0 67446977 3 0</span></p><p class="c3"><span class="c5">en1 &nbsp;1500 link#3 0.21.5e.34.34.43 &nbsp;186308 &nbsp;0 &nbsp;491687 2 &nbsp;0</span></p><p class="c3"><span class="c5">en1 &nbsp;1500 172.19.185 172.19.185.46 &nbsp;186308 0 &nbsp;491687 2 0</span></p><p class="c3"><span class="c5">en2 &nbsp;1500 link#4 0.21.5e.34.34.e4 &nbsp;1471919 0 1204391 2 &nbsp;0</span></p><p class="c3"><span class="c5">en2 &nbsp;1500 172.18.186 172.18.186.41 1471919 0 1204391 2 0</span></p><p class="c8"><span class="c5">Name: Interface Name</span><span class="c11">&nbsp;</span><span class="c5">MTU: Maximum packet size(in bytes) transmitted via interface Network: Name of </span><span class="c4">HOST network </span><span class="c5">or IP Address</span><span class="c11">&nbsp;</span><span class="c5">Address: Either MAC or IP</span><span class="c11">&nbsp;</span><span class="c5">Ipkts: TOTAL number of packets received.</span><span class="c11">&nbsp;</span><span class="c5">Ierrs: TOTAL number of input errors. For example: Malformed packets, checksum errors or insufficient buffer space in device driver</span><span class="c11">&nbsp;</span><span class="c5">Opkts: TOTAL number of packets transmitted.</span><span class="c11">&nbsp;</span><span class="c5">Oerrs: TOTAL number of output errors. For example, a fault in the local host connection or adapter output queue overrun</span><span class="c11">&nbsp;</span><span class="c5">Coll: Number of packet collisions detected.</span><span class="c11">&nbsp;</span><span class="c5">The </span><span class="c4">netstat -i </span><span class="c5">command does not support the collision count for Ethernet interfaces (see entstat for Ethernet statistics) </span></p><p class="c8"><span class="c5">If the number of errors during output packets is greater than 1 percent of the total number of output packets (from the command </span><span class="c4">netstat -i</span><span class="c5">); that is,Oerrs &gt; 0.01 x Opkts</span><span class="c11">&nbsp;</span><span class="c5">Then increase the send queue size (</span><span class="c5 c15">xmt_que_size</span><span class="c5">) for that interface. The size of the </span><span class="c5 c15">xmt_que_size</span><span class="c5">could be checked with the following command:# lsattr -El </span><span class="c5 c15">adapter </span></p><p class="c3"><span class="c4 c15">subnet mask to /X to HEX table to #ofHosts:</span></p><p class="c3"><span class="c5 c15">255.255.240.0 /20</span></p><p class="c3"><span class="c5 c15">255.255.248.0 /21</span></p><p class="c3"><span class="c5 c15">255.255.252.0 /22</span></p><p class="c3"><span class="c5 c15">255.255.254.0 /23</span></p><p class="c3"><span class="c5 c40 c15">255.255.255.0 /24</span></p><p class="c3"><span class="c40 c61 c15">ffff8000 &nbsp; 255.255.128.0</span></p><p class="c3"><span class="c40 c61 c15">ffffc000 &nbsp; 255.255.192.0</span></p><p class="c3"><span class="c40 c61 c15">ffffe000 &nbsp; 255.255.224.0</span></p><p class="c3"><span class="c40 c15 c61">fffff000 &nbsp; 255.255.240.0</span></p><p class="c3"><span class="c40 c61 c15">fffff800 &nbsp; 255.255.248.0</span></p><p class="c3"><span class="c40 c61 c15">fffffc00 &nbsp; 255.255.252.0</span></p><p class="c3"><span class="c40 c61 c15">fffffe00 &nbsp; 255.255.254.0</span></p><p class="c3"><span class="c61 c15">ffffff00 &nbsp; 255.255.255.0</span></p><p class="c3 c29"><span class="c5 c15 c40"></span></p><p class="c3 c29"><span class="c5 c40 c15"></span></p><p class="c3"><span class="c4 c15">Data Rate Units:</span></p><p class="c3"><span class="c5 c15">fffff000 4096</span></p><p class="c3"><span class="c5 c15">fffff800 2048</span></p><p class="c3"><span class="c5 c15">fffffc00 1024</span></p><p class="c3"><span class="c5 c15">fffffe00 512</span></p><p class="c3"><span class="c5 c15">ffffff00 256</span></p><p class="c8"><span class="c5 c15">b stands for </span><span class="c5 c15 c28">bit</span><span class="c11 c15 c28">&nbsp;</span><span class="c5 c15">B stands for </span><span class="c5 c15 c28">byte</span><span class="c11 c15 c28">&nbsp;</span><span class="c5 c15">8 bits equal 1 byte</span><span class="c11 c15">&nbsp;</span><span class="c5 c15">10Gbps = 1.25GBps (divide the Gbps by 8(to convert to GBps) so 10 / 8 = 1.25 </span><span class="c5">So to get how much data you can transfer per hour in GBps:</span><span class="c11">&nbsp;</span><span class="c5">1.25 * 60 * 60 = 4500 GB per hour </span></p><p class="c8"><span class="c5">Mb/s or Mbps = Mega bits per second MB/s or MBps = Mega bytes per second Gb/s or Gbps = Giga bits per second </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image58.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image56.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">GB/s or GBps = Giga bytes per second </span></p><p class="c8"><span class="c5">So 1MB/s is the same as 8 Mbps 1Gbps = 1000Mbps which is 125MBps </span></p><p class="c8"><span class="c5">netstat -i -Z</span><span class="c11">&nbsp;</span><span class="c5">Clears all the statistics counters netstat -I &lt;enX&gt; &lt;interval&gt; </span></p><p class="c8"><span class="c5"># netstat -I en3 3</span><span class="c11">&nbsp;</span><span class="c5">input (en3) output </span><span class="c4 c14">input (Total) output </span></p><p class="c8"><span class="c5">packets errs packets errs colls </span><span class="c4 c14">packets errs packets errs colls </span><span class="c5">0 0 68 68 0 </span><span class="c4 c14">90613 0 43055 68 0 </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">000 0 0 2 0 0 0 </span></p><p class="c8"><span class="c5">0 0 </span><span class="c4 c14">4291 0 1975 0 0</span><span class="c12 c14">&nbsp;</span><span class="c5">2 0 </span><span class="c4 c14">55 0 66 2 0</span><span class="c12 c14">&nbsp;</span><span class="c5">0 0 </span><span class="c4 c14">39 0 30 0 nfs 0 </span></p><p class="c8"><span class="c5">There are 2 reports. On the left, the individual interface. On the right, ALL interfaces netstat -r </span></p><p class="c8"><span class="c5">Displays routing table info. </span></p><p class="c8"><span class="c5">Flags:</span><span class="c11">&nbsp;</span><span class="c5">A Active Dead Gateway Detection</span><span class="c11">&nbsp;</span><span class="c5">U UP</span><span class="c11">&nbsp;</span><span class="c5">H This is a HOST</span><span class="c11">&nbsp;</span><span class="c5">G The route is to a GATEWAY</span><span class="c11">&nbsp;</span><span class="c5">D The route was created dynamically by a redirect M route has been modified by a redirect</span><span class="c11">&nbsp;</span><span class="c5">L Link level address is present in the route entry</span><span class="c11">&nbsp;</span><span class="c5">c Access to this route creates a cloned route</span><span class="c11">&nbsp;</span><span class="c5">W Route is a cloned route</span><span class="c11">&nbsp;</span><span class="c5">b route represents a broadcast address</span><span class="c11">&nbsp;</span><span class="c5">e has a binding cache entry</span><span class="c11">&nbsp;</span><span class="c5">l route represents a local address</span><span class="c11">&nbsp;</span><span class="c5">m route represent a multicast address </span></p><ul class="c60 lst-kix_list_4-0 start"><li class="c8 c33 li-bullet-0"><span class="c5">R &nbsp;Host or Net not reachable </span><span class="c20 c38">&nbsp;</span></li><li class="c8 c33 li-bullet-0"><span class="c5">S &nbsp;Manually added </span><span class="c20 c38">&nbsp;</span></li></ul><p class="c8"><span class="c5">The character =&gt; at the end of the line means the line is a duplicate route of the route on the next line # netstat -rn </span></p><p class="c8"><span class="c5">Routing tables</span><span class="c11">&nbsp;</span><span class="c5">Destination Gateway Flags Refs Use If Exp Groups </span></p><p class="c8"><span class="c5">Route tree for Protocol Family 2 (Internet): </span></p><p class="c8"><span class="c5">default 127/8 172.18.184.0 </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">172.18.185.1 UG 11 64589545 en0 127.0.0.1 U 29 2219645 lo0 - - </span></p><p class="c8"><span class="c5">172.18.184.53 UHSb 0 0 en0 </span></p><p class="c8"><span class="c5">- -</span><span class="c11">&nbsp;</span><span class="c5">- - =&gt; </span></p><p class="c8"><span class="c5">172.18.184/24 172.18.184.52 172.18.184.53 172.18.184.255 172.18.185.0 172.18.185/24 172.18.185.42 172.18.185.255 172.18.186.0 172.18.186/24 </span></p><p class="c8"><span class="c4">netstat -rs </span></p><p class="c8"><span class="c5">172.18.184.53 U 127.0.0.1 UGHS 127.0.0.1 UGHS </span></p><p class="c8"><span class="c5">172.18.184.53 UHSb </span></p><p class="c8"><span class="c5">1 844762 en0 0 38979 lo0 0 180210 lo0 </span></p><p class="c8"><span class="c5">0 4 en0 0 0 en0 </span></p><p class="c8"><span class="c5">3 1759931 en0 2 907997 lo0 </span></p><p class="c8"><span class="c5">- - </span></p><p class="c8"><span class="c5">- - </span></p><p class="c8"><span class="c5">- - </span></p><p class="c8"><span class="c5">- - </span></p><p class="c8"><span class="c5">- - </span></p><p class="c8"><span class="c5">- - </span></p><p class="c8"><span class="c5">- - </span></p><p class="c8"><span class="c5">- - </span></p><p class="c8"><span class="c5">172.18.185.42 172.18.185.42 127.0.0.1 </span></p><p class="c8"><span class="c5">UHSb U </span></p><p class="c8"><span class="c5">UGHS </span></p><p class="c8"><span class="c5">- </span></p><p class="c8"><span class="c5">- </span></p><p class="c8"><span class="c5">- </span></p><p class="c8"><span class="c5">- </span></p><p class="c8"><span class="c5">=&gt; </span></p><p class="c8"><span class="c5">=&gt; </span></p><p class="c8"><span class="c5">172.18.185.42 172.18.186.41 </span></p><p class="c8"><span class="c5">172.18.186.41 </span></p><p class="c8"><span class="c5">UHSb 0 15 en0 </span></p><p class="c8"><span class="c5">UHSb 0 U 1 </span></p><p class="c8"><span class="c5">0 en2 938448 en2 </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.47px; height: 1.73px;"><img alt="" src="images/image51.png" style="width: 556.47px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c5">shows routing statistics</span></p><p class="c3"><span class="c5">routing:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 bad routing redirects</span></p><p class="c3"><span class="c5">0 dynamically created routes</span></p><p class="c3"><span class="c5">0 new gateways due to redirects</span></p><p class="c3"><span class="c5">3848 destinations found unreachable</span></p><p class="c3"><span class="c5">0 uses of a wildcard route</span></p><p class="c3"><span class="c5">Adjust virtual processor on UORC005N and UORC004S&#39;s</span></p><p class="c3"><span class="c5">profile on the HMC.</span></p><p class="c3"><span class="c5">Please apply the following for both LPARs:</span></p><p class="c3"><span class="c5">1) Select LPAR, click &#39;Tasks&#39; button,&amp; click &#39;Configuration&#39; &gt;</span></p><p class="c3"><span class="c5">&#39;Manage Profile&#39;</span></p><p class="c3"><span class="c5">2) Then edit the default profile</span></p><p class="c3"><span class="c5">3) On the &#39;Processors&#39; tab set the &#39;Maximum virtual processors&#39; to 4</span></p><p class="c3"><span class="c5">and click OK then click Close.</span></p><p class="c3"><span class="c5">4) Click &#39;Tasks&#39; button, and click &#39;Dynamic Logical Partitioning&#39; &gt;</span></p><p class="c3"><span class="c5">&#39;Processor&#39; &gt; &#39;Add/Remove&#39;</span></p><p class="c3"><span class="c5">5) Increase Virtual Processors to 2 then ok.</span></p><p class="c3"><span class="c5">6) select the logical partition, click the Tasks button, and click</span></p><p class="c3"><span class="c5">Configuration &gt; Save Current Configuration</span></p><p class="c3"><span class="c5">7) Enter the name of the new partition profile into New profile and</span></p><p class="c3"><span class="c5">click OK</span></p><p class="c8"><span class="c4">Listing 5. Using svmon with the -G flag </span></p><p class="c8"><span class="c4"># svmon -G </span></p><a id="t.525b8be17be60b1ea737b8e2b793d26f533a78b4"></a><a id="t.3"></a><table class="c74"><tr class="c41"><td class="c86" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c4">size </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c4">inuse </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c4">free </span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c8"><span class="c4">pin </span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c8"><span class="c4">virtual </span></p></td></tr><tr class="c41"><td class="c86" colspan="1" rowspan="1"><p class="c8"><span class="c4">memory </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c4">1048576 </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">1048416 </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">160 </span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c8"><span class="c5">79327 </span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c8"><span class="c5">137750 </span></p></td></tr><tr class="c41"><td class="c86" colspan="1" rowspan="1"><p class="c8"><span class="c5">pg space </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">1048576 </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">524 </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td></tr><tr class="c41"><td class="c86" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td></tr><tr class="c41"><td class="c86" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">work </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">pers </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">clnt </span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c8"><span class="c5">lpage </span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td></tr><tr class="c41"><td class="c86" colspan="1" rowspan="1"><p class="c8"><span class="c5">pin </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">79327 </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">0 </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">0 </span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c8"><span class="c5">0 </span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td></tr><tr class="c41"><td class="c86" colspan="1" rowspan="1"><p class="c8"><span class="c5">in use </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">137764 </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">910652 </span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c8"><span class="c5">0 </span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c8"><span class="c5">0 </span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c3 c29"><span class="c0"></span></p></td></tr></table><p class="c3"><span class="c5">The size reports back to total size of RAM in 4k pages. The inuse</span></p><p class="c3"><span class="c5">column reports back the pages in RAM used by processes plus the</span></p><p class="c3"><span class="c5">number of persistent pages that belonged to a terminated process and</span></p><p class="c3"><span class="c5">is still resident in RAM. Free reports back the amount of pages on</span></p><p class="c3"><span class="c5">the free list. Pin reports back the number of pages pinned in</span></p><p class="c3"><span class="c5">physical memory (RAM). This cannot be paged out.</span></p><p class="c8"><span class="c5">The paging space column reports back the actual use of paging space (in 4k pages). It&#39;s important to make the distinction between this and what is reported back in vmstat. The vmstat avm column shows ALL the virtual memory that is accessed, even if it is not paged out. I also like to look at the working and persistent numbers. These parameters show the number of both the working and persistent pages in RAM. Why is this important? As you might remember from </span><span class="c5 c53">Part 1</span><span class="c5">, I discussed some of the differences between working and persistent storage. Computational memory is used while your processes are working on actual computation. They use working segments, which are temporary (transitory) and only exist up until the time a process terminates or the page is stolen. File memory uses persistent segments and have actual permanent storage location on the disk. Data files or executable programs are mapped to persistent segments rather then working segments. Given the alternative, you would much rather have file memory paged to disk than computational memory. In this situation, computational memory is unfortunately paged out more than file memory. Perhaps a little tuning of the vmo parameters might help shift the balance in your favor. Another useful feature of svmon is that you can display memory statistics for a given process. </span><span class="c5 c53">Listing </span></p><p class="c8"><span class="c5 c53">6 </span><span class="c5">provides an example.</span><span class="c11">&nbsp;</span><span class="c4">Listing 6. Using svmon to display memory statistics for a given process </span></p><p class="c3"><span class="c5">From here you can determine that this process is not using paging</span></p><p class="c3"><span class="c5">space. Using the ps command I discussed earlier, in conjunction with</span></p><p class="c3"><span class="c5">svmon, positions you to find the offending memory resource hog.</span></p><p class="c3"><span class="c4">Changing the AIX Login Herald</span></p><p class="c8"><span class="c5">Here are two ways to customize the AIX login prompt.</span><span class="c11">&nbsp;</span><span class="c5">The first way is to add a &quot;herald&quot; in the default stanza in the </span><span class="c4">/etc/security/login.cfg </span><span class="c6 c5">file as follows </span></p><p class="c8 c29"><span class="c0"></span></p><p class="c3"><span class="c5">default: sak_enabled = false logintimes = logindisable = 0</span></p><p class="c3"><span class="c5">logininterval = 0 loginreenable = 0 logindelay = 0 herald =</span></p><p class="c3"><span class="c5"># svmon -P | grep -p 15256</span></p><p class="c3"><span class="c5">-----------------------------------------------------------</span></p><p class="c3"><span class="c5">-------------------- Pid Command Inuse Pin Pgsp Virtual 64-</span></p><p class="c3"><span class="c5">bit Mthrd LPage 15256 X 12102 3221 0 12022 N N N</span></p><p class="c3"><span class="c6 c5">&quot;Dodgers\r\nID:&quot;</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c5">The second method uses the &quot;chsec&quot; command to modify the same file:</span></p><p class="c8"><span class="c6 c4">chsec -f /etc/security/login.cfg -s default -a herald=&quot;Dodgers\r\nID:&quot;</span></p><p class="c8"><span class="c5">Note: for additional security, I recommend changing the standard Unix &quot;login&quot; prompt to something else like &quot;ID&quot;. The &quot;login&quot; prompt almost invariably identifies the system as Unix to hackers. </span></p><p class="c8"><span class="c4">NMAP: </span></p><p class="c3"><span class="c5">nmap -vv &lt;ip_address&gt; basic scan</span></p><p class="c3"><span class="c5">nmap &lt;ip_address/24&gt; scan subnet</span></p><p class="c3"><span class="c5">nmap -sL &lt;ip_address/24&gt; lists hosts it will scan</span></p><p class="c3"><span class="c5">nmap &lt;ip_address/24&gt; -exclude &lt;ip_address&gt; scans subnet except</span></p><p class="c3"><span class="c5">exclude</span></p><p class="c3"><span class="c5">nmap -sS -vv &lt;ip_address&gt; half open scan(doesnt reply to SYN-ACK)</span></p><p class="c3"><span class="c5">nmap -PR -vv &lt;ip_address/24&gt; request MAC address</span></p><p class="c3"><span class="c5">nmap -sS -vv &lt;ip_address&gt; -p &lt;port_to_scan&gt; -Pn this will scan a</span></p><p class="c3"><span class="c5">specific port. Look in output for state of port. The states can be:</span></p><p class="c3"><span class="c5">open: port is open</span></p><p class="c3"><span class="c5">filtered: firewall or network obstacle. Cant tell open/closed</span></p><p class="c3"><span class="c5">closed: no app is listening</span></p><p class="c3"><span class="c6 c5">unfiltered: unresponsive to nmap</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">errpt example:</span></p><p class="c3"><span class="c6 c5">errpt -aj A924A5FC use the label in the first column</span></p><h1 class="c7 c87"><span class="c5 c18 c73">errpt TIMESTAMP format:</span></h1><p class="c3"><span class="c5">0820122810 (08 = mth, 20 = day, 12 = hour, 28 = min, 10 = year)</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Remove old temporary files</span></p><p class="c3"><span class="c5">0 1 * * * /usr/bin/find /tmp -type f -mtime +90 -exec rm {} \;</span></p><p class="c3"><span class="c6 c5">&gt;/dev/null 2&gt;&amp;1</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">Find deleted files that processes still have opened:</span></p><p class="c3"><span class="c5">fuser -V -d &lt;path&gt;</span></p><p class="c8"><span class="c4">then </span></p><p class="c3"><span class="c5">ps uxwww -p &lt;PID&gt;</span></p><p class="c8"><span class="c4">Pulling date, time and size of mksysb across an environment. Good example of awk formatting,regex, substitution and arithmetic: </span><span class="c5">[root@cgnim01a]:/home/root/tucker# cat ./mksysb_check.sh #!/bin/sh </span></p><p class="c3"><span class="c5">export DSH_NODE_LIST=/home/root/tucker/allwaveshort</span></p><p class="c3"><span class="c5">echo &quot;\n\n=-=-=- MKSYSB IMAGE LAST GENERATED -=-=-=\n&quot;</span></p><p class="c3"><span class="c5">echo &quot; ------------------------------------&quot;</span></p><p class="c3"><span class="c5">echo &quot; LPAR DATE/TIME &nbsp;SIZE &quot;</span></p><p class="c3"><span class="c5">echo &quot; ------------------------------------&quot;</span></p><p class="c3"><span class="c5">dsh -l ibmtech ls -l /mksysb/backup|tail +1||grep -v total|awk &#39;sub</span></p><p class="c3"><span class="c5">(/\.dts\.ca\.gov:/,&quot;&quot;) {printf &quot;%-10s %s %s %s \t%2.1fGB\n&quot;,</span></p><p class="c3"><span class="c5">$1,$7,$8,$9,$6/1024/1024/1024}&#39;</span></p><p class="c3"><span class="c5">echo &quot;\t=-=-=- DONE -=-=-=\n&quot;</span></p><p class="c8"><span class="c5">CHRP Error Log Sense: </span></p><p class="c8"><span class="c5 c53">http://9.154.96.133/chrp.htm </span></p><p class="c8"><span class="c52 c50 c21 c53">Using colors in Korn Shell </span></p><p class="c8"><span class="c4">CUoD install activation code: They are public: </span></p><p class="c8"><span class="c30 c5"><a class="c79" href="https://www.google.com/url?q=http://www-912.ibm.com/pod/pod&amp;sa=D&amp;source=editors&amp;ust=1673574135443900&amp;usg=AOvVaw2YBt1KlbodyfTIPDBWOW6Z">http://www-912.ibm.com/pod/pod</a></span><span class="c11 c53">&nbsp;</span><span class="c4">Enter your activation code on your server using the HMC. To enter your code:</span><span class="c12">&nbsp;</span><span class="c4">a. In the navigation area of the HMC window, expand Systems Management.</span><span class="c12">&nbsp;</span><span class="c4">b. Select Servers.</span><span class="c12">&nbsp;</span><span class="c4">c. In the contents area, select the server on which you want enter your activation code. d. Select Tasks &gt; Capacity on Demand (CoD) &gt; Enter CoD Code.</span><span class="c12">&nbsp;</span><span class="c4">e. Type your activation code in the Code field.</span><span class="c12">&nbsp;</span><span class="c4">f. Click OK. </span></p><p class="c8"><span class="c4">SYSTEM to AIX MATRIX </span></p><p class="c8"><span class="c5 c53">https://www-304.ibm.com/support/docview.wss?uid=ssm1platformaix </span></p><p class="c8"><span class="c4">FLRT </span></p><p class="c8"><span class="c5 c53">http://www14.software.ibm.com/webapp/set2/flrt/home </span></p><p class="c8"><span class="c4">Preparing to Migrate in AIX </span></p><p class="c8"><span class="c5 c53">http://www-304.ibm.com/support/docview.wss?uid=isg3T1011431 </span></p><p class="c8"><span class="c5">HMC version 7 support matrix: </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 154.73px; height: 1.53px;"><img alt="" src="images/image44.png" style="width: 154.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 46.27px; height: 1.53px;"><img alt="" src="images/image41.png" style="width: 46.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 48.00px; height: 1.53px;"><img alt="" src="images/image49.png" style="width: 48.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.67px; height: 1.53px;"><img alt="" src="images/image47.png" style="width: 18.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 43.53px; height: 1.53px;"><img alt="" src="images/image63.png" style="width: 43.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 36.40px; height: 1.53px;"><img alt="" src="images/image64.png" style="width: 36.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 28.40px; height: 1.53px;"><img alt="" src="images/image36.png" style="width: 28.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.73px; height: 1.53px;"><img alt="" src="images/image38.png" style="width: 26.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 28.40px; height: 1.53px;"><img alt="" src="images/image36.png" style="width: 28.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 40.87px; height: 1.53px;"><img alt="" src="images/image21.png" style="width: 40.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 46.20px; height: 1.53px;"><img alt="" src="images/image23.png" style="width: 46.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.13px; height: 1.53px;"><img alt="" src="images/image13.png" style="width: 7.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.53px;"><img alt="" src="images/image17.png" style="width: 17.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.80px; height: 1.53px;"><img alt="" src="images/image15.png" style="width: 8.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image122.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 63.20px; height: 1.53px;"><img alt="" src="images/image112.png" style="width: 63.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.53px;"><img alt="" src="images/image107.png" style="width: 17.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 47.13px; height: 1.53px;"><img alt="" src="images/image109.png" style="width: 47.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 42.60px; height: 1.53px;"><img alt="" src="images/image97.png" style="width: 42.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 5.33px; height: 1.47px;"><img alt="" src="images/image55.png" style="width: 5.33px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 16.07px; height: 1.53px;"><img alt="" src="images/image114.png" style="width: 16.07px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 11.60px; height: 1.53px;"><img alt="" src="images/image46.png" style="width: 11.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.67px; height: 1.53px;"><img alt="" src="images/image116.png" style="width: 17.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 31.20px; height: 1.53px;"><img alt="" src="images/image40.png" style="width: 31.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 360.13px; height: 1.53px;"><img alt="" src="images/image113.png" style="width: 360.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 768.13px; height: 740.53px;"><img alt="" src="images/image102.jpg" style="width: 768.13px; height: 740.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c4">Reset hscroot password: </span></p><p class="c8"><span class="c5">1 Power off the HMC.</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c6 c5">2 Power on the HMC, and as soon as the Loading grub message is displa</span></p><p class="c8"><span class="c5">yed quickly press the F1 key to get into grub. </span></p><p class="c8"><span class="c5">The Grub menu will show one line with the text hmc.</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c5">3 On the Grub menu, select e for edit. The next GRUB screen is displayed with two lines: </span></p><p class="c8"><span class="c5">root (hd0,0)</span><span class="c11">&nbsp;</span><span class="c5">kernel (hd0,1)/boot/bzImage ro root=/dev/hda2 vga=0x317 apm=power-off </span></p><p class="c8"><span class="c5">Note: The root device can vary by model: hda2 C03, C04, CR2, and hdc2 for CR3. 4 Move the cursor down to the line starting with kernel. Select e for edit. </span></p><p class="c8"><span class="c5">Move the cursor to the right and append the following to the end of the string: </span></p><p class="c8"><span class="c5">V5.1.0 to V6.1.1: init=/bin/bash V6.1.2 and later: init=/bin/rcpwsh </span></p><p class="c8"><span class="c5">The final string will vary slightly by version and model:</span><span class="c11">&nbsp;</span><span class="c5">kernel (hd0,1)/boot/bzImage ro root=/dev/hda2 vga=0x317 apm=power-off init=/bin/rcpwsh </span></p><p class="c8"><span class="c5">Press the Enter key to save the changes. 5 Press b to boot the changed selection. </span></p><p class="c8"><span class="c5">This will boot to a bash shell: (none):/#.</span><span class="c11">&nbsp;</span><span class="c5">6 Verify root is mounted read/write. Type the following command: </span></p><p class="c8"><span class="c5">mount -o remount,rw /dev/hda2 /</span><span class="c11">&nbsp;</span><span class="c5">Note: The root device can vary by model: hda2 C03, C04; hdc2 for CR2,CR3; sda2 for CR4. </span></p><p class="c8"><span class="c5">7 Reset root and hscroot passwords. Run the following commands to reset the passwords. The command will prompt the user to enter the new password and a confirmation password. Any warning concerning the password being too simplistic can be ignored. </span></p><p class="c8"><span class="c5">Reset root: /usr/bin/passwd </span></p><p class="c8"><span class="c5">Reset hscroot: /usr/bin/passwd hscroot </span></p><p class="c8"><span class="c5">8 Reboot the HMC (left ctl+left alt+del). 9 Log on as hscroot. </span></p><p class="c8"><span class="c5">10 Immediately after logon, use the Web-based System Manager (HMC GUI) or the chhmcusr. </span></p><p class="c8"><span class="c5">Sun Commands(I dont know why...Sun sucks) </span></p><p class="c8"><span class="c4">Is the Sun box virtual or dedicated I/O? </span></p><p class="c8"><span class="c5">zoneadm list -cv</span><span class="c11">&nbsp;</span><span class="c5">if the global = physical, local = virtual </span></p><p class="c8"><span class="c5">also you can run prtconf it will only run on physical box and it will not run on virtual </span></p><p class="c8"><span class="c4">Red Hat Linux </span></p><p class="c8"><span class="c6 c5">When connecting to wireless and you get a prompt for the password for the default keyring: Go to /home/&lt;user&gt;/.gnome2/keyrings and rename or delete default.keyrings </span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c5">LINUX:</span></p><p class="c8"><span class="c6 c5">Change timezone on Red Hat 6:</span></p><p class="c8"><span class="c6 c5">file /etc/localtime</span></p><p class="c8"><span class="c6 c5">unlink /etc/localtime</span></p><p class="c8"><span class="c6 c5">vi /etc/sysconfig/clock</span></p><p class="c8"><span class="c6 c5">-&gt; change Zone to what ever you need</span></p><p class="c8"><span class="c6 c5">run: tzdata-update</span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c5">Is a server a VM?</span></p><p class="c8"><span class="c5">dmesg|grep &ndash;i vm</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5 c16">END OF AIX OS </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c5">TUNING </span></p><p class="c3"><span class="c5">If numperm is lower than minperm is the box in danger of running out of memory? Or better yet, what are the consequences of that?</span></p><p class="c3"><span class="c5">Actually John, it is in danger of paging since it will steal comp</span></p><p class="c3"><span class="c5">instead of if numperm &gt; minperm where it will steal noncomp and won&#39;t page.</span></p><p class="c3"><span class="c5">Thanks.</span></p><p class="c3"><span class="c5">Jerry</span></p><p class="c8"><span class="c4">CPU stuff: </span></p><p class="c3"><span class="c5">an example of an LPAR with two virtual processors. This means the assigned processing units must be somewhere between 0.2 and 2. The maximum processing units the LPAR can utilize is two. If you want this LPAR to use more than two processing units worth of cycles, you need to add more virtual processors. If you add two more, then the assigned processing units must now be at least 0.4 and the maximum utilization is four processing units If you have an LPAR with four virtual processors and a desired 1.6 processing units&ndash;and all four virtual processors have work to perform&ndash;each receives 0.4 processing units. The maximum processing units available to handle peak workload is four. Individual processes</span></p><p class="c3"><span class="c5">or threads may run slower, while workloads with a lot of processes or</span></p><p class="c3"><span class="c5">threads may run faster.</span></p><p class="c3"><span class="c5">To Assigning VP, round up the ec to the nearest whole number. .5 ec =</span></p><p class="c3"><span class="c5">1 VP; 1.85 ec = 2 VP</span></p><p class="c3"><span class="c5">ec is EQUALLY DISTRIBUTED to VP&#39;s 1.85 ec backing 2 VP&#39;s</span></p><p class="c3"><span class="c5">PROCESSING ENTITLEMENT CAPACITY(PEC) = ec / VP</span></p><p class="c3"><span class="c5">example: the PEC = .8 per VP when ec = 1.6 and VP = 2 &lt;--- 1.6/2 = .8</span></p><p class="c3"><span class="c5">VP = 4</span></p><p class="c3"><span class="c5">ec = 2.5</span></p><p class="c3"><span class="c5">then PEC = .625 per VP</span></p><p class="c3"><span class="c5">The extremes</span></p><p class="c3"><span class="c5">MAX:</span></p><p class="c3"><span class="c5">VP = 2</span></p><p class="c3"><span class="c5">ec = 2.0</span></p><p class="c3"><span class="c5">then PEC = 1.0 per VP</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">MIN:</span></p><p class="c3"><span class="c5">VP = 20</span></p><p class="c3"><span class="c5">ec = 2.0</span></p><p class="c3"><span class="c5">then PEC = 0.1 per VP</span></p><p class="c3"><span class="c5">The PEC of a VP WILL NEVER EXCEED 1.0 pu. In other words,</span></p><p class="c3"><span class="c5">The maximum number of processing units that can be allocated to a</span></p><p class="c3"><span class="c5">virtual processor is always 1.00</span></p><p class="c8"><span class="c5">!!!THIS IS FREAKEN IMPORTANT!!! </span></p><p class="c8"><span class="c5 c14">the </span><span class="c4 c14">UPPER BOUNDARY of processing capacity </span><span class="c5 c14">in a micro-partition is determined by the number of virtual processors that it possesses</span><span class="c5">. For example, if</span><span class="c11">&nbsp;</span><span class="c5">you have a partition with 0.50 processing units and one virtual processor, the </span></p><p class="c3"><span class="c5">partition cannot exceed 1.00 processing units. However, if the same</span></p><p class="c3"><span class="c5">partition with</span></p><p class="c3"><span class="c5">0.50 processing units was assigned two virtual processors and</span></p><p class="c3"><span class="c5">processing</span></p><p class="c8"><span class="c5">resources were available, the partition could use an </span><span class="c4">additional </span><span class="c5">1.50 processing</span><span class="c11">&nbsp;</span><span class="c5">units(2.0) Currently the maximum number of VP that can be configured to an LPAR is 64.(PowerVM-Jan2011:53,54) </span></p><p class="c3"><span class="c5">A reasonable setting for UNCAPPED LPARs:</span></p><p class="c3"><span class="c5">define the desired and maximum virtual processor attributes greater</span></p><p class="c3"><span class="c5">than the corresponding capacity entitlement attributes.</span></p><p class="c3"><span class="c5">The exact value is installation-specific, but 50 to 100 percent more</span></p><p class="c3"><span class="c5">is reasonable.(PowerVM-Jan2011:53)</span></p><p class="c8"><span class="c5">Example: PU:</span><span class="c11">&nbsp;</span><span class="c5">min: .1 des: 2.0 max: 8.0 VP: </span></p><p class="c8"><span class="c5">min: 1</span><span class="c11">&nbsp;</span><span class="c5">des: 3 or 4 &lt; ---- This is 50%(3) - 100%(4) of the PU:des value max: 12 or 16 &lt;--- Determines upper boundary of processing units. </span></p><p class="c8"><span class="c4">Notes from Earl Jew: </span></p><p class="c8"><span class="c5">I tune by vCPU count, as guided by the load averages offered by &quot;uptime&quot;, and confirm my tuning by observing the vmstat:kthr:r column. </span></p><p class="c8"><span class="c5">I often grant only 0.1 eCPU for each vCPU for a ratio of 0.1-to-1. That is 0.1 of entitlement (eCPU) for each virtual vCPU </span></p><p class="c8"><span class="c5">For Power7, I try to keep vCPU counts to multiples of 8 vCPUs for servers created with 8-core CPUs. </span></p><p class="c8"><span class="c5">For Power7, I try to keep vCPU counts to multiples of 6 vCPUs for servers created with 6-core CPUs. For Power7, I try to keep vCPU counts to multiples of 4 vCPUs for servers created with 4-core CPUs. </span></p><p class="c8"><span class="c5">I also leave CPU-folding active by-default; that is, I rarely turn off CPU-folding.</span><span class="c11">&nbsp;</span><span class="c5">Folded down vCPUs are very light weight. This is the key saving grace; this is what makes this method viable </span></p><p class="c8"><span class="c5">You can thus offer a reasonably higher vCPU count -- and not restrict the overall frame&#39;s total finite amount of eCPU capacity to host many more-than-average counts of sibling LPARs on a frame. [Thus, the next resource limitation then becomes the larger amount of gbRAM needed in the frame.] </span></p><p class="c8"><span class="c5">As such, when the workload is not active enough to use all-but-one vCPU, they fold down all vCPUs (but never vCPU0) and they otherwise absorb virtually no other resources. </span></p><p class="c8"><span class="c5">In contrast, when the workload does explode with multiple active threads, the higher count of vCPUs will go-active/unfold and attend the workload quickly, thereby finishing the work sooner, and then folding-down the unused vCPUs when done. </span></p><p class="c8"><span class="c5">The only time the above method does not work OPTIMALLY (but it does work), is when there are multiple LPARs with consistently continuously high active thread count workloads. In such cases though, such LPARs would/should not be using a shared-pool of CPUs. But rather, these should be granted dedicated CPU-cores and booted in this fashion. </span></p><p class="c8"><span class="c5">END OF TUNING </span></p><p class="c8"><span class="c5">VI, SED AND AWK COMMANDS </span></p><p class="c8"><span class="c4">VI commands that I keep forgetting: Global search and replace: </span><span class="c5">:%s/search_string/replacement_string/g </span></p><p class="c3"><span class="c4">Insert a # at the beginning of a range:</span></p><p class="c8"><span class="c5">:1,20s/^/#/ </span></p><p class="c3"><span class="c4">To show your current line number:</span></p><p class="c8"><span class="c5">:.= </span></p><p class="c3"><span class="c4">Show the total number of lines in a file:</span></p><p class="c8"><span class="c5">:= </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><a id="t.12977983ae1252e7b9e047bfb9ec201991d11aed"></a><a id="t.4"></a><table class="c74"><tr class="c41"><td class="c106" colspan="1" rowspan="1"><p class="c8"><span class="c5">:</span><span class="c5 c45">n</span><span class="c5">,</span><span class="c5 c45">m </span></p></td><td class="c95" colspan="1" rowspan="1"><p class="c8"><span class="c5">Range - Lines </span><span class="c5 c45">n</span><span class="c5">-</span><span class="c5 c45">m </span></p></td></tr><tr class="c41"><td class="c100" colspan="1" rowspan="1"><p class="c8"><span class="c5">:. </span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c8"><span class="c5">Range - Current line </span></p></td></tr><tr class="c41"><td class="c100" colspan="1" rowspan="1"><p class="c8"><span class="c5">:$ </span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c8"><span class="c5">Range - Last line </span></p></td></tr><tr class="c41"><td class="c100" colspan="1" rowspan="1"><p class="c8"><span class="c5">:&#39;</span><span class="c5 c56">c </span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c8"><span class="c5">Range - Marker </span><span class="c5 c56">c </span></p></td></tr><tr class="c41"><td class="c100" colspan="1" rowspan="1"><p class="c8"><span class="c5">:% </span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c8"><span class="c5">Range - All lines in file </span></p></td></tr></table><p class="c8"><span class="c4">Mark a line in vi:</span><span class="c12">&nbsp;</span><span class="c5">mc </span><span class="c4">&lt;= this marks the line as &#39;c&#39; </span></p><p class="c8"><span class="c4">Mark a spot and delete TO it:</span><span class="c12">&nbsp;</span><span class="c5">ma </span><span class="c4">then go to spot you want to delete from then </span><span class="c5">d&#39;a </span></p><p class="c8"><span class="c4">So if you want to insert a tab for a range. Mark the first line then go to the last line then type:</span><span class="c12">&nbsp;</span><span class="c5">:&#39;c,.s/^/&lt;enter tab here&gt;/ </span></p><p class="c3"><span class="c4">if you want to do the same thing with 2 markers then:</span></p><p class="c3"><span class="c5">:&#39;c,&#39;ds/^/&lt;enter tab here&gt;/</span></p><p class="c3"><span class="c4">this will place a tab at the beginning of each line from marker c to</span></p><p class="c3"><span class="c4">marker d</span></p><p class="c3"><span class="c4">To copy AIX command line verbiage into a file:</span></p><p class="c8"><span class="c5">v </span></p><p class="c3"><span class="c4">Enable line count:</span></p><p class="c8"><span class="c5">create .exrc in home directory with vi commands that you would like set automatically</span><span class="c11">&nbsp;</span><span class="c5">i.e. to set line numbers on put: </span><span class="c4 c15">set number </span><span class="c5">in the .exrc file</span><span class="c11">&nbsp;</span><span class="c5">:set number </span></p><p class="c3"><span class="c4">How to delete blank lines within vi:</span></p><p class="c3"><span class="c5">&lt;esc&gt;:g/^$/d</span></p><p class="c3"><span class="c4">Lines with spaces:</span></p><p class="c3"><span class="c5">&lt;esc&gt;:g/^ *$/d</span></p><p class="c3"><span class="c4">Remove trailing white spaces: the % means all lines in file</span></p><p class="c8"><span class="c5">:%s/[ ^I]*$/ </span></p><p class="c3"><span class="c4">Find # at end of line:</span></p><p class="c8"><span class="c5">/#$/ </span></p><p class="c3"><span class="c4">Matches if the first character is not a # in the line:</span></p><p class="c8"><span class="c5">/^[^#]/ </span></p><p class="c3"><span class="c4">Matches if there are zero or more numbers in the line:</span></p><p class="c8"><span class="c5">/[0-9]*/ </span></p><p class="c3"><span class="c4">Matches if the line starts with any letter:</span></p><p class="c8"><span class="c5">/^[a-zA-Z]/ </span></p><p class="c8"><span class="c4">REGEX Patterns:</span><span class="c12">&nbsp;</span><span class="c4">excludes comments and blank lines </span><span class="c5">grep -vE &#39;^#|^ *$&#39; /etc/ntp.conf </span></p><a id="t.be8906cc8a0c758276342a6c84b38573fa1af2dc"></a><a id="t.5"></a><table class="c74"><tr class="c41"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 469.13px; height: 1.53px;"><img alt="" src="images/image103.png" style="width: 469.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 469.13px; height: 1.53px;"><img alt="" src="images/image103.png" style="width: 469.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 55.20px; height: 1.53px;"><img alt="" src="images/image85.png" style="width: 55.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 55.20px; height: 1.53px;"><img alt="" src="images/image85.png" style="width: 55.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p></td></tr></table><p class="c8"><span class="c4">Quoting: </span></p><p class="c3"><span class="c5">single quotes &#39; strips ALL meaning from special characters. This is</span></p><p class="c3"><span class="c5">also called a strong quote</span></p><p class="c3"><span class="c5">double quotes &ldquo; strips SOME meaning from special characters. This is</span></p><p class="c3"><span class="c5">also called a weak quote</span></p><p class="c3"><span class="c4">sed commands:</span></p><p class="c8"><span class="c5">To remove all blank lines, enter: </span></p><p class="c3"><span class="c6 c5">$ cat /etc/rssh.conf | sed &#39;/^$/d&#39; &gt; /tmp/output.file</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c5">Remove last character:</span></p><p class="c3"><span class="c6 c5">sed &lsquo;/.$//&rsquo;</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c8"><span class="c5">END OF VI, SED AND AWK COMMANDS </span></p><p class="c8"><span class="c6 c5">HACMP HACMP HACMP</span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c4">What version of HACMP am I running:</span></p><p class="c8"><span class="c1 c18">ssh -q $i lslpp -l |grep cluster.es.server.rte`</span></p><p class="c3"><span class="c6 c4">PowerHA Commands:</span></p><p class="c3"><span class="c18 c4 c92">Show the CAA disk:</span></p><p class="c3"><span class="c1 c18">clmgr query repository</span></p><p class="c3"><span class="c1">clshowres</span></p><p class="c3"><span class="c1">cltopinfo</span></p><p class="c3"><span class="c1">clstat</span></p><p class="c3"><span class="c6 c5">odmget HACMPdisktype</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c5">/var/hacmp/log/hacmp.out</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c5">File Collections:</span></p><p class="c3"><span class="c6 c5">smitty cspoc -&gt; file collections </span></p><p class="c3"><span class="c6 c5">if you change/show you can see the directories that participate. clcomd is the process that syncs the files</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c1">path: /usr/es/sbin/cluster/utilities/&lt;command&gt;</span></p><p class="c3"><span class="c5 c53">clpasswd [-g resource group] user</span></p><p class="c3"><span class="c1">Change the current users password on all nodes in a cluster, or in a</span></p><p class="c3"><span class="c1">resource group.</span></p><p class="c3"><span class="c5 c53">clRGinfo [-a][-h] [-v][-s|-c] [-p] [-t] [resgroup1] [resgroup2]...</span></p><p class="c3"><span class="c1">Gives you a report on the location and state of one or more specified</span></p><p class="c3"><span class="c1">resource groups.</span></p><p class="c3"><span class="c5 c53">clgetaddr [-o odmdir ] nodename</span></p><p class="c3"><span class="c1">Returns a PINGable address for the specified node name.</span></p><p class="c8"><span class="c1">cllscf </span></p><p class="c3"><span class="c1">Lists complete cluster topology information.</span></p><p class="c3"><span class="c5 c53">cllsdisk {-g Resource Group }</span></p><p class="c3"><span class="c1">Lists PVIDs of accessible disks in a specified resource chain.</span></p><p class="c3"><span class="c5 c53">cllsfs {-g resource group } [-n]</span></p><p class="c3"><span class="c1">Lodmget HACMPdisktype file systems accessible by all participating</span></p><p class="c3"><span class="c1">nodes in a resource group.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 78.27px; height: 1.53px;"><img alt="" src="images/image54.png" style="width: 78.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 78.27px; height: 1.53px;"><img alt="" src="images/image54.png" style="width: 78.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 78.27px; height: 1.53px;"><img alt="" src="images/image54.png" style="width: 78.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 53.33px; height: 1.53px;"><img alt="" src="images/image18.png" style="width: 53.33px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 78.27px; height: 1.53px;"><img alt="" src="images/image54.png" style="width: 78.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5 c53">cllslv [-g resource group ] [-c | -s] [-n] [-v]</span></p><p class="c3"><span class="c1">Lists the names of logical volumes accessible by nodes in a specified</span></p><p class="c3"><span class="c1">resource chain.</span></p><p class="c8"><span class="c1">cllsgrp </span></p><p class="c3"><span class="c1">Lists names of all resource groups configured in the cluster.</span></p><p class="c3"><span class="c5 c53">cllsnim [-d odmdir ] [-c] [-n nimname ]</span></p><p class="c3"><span class="c1">cllsnim shows information about the different network types and</span></p><p class="c3"><span class="c1">tunable values.</span></p><p class="c3"><span class="c5 c53">cllsparam {-n nodename } [-c] [-s] [-d odmdir ]</span></p><p class="c3"><span class="c1">Lists runtime parameters.</span></p><p class="c3"><span class="c5 c53">cllsres [-g group ] [-c] [-s] [-d odmdir ] [-qquery ]</span></p><p class="c3"><span class="c1">Sorts HACMP for AIX Configuration Database resource data by name and</span></p><p class="c3"><span class="c1">arguments.</span></p><p class="c3"><span class="c5 c53">cllsserv [-c] [-h] [-n name ] [-d odmdir ]</span></p><p class="c3"><span class="c1">Lists application servers by name.</span></p><p class="c3"><span class="c5 c53">cllsvg {-g resource group } [-n] [-v] [-s | -c]]</span></p><p class="c3"><span class="c5 c53">clshowres [-g group ] [-n nodename ] [-d odmdir ]</span></p><p class="c3"><span class="c1">Shows resource group information for a cluster or a node.</span></p><p class="c3"><span class="c5 c53">clstat [-c cluster ID | -n cluster name] [-i] [-r seconds] [-a] [-o]</span></p><p class="c3"><span class="c5 c53">[-s]</span></p><p class="c3"><span class="c1">Cluster Status Monitor (ASCII mode).</span></p><p class="c3"><span class="c5 c53">clstat [-a] [-c id | -n name ] [-r tenths-of-seconds ][-s]</span></p><p class="c3"><span class="c1">Cluster Status Monitor (X Windows mode).</span></p><p class="c3"><span class="c5 c53">cltopinfo [-c] [-i] [-n] [-w] [-m]</span></p><p class="c3"><span class="c1">Shows complete topology information: The cluster name, total number</span></p><p class="c3"><span class="c1">of networks, total number of missed heartbeats and nodes configured</span></p><p class="c3"><span class="c1">in the cluster. Displays all the configured networks for each node.</span></p><p class="c3"><span class="c1">Displays all the configured interfaces for each network. Also</span></p><p class="c3"><span class="c1">displays all the resource groups defined.</span></p><p class="c3"><span class="c5 c53">get_local_nodename</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 53.33px; height: 1.53px;"><img alt="" src="images/image18.png" style="width: 53.33px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 78.27px; height: 1.53px;"><img alt="" src="images/image54.png" style="width: 78.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 61.40px; height: 1.53px;"><img alt="" src="images/image34.png" style="width: 61.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 61.40px; height: 1.53px;"><img alt="" src="images/image34.png" style="width: 61.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 78.27px; height: 1.53px;"><img alt="" src="images/image54.png" style="width: 78.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 61.40px; height: 1.53px;"><img alt="" src="images/image34.png" style="width: 61.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c1">Lists volume groups shared by nodes in a cluster. A volume group is</span></p><p class="c3"><span class="c1">considered shared if it is accessible by all participating nodes in a</span></p><p class="c3"><span class="c1">configured resource group. Note that the volume groups listed may or</span></p><p class="c3"><span class="c1">may not be configured as a resource in any resource group. If neither</span></p><p class="c3"><span class="c1">-s nor -c is selected, then both shared and concurrent volume groups</span></p><p class="c8"><span class="c1">are listed. </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 78.27px; height: 1.53px;"><img alt="" src="images/image54.png" style="width: 78.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 53.33px; height: 1.53px;"><img alt="" src="images/image18.png" style="width: 53.33px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image90.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image90.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 61.40px; height: 1.53px;"><img alt="" src="images/image34.png" style="width: 61.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 53.33px; height: 1.53px;"><img alt="" src="images/image18.png" style="width: 53.33px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image16.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 61.40px; height: 1.53px;"><img alt="" src="images/image34.png" style="width: 61.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 78.27px; height: 1.53px;"><img alt="" src="images/image54.png" style="width: 78.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 35.53px; height: 1.53px;"><img alt="" src="images/image10.png" style="width: 35.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c1">Returns the name of the local node.</span></p><p class="c3"><span class="c5 c53">clgetactivenodes [-n nodename ] [-o odmdir ] [-ttimeout ] [-v verbose</span></p><p class="c3"><span class="c5 c53">]</span></p><p class="c3"><span class="c1">Retrieves the names of all cluster nodes.</span></p><p class="c8"><span class="c6 c5">END OF HACMP </span></p><p class="c8"><span class="c6 c4">CAA</span></p><p class="c8"><span class="c6 c5">caa is part of the OS(post AIX71)</span></p><p class="c8"><span class="c6 c5">lssrc -g caa shows 2 services in the group</span></p><p class="c8"><span class="c4">clconfd</span><span class="c6 c5">: cluster config daemon wakes up every 10 mins to sync any needed changes to the cluster</span></p><p class="c8"><span class="c4">clcomd: </span><span class="c6 c5">is the cluster communications daemon</span></p><p class="c8"><span class="c5">END OF CAA</span></p><p class="c8"><span class="c5">GPFS </span></p><p class="c8"><span class="c6 c4">GPFS Commands: </span></p><p class="c49 c7"><span class="c6 c4">State of the cluster</span></p><p class="c49 c7"><span class="c5">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmgetstate -a<br><br></span><span class="c4">Lists license info</span><span class="c6 c5"><br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmlslicense -L<br></span></p><p class="c49 c7"><span class="c4">Lists more info</span><span class="c6 c5"><br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmlscluster<br></span></p><p class="c49 c7"><span class="c6 c5">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmgetstate -a &gt; gpfsinfo.`uname -n`.out<br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmlslicense -L &gt;&gt; gpfsinfo.`uname -n`.out<br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmlscluster &gt;&gt; gpfsinfo.`uname -n`.out<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Capture info in a file</span></p><p class="c49 c7 c29"><span class="c6 c5"></span></p><p class="c49 c7"><span class="c4">&nbsp;Issue the lsuser command to all nodes in the cluster</span><span class="c6 c5"><br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmdsh -v -N all lsuser USERID<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c49 c7"><span class="c6 c4">Add a new node to a cluster</span></p><p class="c49 c7"><span class="c6 c5">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmaddnode -N dkencaap101-gpfs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# there are other requirements<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# /etc/hosts adds<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# root ssh cross cert&#39;ed</span></p><p class="c49 c7 c29"><span class="c6 c5"></span></p><p class="c49 c7"><span class="c4">Shutdown</span><span class="c6 c5"><br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmshutdown<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c49 c7"><span class="c4">Startup</span><span class="c6 c5"><br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/lpp/mmfs/bin/mmstartup<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c49 c7"><span class="c5"># the ip of a node in the cluster, gpfs primary port is 1191<br>/usr/lpp/mmfs/bin/mmsdrcli getObj&nbsp;&nbsp;192.168.6.2 1191 5</span><span class="c85 c16"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8 c29"><span class="c6 c4"></span></p><p class="c8 c29"><span class="c6 c4"></span></p><p class="c8 c29"><span class="c6 c4"></span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c5">mmlscluster mmlsconfig </span></p><p class="c8"><span class="c4">Verify the cluster state: </span></p><p class="c8"><span class="c5"># mmgetstate -a </span></p><p class="c8"><span class="c5">Node number Node name ------------------------------------------ </span></p><p class="c8"><span class="c5">1 AVPMA521-GPFS active 2 AVPMA524-GPFS active </span></p><p class="c8"><span class="c23 c21">Log </span></p><p class="c8"><span class="c5">tail -f /var/adm/ras/mmfs.log.latest </span></p><p class="c8"><span class="c5">Dump/Save save current config: gpfs.snap </span></p><p class="c8"><span class="c4">Unmount all GPFS FS&rsquo;s on all nodes: </span></p><p class="c8"><span class="c5">mmumount all -a </span></p><p class="c8"><span class="c4">Mount all GPFS FS&rsquo;s on all nodes: </span></p><p class="c8"><span class="c5">mmmount all -a </span></p><p class="c8"><span class="c4">List active mounts: </span></p><p class="c8"><span class="c5">mmlsmount all </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 138.67px; height: 1.53px;"><img alt="" src="images/image120.png" style="width: 138.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 26.67px; height: 1.53px;"><img alt="" src="images/image22.png" style="width: 26.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 52.47px; height: 1.53px;"><img alt="" src="images/image73.png" style="width: 52.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.27px; height: 1.53px;"><img alt="" src="images/image57.png" style="width: 70.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.53px; height: 1.53px;"><img alt="" src="images/image53.png" style="width: 44.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image11.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 61.40px; height: 1.53px;"><img alt="" src="images/image34.png" style="width: 61.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 9.87px; height: 1.53px;"><img alt="" src="images/image20.png" style="width: 9.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c4 c51">List current NSDs (network shared disks): </span></p><p class="c8"><span class="c5">GPFS state </span></p><p class="c8"><span class="c5">mmlsnsd -M </span></p><p class="c8"><span class="c5">Disk name NSD volume ID Device Node name Remarks --------------------------------------------------------------------------------------- </span></p><p class="c8"><span class="c5">mycluster00nsd 0AEC13994BFCEEF7</span><span class="c11">&nbsp;</span><span class="c5">mycluster00nsd 0AEC13994BFCEEF7</span><span class="c11">&nbsp;</span><span class="c5">mycluster00nsd 0AEC13994BFCEEF7 - host3.mydomain.com (not found) directly </span></p><p class="c8"><span class="c5">attached OR</span><span class="c11">&nbsp;</span><span class="c5"># mmlsnsd </span></p><p class="c8"><span class="c5">File system Disk name NSD servers --------------------------------------------------------------------------- </span></p><p class="c8"><span class="c5">gpfs01_abinitio abinitio1 gpfs01_abinitio abinitio2 gpfs01_abinitio abinitio3 gpfs01_abinitio abinitio4 gpfs01_backup backup1 gpfs01_backup backup2 gpfs01_backup backup3 gpfs01_backup backup4 gpfs01_sandbox sandbox1 gpfs01_sandbox sandbox2 gpfs01_sandbox sandbox3 gpfs01_sandbox sandbox4 gpfs01_sandbox sandbox5 </span></p><p class="c8"><span class="c4">Add a disk to the cluster: </span></p><p class="c8"><span class="c5">/dev/hdisk7 host1.mydomain.com /dev/hdisk7 host1.mydomain.com </span></p><p class="c8"><span class="c5">AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS </span></p><p class="c8"><span class="c5">AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS </span></p><p class="c8"><span class="c5">AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS AVPMA521-GPFS,AVPMA524-GPFS </span></p><p class="c8"><span class="c5">find server that has /gpfs directory. GPFS changes are done from 1 node. verify that LUN lock is turned off. Create a new file with the disk definitions: hdiskpower161:AVPMA521-GPFS,AVPMA524-GPFS::dataAndMetadata:100:backup6 hdiskpower162:AVPMA521-GPFS,AVPMA524-GPFS::dataAndMetadata:100:backup7 </span></p><p class="c8"><span class="c5">File Format: DiskName:ServerList::DiskUsage:FailureGroup:DesiredName:StoragePool </span></p><p class="c8"><span class="c5">then execute: mmcrnsd -F &lt;location_of_disk_definitions&gt; </span></p><p class="c8"><span class="c4">Remove NSD disks: </span></p><p class="c8"><span class="c5">Same file format as above but use the command: </span></p><p class="c8"><span class="c5">mmdelnsd -F &lt;location_of_disk_definitions&gt; </span></p><p class="c8"><span class="c4">Disable File System Quota: </span></p><p class="c8"><span class="c5">mmchfs -Q no</span><span class="c11">&nbsp;</span><span class="c5">mmumount -a &lt;filesystem&gt; mmmount -a &lt;filesystem&gt; </span></p><p class="c8"><span class="c4">Add NSD to a filesystem: </span></p><p class="c8"><span class="c5">mmadddisk &lt;file_system&gt; -F &lt;location_of_disk_definitions&gt; </span></p><p class="c8"><span class="c4">List file systems that GPFS controls: </span></p><p class="c8"><span class="c5">mmlsfs all -a</span><span class="c11">&nbsp;</span><span class="c5">or</span><span class="c11">&nbsp;</span><span class="c5">mmlsnsd (look at first column of data) </span></p><p class="c8"><span class="c4">inodes running out on GPFS FS: </span></p><p class="c8"><span class="c5"># df -g | grep sandbox</span><span class="c11">&nbsp;</span><span class="c5">/dev/gpfs01_sandbox 238.24 223.23 7% # mmchfs /dev/gpfs01_sandbox -F 1M</span><span class="c11">&nbsp;</span><span class="c5"># df -g | grep sandbox</span><span class="c11">&nbsp;</span><span class="c5">/dev/gpfs01_sandbox 238.24 223.23 7% </span></p><p class="c8"><span class="c5">END OF GPFS </span></p><p class="c8"><span class="c5">NETWORKING </span></p><p class="c3"><span class="c5">144859</span></p><p class="c3"><span class="c5">144892</span></p><p class="c8"><span class="c5">81% /dtuetl/sandbox 14% /dtuetl/sandbo#x </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4 c16">How to verify that you are on a specific network:</span></p><p class="c3"><span class="c5 c16">ping the wire(network part of the subnet) of the network you want to</span></p><p class="c3"><span class="c5 c16">validate. Doing this will send out an arp request to everything in</span></p><p class="c3"><span class="c5 c16">that network then check out your arp table and you should see</span></p><p class="c3"><span class="c5 c16">responses from everyone else on the network.</span></p><p class="c3"><span class="c5 c16">e.g.</span></p><p class="c3"><span class="c5 c16">arp -a|wc -l =&gt; 186</span></p><p class="c3"><span class="c5 c16">en0 10.249.48.180 netmask 0xfffffc00</span></p><p class="c3"><span class="c5 c16">use a subnet calc to find the wire.</span></p><p class="c3"><span class="c5 c16">ping 10.249.48.0(you can see the replies from hosts)</span></p><p class="c3"><span class="c5 c16">arp -a|wc -l =&gt; 210</span></p><p class="c8"><span class="c4">Checking settings on network:(jumbo frames(good only on gig networks))</span><span class="c12">&nbsp;</span><span class="c4">Pull attributes on real/physical NIC&#39;s [padmin@chvio01b]:/home/padmin$ </span><span class="c5">for i in 1 2 3 4 5 </span></p><p class="c3"><span class="c5">&gt; do</span></p><p class="c3"><span class="c5">&gt; lsdev -dev ent$i -attr|grep jumbo_frames</span></p><p class="c3"><span class="c5">&gt; done</span></p><p class="c3"><span class="c5">jumbo_frames &nbsp;yes</span></p><p class="c3"><span class="c5">jumbo_frames &nbsp;yes</span></p><p class="c3"><span class="c5">jumbo_frames &nbsp;yes</span></p><p class="c3"><span class="c5">jumbo_frames &nbsp;yes</span></p><p class="c3"><span class="c5">jumbo_frames &nbsp;yes</span></p><p class="c3"><span class="c5">Transmit jumbo frames &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; True</span></p><p class="c3"><span class="c5">Transmit jumbo frames &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; True</span></p><p class="c3"><span class="c5">Transmit jumbo frames &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; True</span></p><p class="c3"><span class="c5">Transmit jumbo frames &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; True</span></p><p class="c3"><span class="c5">Transmit jumbo frames &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; True</span></p><p class="c3"><span class="c4">Dynamically change the MTU:</span></p><p class="c3"><span class="c5">chdev -l enX -a mtu=9000</span></p><p class="c3"><span class="c4">Network Settings:</span></p><p class="c3"><span class="c5">It is important that you configure both the adapter and the other</span></p><p class="c3"><span class="c5">endpoint of the cable the same way. If one endpoint is manually set</span></p><p class="c3"><span class="c5">to a specific speed and duplex mode, the other endpoint should also</span></p><p class="c3"><span class="c5">be manually set to the same speed and duplex mode. Having one end</span></p><p class="c3"><span class="c5">manually set and the other in Auto_Negotiation mode normally results</span></p><p class="c3"><span class="c5">in problems that make the link perform slowly.</span></p><p class="c3"><span class="c4">Adapter MTU setting:</span></p><p class="c3"><span class="c5">All devices on the same physical network, or logical network if using</span></p><p class="c3"><span class="c5">VLAN tagging, must have the same Media Transmission Unit (MTU) size.</span></p><p class="c3"><span class="c5">This is the maximum size of a frame (or packet) that can be sent on</span></p><p class="c3"><span class="c5">the wire.The various network adapters support different MTU sizes, so</span></p><p class="c3"><span class="c5">make sure that you use the same MTU size for all the devices on the</span></p><p class="c3"><span class="c5">network. For example, you can not have a Gigabit Ethernet adapter</span></p><p class="c3"><span class="c5">using jumbo frame mode with a MTU size of 9000 bytes, while other</span></p><p class="c3"><span class="c5">adapters on the network use the default MTU size of 1500 bytes.</span></p><p class="c3"><span class="c5">10/100 Ethernet adapters do not support jumbo frame mode, so they are</span></p><p class="c3"><span class="c5">not compatible with this Gigabit Ethernet option. You also have to</span></p><p class="c3"><span class="c5">configure Ethernet switches to use jumbo frames, if jumbo frames are</span></p><p class="c3"><span class="c5">supported on your Ethernet switch.</span></p><p class="c3"><span class="c5">It is important to select the MTU size of the adapter early in the</span></p><p class="c3"><span class="c5">network setup so you can properly configure all the devices and</span></p><p class="c3"><span class="c5">switches. Also, many AIX&reg; tuning options are dependent upon the</span></p><p class="c3"><span class="c5">selected MTU size.</span></p><p class="c3"><span class="c4">To see the NIC&#39;s status:</span></p><p class="c3"><span class="c5">entstat -d entX|egrep &quot;VLAN|Real A|Virtual A|ETHERNET|Media|Link</span></p><p class="c3"><span class="c5">Status&quot;| grep -v ETHERNET0</span></p><p class="c8"><span class="c4">What port and switch is NIC on:(chdev -l enX -a state=up). Perform it on the SEA or if no SEA then the EC or individual interface(-c 2 if there are two ports in the etherchannel)</span><span class="c12">&nbsp;</span><span class="c5">tcpdump -nn -vvv -i enX -s 1500 -c 1 &#39;ether[20:2] == 0x2000&#39;|egrep &quot;Device-ID|Port-ID|Native&quot; </span></p><p class="c3"><span class="c5">tcpdump -nn -vvv -i enX -s 1500 -c 1 &#39;ether[20:2] == 0x2000&#39;</span></p><p class="c3"><span class="c4">Notes on tcpdump:(Aaron Dunphy)</span></p><p class="c3"><span class="c5">when you invoke a tcpdump, it puts the adapater into promiscuous mode</span></p><p class="c3"><span class="c5">which will show all traffic on the switch which is exposed to that</span></p><p class="c3"><span class="c5">given port.</span></p><p class="c3"><span class="c4">To look at network traffic going to a host:</span></p><p class="c3"><span class="c5">tcpdump -I -i en0 host &lt;host_name&gt;</span></p><p class="c3"><span class="c4">To look at network traffic for DNS on en1:</span></p><p class="c3"><span class="c6 c5">tcpdump -I -i en1 udp port 53</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">All usernames in /etc/passwd:</span></p><p class="c3"><span class="c5">cat /etc/passwd|awk -F: &#39;{print $1}&#39;</span></p><p class="c3"><span class="c4">You can set ulimit variables WHILE creating users:</span></p><p class="c3"><span class="c5">mkuser rss=-1 fsize=-1 core=524288 gecos=&quot;John Tucker&quot; jtuck</span></p><p class="c3"><span class="c4">or after the username is made:</span></p><p class="c3"><span class="c4">List Ethernet interfaces:</span></p><p class="c3"><span class="c5">netstat -in|grep ^en|grep -v link|awk &#39;{print $1}&#39;|sort|uniq</span></p><p class="c3"><span class="c4">Network Adapter Commands:</span></p><p class="c3"><span class="c5">lsattr -El entX &nbsp;List speed and duplex of card</span></p><p class="c3"><span class="c5">netstat -v|grep Speed Shows &#39;Selected&#39; and &#39;Running&#39; Media Speed</span></p><p class="c8"><span class="c5">EMC POWERPATH </span></p><p class="c3"><span class="c52 c50 c21">Rename a hdiskpower device:</span></p><p class="c8"><span class="c23 c21">emcpadm renamepseudo -s hdiskpowerS -t hdiskpowerT </span></p><p class="c3"><span class="c4">Concise output of power disks:</span></p><p class="c3"><span class="c5">powermt display paths|grep -v -p =0</span></p><p class="c3"><span class="c4">powermt display does not assign hdiskpower</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 621.40px; height: 549.33px;"><img alt="" src="images/image101.jpg" style="width: 621.40px; height: 549.33px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c4">Removing HBA that has powerdisks on it(Asad, Carne):</span><span class="c12">&nbsp;</span><span class="c4">Basically you need to have powerpath delete the disks since they are in charge of them:</span><span class="c12">&nbsp;</span><span class="c5">powermt remove dev=all hba=0</span><span class="c11">&nbsp;</span><span class="c5">rmdev -Rdl fcs0 </span></p><p class="c3"><span class="c4">hdiskpower not under powerpath control:</span></p><p class="c8"><span class="c5">powermt remove dev=6</span><span class="c11">&nbsp;</span><span class="c5">Bad dev value 6, or not under Powerpath control.</span><span class="c11">&nbsp;</span><span class="c4">If the device is not available, you&rsquo;ll get a &ldquo;Bad dev value&rdquo; as shown below.(reinstall powerpath)</span><span class="c12">&nbsp;</span><span class="c5">unmanage the underlying disks</span></p><p class="c8"><span class="c5">powermt unmanage dev=hdisk3</span></p><p class="c8"><span class="c5">chdev -l hdisk3 -a pv=clear (if has PVID)</span><span class="c11">&nbsp;</span><span class="c5">powermt remove dev=all</span><span class="c11">&nbsp;</span><span class="c5">uninstall/reinstall powerpath </span></p><p class="c3"><span class="c4">When powerpath is being stubborn about being deleted(cant rmdev</span></p><p class="c3"><span class="c4">hdiskpowerX:(Ive even used this method on hdisks. Also I have</span></p><p class="c3"><span class="c4">odmdelete&#39;d power &amp; their hdisks then rebooted, it helped)</span></p><p class="c3"><span class="c4">for each power disk:</span></p><p class="c8"><span class="c5">odmdelete -q name=hdiskpowerX -o CuDv odmdelete -q name=hdiskpowerX -o CuAt </span><span class="c4">then</span><span class="c12">&nbsp;</span><span class="c5">odmdelete -q name=powerpath0 -o CuDv odmdelete -q name=powerpath0 -o CuAt </span></p><p class="c3"><span class="c5">rm /dev/powerpath0</span></p><p class="c8"><span class="c4">reboot then if you want to unistall powerpath now is the time(</span><span class="c5">installp -u EMCpower) </span></p><p class="c3"><span class="c4">UNLICENSED Powerpath. In basic fail over mode</span></p><p class="c8"><span class="c5">Pseudo name=hdiskpower0</span><span class="c11">&nbsp;</span><span class="c5">Symmetrix ID=000195701766</span><span class="c11">&nbsp;</span><span class="c5">Logical device ID=0C76</span><span class="c11">&nbsp;</span><span class="c5">Device WWN=60000970000195701766533030433736</span><span class="c11">&nbsp;</span><span class="c5">state=alive; policy=</span><span class="c4">BasicFailover</span><span class="c5">; queued-IOs=0 ========================================================================= ===== </span></p><p class="c8"><span class="c5">--------------- Host --------------- - Stor - -- I/O Path -- -- Stats ---</span><span class="c11">&nbsp;</span><span class="c5">### HW Path I/O Paths Interf. Mode State Q-IOs Errors ========================================================================= ===== </span></p><p class="c8"><span class="c5">3 fscsi3 2 fscsi2 1 fscsi1 0 fscsi0 </span></p><p class="c8"><span class="c4">Resolution: </span></p><p class="c8"><span class="c5">hdisk7 hdisk3 hdisk2 hdisk1 </span></p><p class="c8"><span class="c5">FA 7f:00 </span><span class="c4">unlic </span><span class="c5">FA 10f:00 </span><span class="c4">unlic </span><span class="c5">FA 7f:00 </span><span class="c4">unlic </span><span class="c5">FA 10f:00 active </span></p><p class="c8"><span class="c5">alive alive </span></p><p class="c8"><span class="c5">alive alive </span></p><p class="c8"><span class="c5">0 0 0 0 </span></p><p class="c8"><span class="c5">0 0 0 0 </span></p><p class="c8"><span class="c5">Run the following commands:</span><span class="c11">&nbsp;</span><span class="c5">powermt check_registration(Make sure the license shows with full capabilities.) powermt set policy=co dev=all (Set the Policy to ClarOpt.)</span><span class="c11">&nbsp;</span><span class="c5">powermt display dev=all (Make sure all device paths are now licensed.) powermt save (Save the configuration.) </span></p><p class="c3"><span class="c4">EMC Power Path Dead Paths:</span></p><p class="c3"><span class="c5">powermt check (remove dead paths)</span></p><p class="c3"><span class="c5">powermt save</span></p><p class="c3"><span class="c5">cfgmgr -l fscsiX</span></p><p class="c3"><span class="c4">Check default power disk policies and change them:</span></p><p class="c3"><span class="c5">lsattr -D -c driver -s pseudo -t power|grep reserve_enable;</span></p><p class="c3"><span class="c5">lsattr -D -c disk -s pseudo -t power|grep reserve_policy;</span></p><p class="c3"><span class="c5">lsattr -D -c disk -s fcp -t SYMM_VRAID|grep reserve_policy;</span></p><p class="c3"><span class="c5">chdef -c driver -s pseudo -t power -a reserve_enable=no;</span></p><p class="c3"><span class="c5">chdef -c disk -s pseudo -t power -a reserve_policy=no_reserve;</span></p><p class="c3"><span class="c5">chdef -c disk -s fcp -t SYMM_VRAID -a reserve_policy=no_reserve</span></p><p class="c8"><span class="c4">other chdef commands:</span><span class="c12">&nbsp;</span><span class="c4">List attributes that have modified default values: </span><span class="c5">chdef -H </span></p><p class="c3"><span class="c5">for i in `cat chdef`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo $i</span></p><p class="c3"><span class="c5">ssh -q $i &#39;pbrun lsattr -D -c driver -s pseudo -t power -a</span></p><p class="c3"><span class="c5">reserve_enable;pbrun lsattr -D -c disk -s pseudo -t power -a</span></p><p class="c3"><span class="c5">reserve_policy;pbrun lsattr -D -c disk -s fcp -t SYMM_VRAID -a</span></p><p class="c3"><span class="c5">reserve_policy&#39;</span></p><p class="c3"><span class="c5">echo</span></p><p class="c8"><span class="c5">done </span></p><p class="c3"><span class="c4">or you can do this(provided by Shocka Khan):</span></p><p class="c3"><span class="c5">powermt remove dev=hdiskX</span></p><p class="c3"><span class="c5">powermt config</span></p><p class="c3"><span class="c5">powermt save</span></p><p class="c3"><span class="c5">cfgmgr -l fscsiX</span></p><p class="c3"><span class="c4">When installing EMC powerpath software make sure you do powerpath </span><span class="c4 c14">AND</span></p><p class="c3"><span class="c4">ODM</span></p><p class="c3"><span class="c4">If the LUNs that storage presents to the VIOS or VIOC shows up as:</span></p><p class="c3"><span class="c4">EMC CLARiiON FCP LUNZ Disk</span></p><p class="c3"><span class="c4">Ask the storage guys to see if the LUNs were allocated to a storage</span></p><p class="c3"><span class="c4">group</span></p><p class="c3"><span class="c4">EMC Powerpath Error:</span></p><p class="c3"><span class="c5">[padmin@vlvio02]/home/padmin&gt;powermt config</span></p><p class="c3"><span class="c5">Method error (/etc/methods/cfgpower -l powerpath0 ):</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; 0514-040 Error initializing a device into the kernel.</span></p><p class="c3"><span class="c5">Unexpected error occured.</span></p><p class="c3"><span class="c5">Resolve:</span></p><p class="c3"><span class="c5">PowerPath 5.3 SP1 installation package was placed in the same</span></p><p class="c3"><span class="c5">directory as the PowerPath 5.3.0 package. When the install from this</span></p><p class="c3"><span class="c5">directory, it also installed the following fileset:</span></p><p class="c3"><span class="c5">EMCpower.consistency_grp 5.3.0.1 C F PowerPath Consistency Group</span></p><p class="c3"><span class="c5">This fileset id no longer valid and it causes powermt config to fail.</span></p><p class="c8"><span class="c4">Follow these sets to resolve this issue:</span><span class="c12">&nbsp;</span><span class="c4">1. Remove all of PowerPath </span><span class="c5">(installp -ug EMCpower.*).</span><span class="c11">&nbsp;</span><span class="c4">2. Seperate the PowerPath 5.3 SP1 package into its own installation directory</span><span class="c12">&nbsp;</span><span class="c4">3. Remove all devices: </span><span class="c5">rmdev -dl </span><span class="c4">for every device</span><span class="c12">&nbsp;</span><span class="c4">4. Install PowerPath 5.3 SP1 from the new directory that you created 5. Bring the devices back in with </span><span class="c5">cfgmgr </span><span class="c4">and </span><span class="c6 c5">powermt config </span></p><p class="c8"><span class="c5">ETHERCHANNEL </span></p><p class="c3"><span class="c4">Cisco term = AIX term</span></p><p class="c3"><span class="c5">Port Channel = Etherchannel</span></p><p class="c3"><span class="c5">LACP = 8023ad</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">Also the interface needs to be &lsquo;up&rsquo; for aggregated status to show</span></p><p class="c3"><span class="c5">&ldquo;aggregated&rdquo; but link can show down. Add IP Address to interface to show MAC. On the switch side, we can port channel the same interfaces that are on the server side. In addition to a port channel, LACP(8023ad) can be added(true for a single port too) to the configuration but the</span></p><p class="c3"><span class="c5">server side mode of the etherchannel needs to be changed otherwise the connection fails</span></p><p class="c3"><span class="c5">The Link Aggregation status is a diagnostic value and does not affect the AIX&reg; side of the configuration. This status value was derived using a best-effort attempt. To debug any aggregation problems, it is best to verify the switch&#39;s configuration.</span></p><p class="c3"><span class="c5">Also the etherchannel will take on the MAC address of its first</span></p><p class="c3"><span class="c5">member. Once you know this MAC, you can look at the LACP state and determine which side is out-of-sync(also you can determine by MAC address if the port is the Actor or Partner port):</span></p><p class="c3"><span class="c5">IEEE 802.3ad Port Statistics:</span></p><p class="c3"><span class="c5">-----------------------------</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Actor System Priority: 0x8000</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Actor System: E4-1F-13-FD-5D-E2</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Actor Operational Key: 0xBEEF</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Actor Port Priority: 0x0080</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Actor Port: 0x0003</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Actor State:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LACP activity: Active</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LACP timeout: Long</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Aggregation: Aggregatable</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Synchronization: IN_SYNC</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Partner System Priority: 0x8000</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Partner System: 54-7F-EE-AF-D4-FC</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Partner Operational Key: 0x0034</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Partner Port Priority: 0x8000</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Partner Port: 0x2E25</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; Partner State:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LACP activity: Active</span></p><p class="c8"><span class="c5">LACP timeout: Long Aggregation: Aggregatable </span><span class="c4">Synchronization: OUT_OF_SYNC </span></p><p class="c3"><span class="c5">==&gt; Looks like the switch port side is the issue &lt;==</span></p><p class="c3"><span class="c5">bounce the switch port after you down/detach the etherchannel on AIX. You can also rmdev -l and mkdev -l the device. If you determine that the issue was on the</span></p><p class="c3"><span class="c5">AIX side then a reboot should fix it</span></p><p class="c8"><span class="c5">Mode: </span></p><p class="c3"><span class="c5">The &quot;8023ad&quot; mode enables the Link Aggregation Control Protocol(LACP) to negotiate the adapters in the link aggregation with a LACP enabled switch. (Federico&#39;s notes): using &quot;LACP Active&quot; you need to configure the etherchannels to use 802.3ad on the aix/vios side Standard mode means it&#39;s a link aggregation both on the server side and on the switch side (or at least it should be) and the hash_mode determines the algorithm used to distribute the load. src_dst_port means the hashing will use both the source and destination port numbers to distribute the packets over the links.</span></p><p class="c3"><span class="c4">Command line for changing an etherchannel</span></p><p class="c3"><span class="c5">ethchan_config { -a [ -b ] | -d } EtherChannel Adaptern</span></p><p class="c3"><span class="c5">ethchan_config -c EtherChannel Attribute NewValue</span></p><p class="c3"><span class="c5">ethchan_config -f EtherChannel</span></p><p class="c8"><span class="c4">-p parent etherchannel individual NIC </span></p><p class="c3"><span class="c5">ethchan_config -a -p ent51 ent42 ent12</span></p><p class="c3"><span class="c5">To add the adapter ent0 as the backup adapter in the EtherChannel</span></p><p class="c3"><span class="c5">called ent7, type: &nbsp; /usr/lib/methods/ethchan_config -a -b ent7 ent0</span></p><p class="c3"><span class="c5">To change the address to ping attribute of an EtherChannel called</span></p><p class="c3"><span class="c5">ent7 to 10.10.10.10, type:</span></p><p class="c3"><span class="c5">/usr/lib/methods/ethchan_config -c ent7 netaddr 10.10.10.10</span></p><p class="c3"><span class="c5">To force a failover of an EtherChannel called ent7 from the currently</span></p><p class="c3"><span class="c5">active channel to the idle channel:</span></p><p class="c3"><span class="c5">/usr/lib/methods/ethchan_config -f ent7</span></p><p class="c8"><span class="c4">Etherchannel Errors:</span><span class="c12">&nbsp;</span><span class="c4">If you get an error when adding an adapter(new or old) to an etherchannel, make sure that the ports on the switch are configured correctly. </span><span class="c5 c53">http://www.antapex.org/AIX5_Virtualization_4.pdf </span><span class="c5">page 74</span><span class="c11">&nbsp;</span><span class="c5">Important: When adding new adapters to a link aggregation, make sure that the ports on</span><span class="c11">&nbsp;</span><span class="c5">the physical network switch have also been configured to support the new adapters in the</span><span class="c11">&nbsp;</span><span class="c5">link aggregation. Faisal mentioned that the interface might need have to ifconfig enX detach it first(check with ifconfig -a). Then I was able to re-add it with the &quot;Add Main Adapter&quot; field. </span></p><p class="c3"><span class="c4">ethchan_config errno = 2:</span></p><p class="c3"><span class="c5">Make sure the entX you are trying to add is not apart of another</span></p><p class="c3"><span class="c5">etherchannel!</span></p><p class="c3"><span class="c4">ethchan_config errno = 22:</span></p><p class="c3"><span class="c5">Double check that are not putting the wrong interfaces into the</span></p><p class="c3"><span class="c5">channel. @ AX I tried to put in ent4 when it should have been ent8</span></p><p class="c3"><span class="c4">EtherChannel:</span></p><p class="c3"><span class="c5">lsdev -Cc adapter - will show you if you have any etherchannel</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 42.60px; height: 1.53px;"><img alt="" src="images/image97.png" style="width: 42.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image108.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.87px; height: 1.53px;"><img alt="" src="images/image67.png" style="width: 24.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 14.27px; height: 1.53px;"><img alt="" src="images/image105.png" style="width: 14.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 74.73px; height: 1.53px;"><img alt="" src="images/image104.png" style="width: 74.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.53px;"><img alt="" src="images/image107.png" style="width: 17.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 18.60px; height: 1.53px;"><img alt="" src="images/image106.png" style="width: 18.60px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">uorc107d:/root&gt; lsdev -Cc adapter</span></p><p class="c3"><span class="c5">ent6 Available EtherChannel / IEEE 802.3ad Link Aggregation</span></p><p class="c8"><span class="c5">&lt;jtucke01@uorc107d&gt;lsattr -El ent6</span><span class="c11">&nbsp;</span><span class="c4 c14">adapter_names ent4 </span><span class="c5">EtherChannel Adapters True</span><span class="c11">&nbsp;</span><span class="c5">alt_addr 0x000000000000 Alternate EtherChannel Address True auto_recovery yes Enable automatic recovery after failover True </span><span class="c4 c14">backup_adapter ent5 </span><span class="c5">Adapter used when whole channel fails True hash_mode default Determines how outgoing adapter is chosen True interval long Determines interval value for IEEE 802.3ad mode True mode standard EtherChannel mode of operation True</span><span class="c11">&nbsp;</span><span class="c5">netaddr 0 Address to ping True</span><span class="c11">&nbsp;</span><span class="c5">noloss_failover yes Enable lossless failover after ping failure True num_retries 3 Times to retry ping before failing True</span><span class="c11">&nbsp;</span><span class="c5">retry_time 1 Wait time (in seconds) between pings True</span><span class="c11">&nbsp;</span><span class="c5">use_alt_addr no Enable Alternate EtherChannel Address True use_jumbo_frame no Enable Gigabit Ethernet Jumbo Frames True </span></p><p class="c3"><span class="c4">Then we can look at the values set on the etherchannel:</span></p><p class="c8"><span class="c5">&lt;jtucke01@uorc107d&gt;lsattr -El en6</span><span class="c11">&nbsp;</span><span class="c5">alias4 IPv4 Alias including Subnet Mask True</span><span class="c11">&nbsp;</span><span class="c5">alias6 IPv6 Alias including Prefix Length True</span><span class="c11">&nbsp;</span><span class="c5">arp on Address Resolution Protocol (ARP) True</span><span class="c11">&nbsp;</span><span class="c5">authority Authorized Users True</span><span class="c11">&nbsp;</span><span class="c5">broadcast Broadcast Address True</span><span class="c11">&nbsp;</span><span class="c5">mtu 1500 Maximum IP Packet Size for This Device True</span><span class="c11">&nbsp;</span><span class="c5">netaddr 165.253.243.156 Internet Address True</span><span class="c11">&nbsp;</span><span class="c5">netaddr6 IPv6 Internet Address True</span><span class="c11">&nbsp;</span><span class="c5">netmask 255.255.255.0 Subnet Mask True</span><span class="c11">&nbsp;</span><span class="c5">prefixlen Prefix Length for IPv6 Internet Address True</span><span class="c11">&nbsp;</span><span class="c5">remmtu 576 Maximum IP Packet Size for REMOTE Networks True</span><span class="c11">&nbsp;</span><span class="c4 c14">rfc1323 </span><span class="c5">Enable/Disable TCP RFC 1323 Window Scaling True</span><span class="c11">&nbsp;</span><span class="c5">security none Security Level True</span><span class="c11">&nbsp;</span><span class="c5">state up Current Interface Status True</span><span class="c11">&nbsp;</span><span class="c5">tcp_mssdflt Set TCP Maximum Segment Size True</span><span class="c11">&nbsp;</span><span class="c5">tcp_nodelay Enable/Disable TCP_NODELAY Option True</span><span class="c11">&nbsp;</span><span class="c4 c14">tcp_recvspace </span><span class="c5">Set Socket Buffer Space for Receiving True </span><span class="c4 c14">tcp_sendspace </span><span class="c5">Set Socket Buffer Space for Sending True</span><span class="c11">&nbsp;</span><span class="c4">or you can see the </span><span class="c4 c14">bolded red </span><span class="c4">values via ifconfig -a</span><span class="c12">&nbsp;</span><span class="c5">en6: flags=1e080863,c0&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,G ROUPRT,64BIT,CHECKSUM_OFFLOAD(ACTIVE),LARGESEND,CHAIN&gt; </span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; inet 165.253.243.156 netmask 0xffffff00 broadcast</span></p><p class="c3"><span class="c5">165.253.243.255</span></p><p class="c3"><span class="c4 c14">&nbsp; &nbsp; &nbsp; tcp_sendspace 131072 tcp_recvspace 65536 rfc1323 0</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">VIOC </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">Which VIO server is my client using vscsi:</span></p><p class="c3"><span class="c5">echo cvai|kdb|grep vscsi[0-9]</span></p><ul class="c60 lst-kix_list_5-0 start"><li class="c3 c33 li-bullet-0"><span class="c5">vscsi0 &nbsp; &nbsp; &nbsp;0x000007 0x0000000000 0x0 &nbsp; czapvs231-&gt;vhost3</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li><li class="c3 c33 li-bullet-0"><span class="c5">vscsi1 &nbsp; &nbsp; &nbsp;0x000007 0x0000000000 0x0 &nbsp; czapvs230-&gt;vhost3</span></li><li class="c3 c33 li-bullet-0"><span class="c20 c38">&nbsp;</span></li></ul><p class="c3"><span class="c4">Which VIO server is my client using using vFiber:</span></p><p class="c3"><span class="c5">echo &quot;vfcs&quot; | kdb</span></p><p class="c3"><span class="c5">NAME &nbsp; &nbsp; &nbsp;ADDRESS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STATE &nbsp; HOST &nbsp; &nbsp; &nbsp;HOST_ADAP &nbsp;OPENED</span></p><p class="c3"><span class="c5">NUM_ACTIVE</span></p><p class="c3"><span class="c5">fcs0 &nbsp; &nbsp; &nbsp;0xF1000A00001E0000 &nbsp;0x0008 &nbsp;czapvs262 vfchost36 0x01</span></p><p class="c3"><span class="c5">0x0000</span></p><p class="c3"><span class="c5">fcs1 &nbsp; &nbsp; &nbsp;0xF1000A0026BF4000 &nbsp;0x0008 &nbsp;czapvs263 vfchost37 0x01</span></p><p class="c3"><span class="c5">0x0000</span></p><p class="c3"><span class="c5">fcs2 &nbsp; &nbsp; &nbsp;0xF1000A0026BF2000 &nbsp;0x0008 &nbsp;czapvs262 vfchost37 0x01</span></p><p class="c3"><span class="c5">0x0000</span></p><p class="c3"><span class="c5">fcs3 &nbsp; &nbsp; &nbsp;0xF1000A0026BF8000 &nbsp;0x0008 &nbsp;czapvs263 vfchost36 0x01</span></p><p class="c3"><span class="c5">0x0000</span></p><p class="c3"><span class="c5">fcs4 &nbsp; &nbsp; &nbsp;0xF1000A0026BF6000 &nbsp;0x0008 &nbsp;czapvs262 vfchost39 0x01</span></p><p class="c3"><span class="c5">0x0000</span></p><p class="c3"><span class="c5">fcs5 &nbsp; &nbsp; &nbsp;0xF1000A00EAF92000 &nbsp;0x0004 &nbsp;czapvs263 vfchost39 0x00</span></p><p class="c3"><span class="c5">0x0000</span></p><p class="c3"><span class="c4">List slot location:</span></p><p class="c8"><span class="c5">lscfg -l fcs* </span></p><p class="c8"><span class="c4">How to determine if the command being run is at the same level as the command being referenced in man pages?</span><span class="c12">&nbsp;</span><span class="c5">Use lslpp-w to get the fileset name, then the level of the file set with lslpp-l </span></p><p class="c8"><span class="c52 c50 c72">.HMC. </span></p><p class="c3"><span class="c4">Update/Upgrade Firmware on frame:</span></p><p class="c3"><span class="c5 c53">http://www-304.ibm.com/webapp/set2/sas/f/power5cm/power7.html</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; 3.0 Firmware Information and Description</span></p><p class="c3"><span class="c5">Use the following examples as a reference to determine whether your installation will be concurrent or disruptive. For systems that are not managed by an HMC or SDMC, the installation of system firmware is always disruptive. Note: The concurrent levels of system firmware may, on occasion, contain fixes that are known as Deferred and/or Partition-Deferred.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 525.27px; height: 1.53px;"><img alt="" src="images/image83.png" style="width: 525.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">Deferred fixes can be installed concurrently, but will not be</span></p><p class="c3"><span class="c5">activated until the next IPL. Partition-Deferred fixes can be</span></p><p class="c3"><span class="c5">installed concurrently, but will not be activated until a partition</span></p><p class="c3"><span class="c5">reactivate is performed. Deferred and/or Partition-Deferred fixes, if</span></p><p class="c3"><span class="c5">any, will be identified in the &quot;Firmware Update Descriptions&quot; table</span></p><p class="c3"><span class="c5">of this document. For these types of fixes (Deferred and/or</span></p><p class="c3"><span class="c5">Partition-Deferred) within a service</span></p><p class="c3"><span class="c5">pack, only the fixes in the service pack which cannot be concurrently activated are deferred.</span></p><p class="c3"><span class="c5">*Note: *The file names and service pack levels used in the following</span></p><p class="c3"><span class="c5">examples are for clarification only, and are not necessarily levels</span></p><p class="c3"><span class="c5">that have been, or will be released.</span></p><p class="c3"><span class="c5">System firmware file naming convention:</span></p><p class="c3"><span class="c5">01EMXXX_YYY_ZZZ</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; * XXX is the /release/ level</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; * YYY is the /service pack/ level</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; * ZZZ is the /last disruptive service pack/ level</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; *</span></p><p class="c3"><span class="c5">*NOTE:* Values of service pack and last disruptive service pack level</span></p><p class="c3"><span class="c5">(YYY and ZZZ) are only unique within a release level (XXX).</span></p><p class="c3"><span class="c5">For example, 01EM310_067_045 and 01EM320_067_053 are *different*</span></p><p class="c3"><span class="c5">service packs.</span></p><p class="c3"><span class="c5">An installation is *disruptive* if:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; * The /release/ levels (XXX) are different.</span></p><p class="c3"><span class="c5">Example: Currently installed release is EM310, new release is EM320</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; * The /service pack/ level (YYY) and the /last disruptive service</span></p><p class="c3"><span class="c5">pack/ level (ZZZ) are the same.</span></p><p class="c3"><span class="c5">Example: EM310_120_120 is disruptive, no matter what level of EM310</span></p><p class="c3"><span class="c5">is currently installed on the system</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; * The service pack level (YYY) currently installed on the system</span></p><p class="c3"><span class="c5">is lower than the last disruptive service pack level (ZZZ) of the</span></p><p class="c3"><span class="c5">service pack to be installed.</span></p><p class="c3"><span class="c5">Example: Currently installed service pack is EM310_120_120 and</span></p><p class="c3"><span class="c5">new service pack is EM310_152_130</span></p><p class="c3"><span class="c5">An installation is *concurrent* if:</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; * The /release/ level (XXX) is the same, and</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; * The /service pack/ level (YYY) currently installed on the</span></p><p class="c3"><span class="c5">system is the same or higher than the /last disruptive service pack/</span></p><p class="c3"><span class="c5">level (ZZZ) of the service pack to be installed.</span></p><p class="c3"><span class="c5">Example: Currently installed service pack is EM310_126_120,</span></p><p class="c3"><span class="c5">new service pack is EM310_143_120.</span></p><p class="c3"><span class="c4">HMC/firmware support matrix from Stuart:</span></p><p class="c3"><span class="c5">http://www-933.ibm.com/support/fixcentral/firmware/supportedCombinations</span></p><p class="c3"><span class="c4">List all kinds of stuff about the HMC:</span></p><p class="c8"><span class="c6 c5">lshmc -n </span></p><p class="c8"><span class="c4 c6">List memory usage on HMC:</span></p><p class="c8"><span class="c5">monhmc &ndash;r mem</span></p><p class="c3"><span class="c4">RMC connection on the vios keeps dropping:</span></p><p class="c8"><span class="c32">edit /usr/sbin/rsct/bin/rmcd_start, and add &quot;-S&quot; option to limit rmc packet size. This reduces the RMC data packet to small size on the RMC on startup script </span></p><p class="c8"><span class="c32">On VIOS: </span></p><p class="c8"><span class="c23 c66">vi /usr/sbin/rsct/bin/rmcd_start </span></p><p class="c8"><span class="c32 c14">SOPT=&quot;-S 4500&quot; </span><span class="c32">&lt;---- add this line </span></p><p class="c8"><span class="c23 c66">unset EXTSHM</span><span class="c20 c66">&nbsp;</span><span class="c23 c66">exec /usr/sbin/rsct/bin/rmcd $AOPT $ROPT $RHBOPT $MOPT $NOPT $POPT \ $TOPT $UOPT $VOPT $WOPT $XOPT </span><span class="c32 c14">$SOPT </span><span class="c23 c66">$@ </span><span class="c32">&lt;------add $SOPT </span></p><p class="c8"><span class="c23 c66">After saved rmcd_start script, recycle RMC, /usr/sbin/rsct/bin/rmcctrl -z /usr/sbin/rsct/bin/rmcctrl -A /usr/sbin/rsct/bin/rmcctrl -p </span></p><p class="c3"><span class="c4">Directory of all HMC commands:</span></p><p class="c3"><span class="c5">ls /usr/hmcrbin</span></p><p class="c3"><span class="c4">Get VIO information without logging in:</span></p><p class="c3"><span class="c5">m556069@czlchm38:~&gt;viosvrcmd -p czapvs228 -m Server-9117-MMD-</span></p><p class="c3"><span class="c5">SN21868A7 -c &quot;lsdev -slots&quot;</span></p><p class="c3"><span class="c5"># Slot</span></p><p class="c3"><span class="c5">U9117.MMD.21868A7-V1-C0</span></p><p class="c3"><span class="c5">U9117.MMD.21868A7-V1-C2</span></p><p class="c3"><span class="c5">U9117.MMD.21868A7-V1-C3</span></p><p class="c3"><span class="c5">U9117.MMD.21868A7-V1-C4</span></p><p class="c3"><span class="c5">U9117.MMD.21868A7-V1-C10</span></p><p class="c3"><span class="c5">U9117.MMD.21868A7-V1-C11</span></p><p class="c3"><span class="c5">U9117.MMD.21868A7-V1-C12</span></p><p class="c3"><span class="c5">U9117.MMD.21868A7-V1-C14</span></p><p class="c3"><span class="c5">Description &nbsp; &nbsp; &nbsp; Device(s)</span></p><p class="c3"><span class="c5">Virtual I/O Slot &nbsp;vsa0</span></p><p class="c3"><span class="c5">Virtual I/O Slot &nbsp;vhost8</span></p><p class="c3"><span class="c5">Virtual I/O Slot &nbsp;vfchost6</span></p><p class="c3"><span class="c5">Virtual I/O Slot &nbsp;vfchost8</span></p><p class="c3"><span class="c5">Virtual I/O Slot &nbsp;vhost1</span></p><p class="c3"><span class="c5">Virtual I/O Slot &nbsp;vfchost0</span></p><p class="c3"><span class="c5">Virtual I/O Slot &nbsp;vfchost1</span></p><p class="c3"><span class="c5">Virtual I/O Slot &nbsp;vhost5</span></p><p class="c3"><span class="c4">Getting VIO info as oem_setup_env from the HMC:</span></p><p class="c3"><span class="c5">hscroot@hmc1:~&gt; command=`printf &quot;oem_setup_env\nwhoami&quot;`</span></p><p class="c8"><span class="c5">hscroot@hmc1:~&gt; viosvrcmd -m p520 -p vio1 -c &quot;$command&quot;</span><span class="c11">&nbsp;</span><span class="c5">root</span><span class="c11">&nbsp;</span><span class="c4">but that way kinda sucks....I think I found a better way(from NOT the HMC):</span><span class="c12">&nbsp;</span><span class="c5">for i in $(cat ALL_VIOS_DR)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo czapvs$i $(ssh padmin@czapvs$i &#39;echo powermt version| oem_setup_env&#39;)</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c3"><span class="c4">Changing the current sharedpool for a LPAR:</span></p><p class="c3"><span class="c5">chhwres -r procpool -m [managed_system] -o s -p [lpar_name] -a</span></p><p class="c3"><span class="c5">&quot;shared_proc_pool_name=[target_sharepool_name]&quot;</span></p><p class="c3"><span class="c4">Changing the shared pool defined in a LPAR&rsquo;s profile :</span></p><p class="c3"><span class="c5">chsyscfg -r prof -m [managed_system] -i</span></p><p class="c3"><span class="c5">&quot;lpar_name=[lpar_name],name=[profile_name],shared_proc_pool_name=[tar</span></p><p class="c3"><span class="c5">get_sharepool_name]&quot;</span></p><p class="c3"><span class="c4">Change maximum procs in pool:</span></p><p class="c3"><span class="c5">chhwres -r procpool -m Server-9117-MMD-SN21867D7 -o s --poolname</span></p><p class="c3"><span class="c6 c5">SharedPool01 -a max_pool_proc_units=31</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">Change the name of a Shared Processor Pool:</span></p><p class="c3"><span class="c5">Chhwres &ndash;r procpool &ndash;m &lt;managed_system&gt; -o s &ndash;poolid 1 &ndash;a &ldquo;new_name=&lt;new_name&gt;&rdquo;</span></p><p class="c3"><span class="c4">List the virtual networks:</span></p><p class="c3"><span class="c5">lshwres -r virtualio --rsubtype vnetwork -m Server-9117-MMD-SN103CB27</span></p><p class="c3"><span class="c5">vnetwork=VLAN602-</span></p><p class="c3"><span class="c5">VSWITCH_602_302,is_tagged=0,vswitch=VSWITCH_602_302,vlan_id=602</span></p><p class="c3"><span class="c5">vnetwork=VLAN82-</span></p><p class="c3"><span class="c5">VSWITCH_602_302,is_tagged=1,vswitch=VSWITCH_602_302,vlan_id=82</span></p><p class="c3"><span class="c5">vnetwork=VLAN601-</span></p><p class="c3"><span class="c5">VSWITCH_601_301,is_tagged=0,vswitch=VSWITCH_601_301,vlan_id=601</span></p><p class="c3"><span class="c5">vnetwork=VLAN82-</span></p><p class="c3"><span class="c5">VSWITCH_601_301,is_tagged=1,vswitch=VSWITCH_601_301,vlan_id=82</span></p><p class="c8"><span class="c4">To add or remove a virtual network or set virtual network attributes:</span><span class="c12">&nbsp;</span><span class="c5">chhwres -r virtualio -m managed-system -o {a | r | s} --rsubtype vnetwork --vnetwork virtual-network [-a &quot;attributes&quot;] </span></p><p class="c3"><span class="c4">To add or remove a virtual switch:</span></p><p class="c8"><span class="c5">chhwres -r virtualio -m managed-system -o r --rsubtype vswitch --vswitch virtual-switch</span><span class="c11">&nbsp;</span><span class="c4">Before you remove a vswitch, make sure that any virtual ethernet that uses(used) that vswitch is removed. Once you remove them you can see that the virtual networks disappear. If you remove a virtual network make sure that you remove the ones that are is_tagged=1 first before is_tagged=0(&lt;= this is PVID of the vswitch) </span></p><p class="c3"><span class="c4">List attributes of an HMC user:</span></p><p class="c3"><span class="c5">lshmcusr --filter names=m556069</span></p><p class="c3"><span class="c4">Create HMC user</span></p><p class="c3"><span class="c4">mkhmcusr -u hscpe -a hmcpep</span></p><p class="c3"><span class="c4">or</span></p><p class="c3"><span class="c4">mkhmcusr -u m556069 -a hmcsuperadmin --passwd</span></p><p class="c3"><span class="c4">Change user&#39;s password</span></p><p class="c3"><span class="c4">chhmcusr -u &lt;user name&gt; -t passwd</span></p><p class="c3"><span class="c4 c45">HMC readmes:</span></p><p class="c3"><span class="c4 c45">http://www14.software.ibm.com/webapp/set2/sas/f/hmcl/resources.html</span></p><p class="c8"><span class="c4">Create an LPAR:</span><span class="c12">&nbsp;</span><span class="c4">with dedicated CPU mode:</span><span class="c12">&nbsp;</span><span class="c5">mksyscfg -r lpar -m Server-9117-MMC-SN217D807 -i &quot;name=&lt;name&gt;,profile_name=&lt;name&gt;,lpar_env=aixlinux,min_mem=1024,desir ed_mem=65536,max_mem=98304,proc_mode=ded,min_procs=1,desired_procs=5, max_procs=64,sharing_mode=keep_idle_procs&quot; </span></p><p class="c3"><span class="c5">mksyscfg -r lpar -m &quot;cg1 - Server-9119-FHA-SN0220B45&quot; -i</span></p><p class="c3"><span class="c5">&quot;name=tucker,profile_name=normal,lpar_env=aixlinux,min_mem=256,desire</span></p><p class="c3"><span class="c5">d_mem=512,max_mem=1024,proc_mode=shared,min_proc_units=.1,desired_pro</span></p><p class="c3"><span class="c5">c_units=.2,max_proc_units=.3,min_procs=1,desired_procs=1,max_procs=1,</span></p><p class="c3"><span class="c5">sharing_mode=uncap,uncap_weight=128,shared_proc_pool_id=0&quot;</span></p><p class="c3"><span class="c4">Remove an LPAR:</span></p><p class="c3"><span class="c5">rmsyscfg -r lpar -m &quot;cg1 - Server-9119-FHA-SN0220B45&quot; -n tucker</span></p><p class="c3"><span class="c4">LED Code 888-102-700-0c5:</span></p><p class="c3"><span class="c5">NIM server crashed. Reset and deallocate client that you are trying</span></p><p class="c3"><span class="c5">to install. If that doesnt work then recycle NFS on NIM server. At</span></p><p class="c3"><span class="c5">Kaiser it seemed that the issue was no LUNs available via NPIV.lp</span></p><p class="c3"><span class="c5">To run a full NFS clean run the following, including a reset and</span></p><p class="c3"><span class="c5">deallocate operation, before setting up for your next install attempt</span></p><p class="c3"><span class="c5">:</span></p><p class="c3"><span class="c5">nim -Fo reset client_name</span></p><p class="c3"><span class="c5">nim -o deallocate -a subclass=all client_name</span></p><p class="c3"><span class="c5">stopsrc -g nfs</span></p><p class="c3"><span class="c5">cd /etc</span></p><p class="c3"><span class="c5">mv exports exports.</span></p><p class="c3"><span class="c5">rm rmtab xtab</span></p><p class="c3"><span class="c5">cd /var/statmon</span></p><p class="c3"><span class="c5">rm -rf ./state ./sm ./sm.bak</span></p><p class="c3"><span class="c5">startsrc -g nfs</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 576.67px; height: 1.53px;"><img alt="" src="images/image84.png" style="width: 576.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c4">LED CODE: 0608 kaiser</span></p><p class="c3"><span class="c5">Client LPAR pings and pulls the OS boot load over via tftp but hangs</span></p><p class="c3"><span class="c5">with LED CODE 0608. Issue is the network. Fix that</span></p><p class="c3"><span class="c4">IOR Collection LP on frame:</span></p><p class="c3"><span class="c5">If it doesnt magically go away(like it should). Get on HMC CLI and</span></p><p class="c3"><span class="c5">WHACK IT!</span></p><p class="c3"><span class="c4">Change the min,desired and max shared proc&#39;s/Memory:</span></p><p class="c3"><span class="c5">chsyscfg -r prof -m &quot;cg1 - Server-9119-FHA-SN0220B45&quot; -i</span></p><p class="c3"><span class="c5">&quot;name=normal,lpar_name=tucker,min_proc_units=0.1,desired_proc_units=0</span></p><p class="c3"><span class="c5">.2,max_proc_units=0.4&quot;</span></p><p class="c3"><span class="c5">chsyscfg -r prof -m Server-8205-E6B-SN105929G -i</span></p><p class="c3"><span class="c5">&quot;name=default,lpar_name=9,min_proc_units=0.1,desired_proc_units=0.1,m</span></p><p class="c3"><span class="c5">ax_proc_units=2,min_procs=1,desired_procs=1,max_procs=4,min_mem=512,d</span></p><p class="c3"><span class="c5">esired_mem=4096,max_mem=8192&quot;</span></p><p class="c3"><span class="c4">To add NIM ssh keys to HMC, run on NIM:</span></p><p class="c3"><span class="c5">ssh hscroot@hmc60 &quot;mkauthkeys --add &#39;ssh-dss AAAAblah blah blah==</span></p><p class="c3"><span class="c5">root@cgnim01a&#39; ~HOME/.ssh/id_dsa&quot;</span></p><p class="c3"><span class="c4">To add ssh keys from one HMC to another and vice versa:</span></p><p class="c3"><span class="c5">jtucke@NCHMC-01:~&gt; mkauthkeys --ip 10.21.12.198 -u jtucke -g</span></p><p class="c3"><span class="c6 c5">Enter the password for user jtucke on the remote host 10.21.12.198:</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">To add keys to a vio server:</span></p><p class="c3"><span class="c6 c5">cat ~/.ssh/id_rsa.pub|ssh padmin@chw-pvios-001 &#39;tee -a ~/.ssh/authorized_keys2&#39;</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c4">To remove all ssh keys for user m556069:</span></p><p class="c3"><span class="c5">mkauthkeys -r -u m556069</span></p><p class="c3"><span class="c4">Verify that SSH authentication keys are correct between HMC&#39;s:</span></p><p class="c3"><span class="c5">mkauthkeys -u &lt;remoteUserName&gt; &nbsp;--ip &lt;remoteHostName&gt; --test</span></p><p class="c3"><span class="c4">To close a console session via the HMC command line:</span></p><p class="c3"><span class="c5">-m (managed system) -p (LPAR name)</span></p><p class="c3"><span class="c5">rmvterm -m SAP-p570-1-SN102FBA5 -p pepxd200014</span></p><p class="c8"><span class="c5">DLPAR </span></p><p class="c3"><span class="c4">Ports needed for both LPM and DLPAR:</span></p><p class="c3"><span class="c4">DLPAR Checklist:</span></p><p class="c3"><span class="c5 c16">Can you ping the HMC from the LPAR? Can you ping the LPAR from the</span></p><p class="c3"><span class="c5 c16">HMC? If either of these tests fails, check the network configuration</span></p><p class="c3"><span class="c5 c16">on both components before doing anything else. Ensure the settings on</span></p><p class="c3"><span class="c5 c16">the HMC are correct(IP address, netmask, default gateway, network</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 653.53px; height: 18.60px;"><img alt="" src="images/image27.png" style="width: 653.53px; height: 18.60px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c4">port </span><span class="c5 c16">657 upd/tcp must have to be open in both directions between the</span><span class="c4">&nbsp;HMC </span><span class="c5 c16">public interface and the lpars routes, DNS server).</span></p><p class="c3"><span class="c5 c16">If you check the network and you are happy that the LPAR and the HMC can communicate, then perhaps you need to re-initialise the RMC subsystems on the AIX LPAR. Run the following commands:</span></p><p class="c3"><span class="c5 c16"># /usr/sbin/rsct/bin/rmcctrl &ndash;z</span></p><p class="c3"><span class="c5 c16"># /usr/sbin/rsct/bin/rmcctrl &ndash;A</span></p><p class="c3"><span class="c5 c16"># /usr/sbin/rsct/bin/rmcctrl &ndash;p</span></p><p class="c3"><span class="c5 c16">Wait up to 5 minutes before trying DLPAR again. If DLPAR still</span></p><p class="c3"><span class="c5 c16">doesn&rsquo;t work i.e. the HMC is still reporting no values for DCaps, and the IBM.DRM subsystem still won&rsquo;t start, try using the recfgct</span></p><p class="c3"><span class="c5 c16">command.(but not on a HA node)</span></p><p class="c3"><span class="c5 c16">hscroot@hmc1:~&gt; lspartition -dlpar</span></p><p class="c8"><span class="c5 c16">..... </span></p><p class="c3"><span class="c5 c16">&lt;#5&gt; LPAR:&lt;24*9117-MMB*10284FP, , 192.168.1.15&gt;</span></p><p class="c3"><span class="c5 c16">Active:&lt;1&gt;, OS:&lt;AIX, 6.1, 6100-05-01-1016&gt;,DCaps:&lt;0x0&gt;, CmdCaps:&lt;0x0,</span></p><p class="c3"><span class="c5 c16">0x0&gt;, PinnedMem:&lt;768&gt;</span></p><p class="c3"><span class="c5 c16">.....</span></p><p class="c3"><span class="c5 c16"># /usr/sbin/rsct/install/bin/recfgct</span></p><p class="c3"><span class="c5 c16">Wait 5 minutes. This should resolve your DLPAR issue. The IBM.DRM subsystem should now be active and there should be good (non-zero) values for DCaps:</span></p><p class="c3"><span class="c5 c16"># lssrc -g rsct_rm</span></p><p class="c3"><span class="c5 c16">Subsystem Group PID Status</span></p><p class="c3"><span class="c5 c16">IBM.DRM rsct_rm 6881300 active</span></p><p class="c3"><span class="c5 c16">IBM.CSMAgentRM rsct_rm 7274530 active</span></p><p class="c3"><span class="c5 c16">IBM.ServiceRM rsct_rm 6029480 active</span></p><p class="c3"><span class="c5 c16">IBM.AuditRM rsct_rm 6357058 active</span></p><p class="c3"><span class="c5 c16">IBM.ERRM rsct_rm 4456566 active</span></p><p class="c3"><span class="c5 c16">IBM.LPRM rsct_rm 6946986 active</span></p><p class="c3"><span class="c5 c16">hscroot@hmc1:~&gt; lspartition -dlpar</span></p><p class="c8"><span class="c5 c16">.... </span></p><p class="c3"><span class="c5 c16">&lt;#5&gt; LPAR:&lt;24*9117-MMB*10284FP, , 192.168.1.15&gt;</span></p><p class="c3"><span class="c5 c16">Active:&lt;1&gt;, OS:&lt;AIX, 6.1, 6100-05-01-1016&gt;, DCaps:&lt;0xc5f&gt;,</span></p><p class="c3"><span class="c5 c16">CmdCaps:&lt;0x1b, 0x1b&gt;, PinnedMem:&lt;994&gt;</span></p><p class="c8"><span class="c5 c16">.... </span></p><p class="c3"><span class="c5 c16">Only run the rmcctrl and recfgct commands if you believe something has become corrupt in the RMC configuration of the LPAR. The fastest way to fix a broken configuration or to clear out the RMC ACL files after cloning (via alt_disk migration) is to use the recfgct command.</span></p><p class="c3"><span class="c5 c16">These daemons should work &ldquo;out of the box&rdquo; and are not typically the</span><span>&nbsp;</span><span class="c5 c16">cause of DLPAR issues. However, you can try stopping and starting the</span><span>&nbsp;</span><span class="c5 c16">daemons when troubleshooting DLPAR issues.</span></p><p class="c3"><span class="c5 c16">The rmcctrl -z command just stops the daemons. The rmcctrl -A command</span><span>&nbsp;</span><span class="c5 c16">ensures that the subsystem group (rsct) and the subsystem (ctrmc) objects are added to the SRC, and an appropriate entry added to the end of /etc/inittab and it starts the daemons. The rmcctrl &ndash;p command enables the daemons for remote client connections i.e. from the HMC to the LPAR and vice versa. If you are familiar with the System Resource Controller (SRC) you might be tempted to use stopsrc and startsrc commands to stop and start these daemons. Do not do it; use the rmcctrl commands instead.</span></p><p class="c3"><span class="c5 c16">If /var is 100% full, use chfs to expand it. If there is no more</span></p><p class="c3"><span class="c5 c16">space available, examine subdirectories and remove unnecessary files</span></p><p class="c3"><span class="c5 c16">(for example, trace.*, core, and so forth). If /var is full, RMC</span></p><p class="c3"><span class="c5 c16">subsystems may fail to function correctly.</span></p><p class="c3"><span class="c5 c16">The polling interval for the RMC daemons on the LPAR to check with</span></p><p class="c3"><span class="c5 c16">the HMC daemons is 5-7 minutes; so you need to wait long enough for</span></p><p class="c3"><span class="c5 c16">the daemons to start up and synchronize.</span></p><p class="c3"><span class="c5 c16">The Resource Monitoring and Control (RMC) daemons are part of the Reliable, Scalable Cluster Technology (RSCT) and are controlled by the System Resource Controller (SRC). These daemons run in all LPARs and communicate with equivalent RMC daemons running on the HMC. The daemons start automatically when the operating system starts and synchronize with the HMC RMC daemons.</span></p><p class="c3"><span class="c5 c16">The daemons in the LPARs and the daemons on the HMC must be able to</span></p><p class="c3"><span class="c5 c16">communicate over the network for DLPAR operations to succeed.This is</span></p><p class="c3"><span class="c5 c16">not the network connection between the managed system (FSP) and the</span></p><p class="c3"><span class="c5 c16">HMC; it is the network connection between the operating system (AIX)</span></p><p class="c3"><span class="c5 c16">in each LPAR and the HMC.</span></p><p class="c3"><span class="c5 c16">Note: Apart from rebooting, there is no way to stop and start the RMC</span></p><p class="c3"><span class="c5 c16">daemons on the HMC.</span></p><p class="c3"><span class="c4 c16">How to know if DLPAR can be performed for a specific LPAR:</span></p><p class="c3"><span class="c5">lsrsrc IBM.MCP</span></p><p class="c8"><span class="c4">to set processing units to a specific number:(remember its relationship to VPs)</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c5">chhwres -m Server-9117-MMD-SN21928F7 -r proc -o s --procunits .4 -p czapwa168 </span></p><p class="c3"><span class="c4">If both the partitions you are adding to or removing from are using</span></p><p class="c3"><span class="c4">dedicated processors, you can only use --procs to specify the</span></p><p class="c3"><span class="c4">quantity of processors to add, remove, or move and the quantity must</span></p><p class="c3"><span class="c4">be a whole number greater than 0.</span></p><p class="c3"><span class="c4">If both the partition you are adding to or removing from is using</span></p><p class="c3"><span class="c4">shared processors:</span></p><p class="c3"><span class="c4">&nbsp; &nbsp; &nbsp;1. use --procunits to specify the quantity of processing units</span></p><p class="c3"><span class="c4">&nbsp; &nbsp; &nbsp;to add, remove, or move and the quantity of processing units</span></p><p class="c3"><span class="c4">&nbsp; &nbsp; &nbsp;specified with this option can have up to 2 decimal places.</span></p><p class="c3"><span class="c4">&nbsp; &nbsp; &nbsp;2. use --procs to specify the quantity of virtual processors to</span></p><p class="c3"><span class="c4">&nbsp; &nbsp; &nbsp;add, remove, or move. The quantity must be a whole number</span></p><p class="c3"><span class="c4">&nbsp; &nbsp; &nbsp;greater than 0</span></p><p class="c8"><span class="c4">To add a fiber channel adapter with wwpns:(client only, make sure you create the server side slot)</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c5">chhwres -r virtualio -m Server-9117-MMD-SN21929B7 -o a --id 23 --rsubtype fc -s 909 -a adapter_type=client,remote_lpar_id=2,remote_slot_num=909,wwpns=\&quot;c050 7607be690000,c0507607be690001\&quot; </span></p><p class="c3"><span class="c4">to add vscsi to vios:</span></p><p class="c3"><span class="c5">chhwres -r virtualio -m Server-9117-MMD-SN21879A7 -o a --id 1</span></p><p class="c3"><span class="c5">--rsubtype scsi -s 498 -a</span></p><p class="c3"><span class="c5">&quot;adapter_type=server,remote_slot_num=498,remote_lpar_id=4&quot;</span></p><p class="c3"><span class="c4">to add vFiber to vios:</span></p><p class="c3"><span class="c5">chhwres -r virtualio -m Server-9117-MMD-SN21879A7 -o a --id 1</span></p><p class="c3"><span class="c5">--rsubtype fc -s 1093 -a &quot;adapter_type=server,remote_lpar_id=4,</span></p><p class="c3"><span class="c5">remote_slot_num=1093&quot;</span></p><p class="c3"><span class="c4">To add memory via dlpar:(a = add, r = remove, m = move)</span></p><p class="c3"><span class="c5">chhwres -r mem -m &lt;managed_system&gt; -o a -p &lt;client&gt;|--id &lt;lpar_id&gt; -q</span></p><p class="c3"><span class="c5">&lt;quantity_MBlssys&gt; -w 10</span></p><p class="c3"><span class="c4">add vscsi slot:(add one at a time to each VIOS)</span></p><p class="c3"><span class="c5">chsyscfg -m Server-9119-FHA-SN0220B35 -r prof -i</span></p><p class="c3"><span class="c5">&quot;lpar_name=tucker,name=Normal,virtual_scsi_adapters+=203/client/30/ch</span></p><p class="c3"><span class="c5">vio01a/203/1&quot;</span></p><p class="c3"><span class="c5">chsyscfg -m Server-9119-FHA-SN0220B35 -r prof -i</span></p><p class="c3"><span class="c5">&quot;lpar_name=tucker,name=Normal,virtual_scsi_adapters+=204/client/31/ch</span></p><p class="c3"><span class="c5">vio01b/204/1&quot;</span></p><p class="c3"><span class="c5">virtual_scsi_adapters=virtual-slot-number/client-or-server/[remote-</span></p><p class="c3"><span class="c5">lpar-ID]/[remote-lpar-name]/[remote-slot-number]/is-required</span></p><p class="c3"><span class="c4">To remove processing units from a VIOC:</span></p><p class="c3"><span class="c5">chhwres -r proc -m Server-9117-MMD-SN21928A7 -o r -p czapap404</span></p><p class="c3"><span class="c5">--procunits 2.0</span></p><p class="c3"><span class="c4">To add a processor pool to a frame: -o s means set</span></p><p class="c3"><span class="c5">chhwres -r procpool -o s -m &lt;managed_system&gt; --poolid 1 -a</span></p><p class="c3"><span class="c5">&ldquo;new_name=pool1,max_pool_proc_units=28&rdquo;</span></p><p class="c3"><span class="c4">To remove a processor pool:(set max_pool_proc to zero)</span></p><p class="c3"><span class="c5">chhwres -r procpool -m Server-9117-MMD-SN103CB37 -o s --poolname</span></p><p class="c3"><span class="c5">SharedPool02 -a &quot;max_pool_proc_units=0&quot;</span></p><p class="c3"><span class="c4">Change the name of an LPAR:</span></p><p class="c3"><span class="c5">chsyscfg -m Server-9117-MMD-SN103CB27 -r lpar -i</span></p><p class="c3"><span class="c5">&#39;name=czapvs98,new_name=czapvs98_oldprofile&#39;</span></p><p class="c3"><span class="c4">Move the partition lpar1 to shared processor pool pool1:</span></p><p class="c3"><span class="c5">chhwres -r procpool -m &lt;managed_system&gt; -o s -p lpar1 -a</span></p><p class="c3"><span class="c5">&quot;shared_proc_pool_name=pool1&quot;</span></p><p class="c3"><span class="c4">Dynamically adding a virtual fiber channel adapter to a client lpar:</span></p><p class="c8"><span class="c30 c5"><a class="c79" href="https://www.google.com/url?q=http://www.aixmind.com/?p%3D798&amp;sa=D&amp;source=editors&amp;ust=1673574135564001&amp;usg=AOvVaw0DAsLXSEqdVAMylrfVfRGe">http://www.aixmind.com/?p=798</a></span><span class="c11 c18 c53">&nbsp;</span></p><p class="c8"><span class="c23 c16">When adding a new virtual fibre channel adapter to a client partition the common approach as used in the past with virtual SCSI adapters, first adding the new client adapter to the LPAR as DLPAR operation and afterwards simply adding the same adapter to the LPAR&#39;s current profile does not work for virtual fibre channel adapters!</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">The reason is, that just in the moment when the virtual fibre channel adapter is created for a client LPAR a pair of </span><span class="c23 c15 c16">unique </span><span class="c23 c16">WWPNs (NPIV) is assigned to this adapter by the system. So when adding a virtual fibre channel adapter dynamically to a client partition a set of WWPNs will be created instantly for this adapter and when attempting to add the same adapter later on to the partition&#39;s profile, another pair of WWPNs will be associated with that virtual fibre channel adapter. This behavior can very easily be verified taking a look at the virtual fibre channel adapter properties. The one in the running LPAR will have a different pair of WWPNs than the one in the stored profile. As long as the client LPAR is not shut down everything seems to be fine. But when the LPAR is shut down for the first time and restarted (here actually the saved profile is activated for the first time after the change) then it will come up with another pair of WWPNs and loose access to all SAN devices that have been mapped and zoned to the previous WWPNs of the dynamically added virtual fibre channel adapter. As there is no regular way of reusing WWPNs on the HMC (although there is a workaround to manually change the WWPNs in a profile using the chsyscfg -r prof command), the previous WWPNs are lost and the SAN zoning and subsystem mapping has to be done all over again with the new WWPNs of that virtual fibre channel adapter. </span></p><p class="c8"><span class="c23 c16">So when </span><span class="c4 c16">adding virtual fibre channel client adapters dynamically </span><span class="c23 c16">to a client partition using a DLPAR operation simply follow the steps below to preserve the WWPN configuration and safely add this new adapter with its associated WWPNs to the client partition&#39;s </span></p><p class="c8"><span class="c23 c16">profile (after having configured the associated virtual fibre channel </span><span class="c5 c15 c16">server </span><span class="c23 c16">adapters in the Virtual I/O server partition): </span></p><p class="c8"><span class="c23 c57">1.</span><span class="c23 c16">Add the Virtual Fibre Channel client adapter dynamically to the client </span><span class="c23 c16">LPAR.</span><span class="c18 c20 c71 c16">&nbsp;</span></p><p class="c8"><span class="c23 c57">2.</span><span class="c23 c16">Use &#39;</span><span class="c4 c16">Save Current Configuration</span><span class="c23 c16">&#39; to save the current configuration to a new </span></p><p class="c3"><span class="c23 c16">&nbsp; &nbsp; LPAR profile with a new name.</span></p><p class="c8"><span class="c23 c57">3.</span><span class="c23 c16">Use &#39;</span><span class="c4 c16">Change Default Profile</span><span class="c23 c16">&#39; to make the new profile the default profile of the LPAR (if desired), to ensure that this profile with the new virtual fibre channel adapter is automatically used after the next shutdown / restart cycle of the LPAR. </span></p><p class="c8"><span class="c23 c16">Please note, that only the </span><span class="c4 c16">virtual fibre channel </span><span class="c4 c15 c16">client </span><span class="c4 c16">adapter </span><span class="c23 c16">is associated with a pair of NPIV WWPNs, which can be seen in the &#39;Properties&#39; window of the adapter on the HMC. Thus the management of client LPAR profiles containing virtual fibre channel client adapters requires special handling to preserve the WWPN configuration. </span></p><p class="c8"><span class="c23 c16">The </span><span class="c4 c16">virtual fibre channel </span><span class="c4 c15 c16">server </span><span class="c4 c16">adapter </span><span class="c23 c16">on the VIOS is not associated with WWPNs and therefore does not require a </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 44.47px; height: 1.53px;"><img alt="" src="images/image26.png" style="width: 44.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 10.73px; height: 1.53px;"><img alt="" src="images/image8.png" style="width: 10.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 28.53px; height: 1.53px;"><img alt="" src="images/image9.png" style="width: 28.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c23 c16">special handling of VIO server profiles.</span><span class="c20 c16">&nbsp;</span><span class="c23 c16">A look in the client partition with the dynamically added virtual fibre channel adapter: </span></p><p class="c3"><span class="c4 c16">Broken DLPAR:</span></p><p class="c8"><span class="c5 c53">http://www-01.ibm.com/support/docview.wss?uid=isg3T1011372 </span><span class="c6 c5">/usr/sbin/rsct/install/recfgct </span></p><p class="c8"><span class="c4">note: do not run recfgct on a HA node</span></p><p class="c3"><span class="c5">/usr/sbin/rsct/bin/rmcctrl -p</span></p><p class="c3"><span class="c5">hscpe@pbsghmc12:~&gt; lshmc -v</span></p><p class="c3"><span class="c5">&quot;vpd=*FC ????????</span></p><p class="c3"><span class="c5">*VC 20.0</span></p><p class="c3"><span class="c5">*N2 Tue Mar 23 11:24:10 CDT 2010</span></p><p class="c3"><span class="c5">*FC ????????</span></p><p class="c8"><span class="c5">*DS Hardware Management Console *TM 7042-CR5</span><span class="c11">&nbsp;</span><span class="c4">*SE KQTGLMG</span><span class="c12">&nbsp;</span><span class="c5">*MN IBM </span></p><p class="c8"><span class="c5">*PN Unknown</span><span class="c11">&nbsp;</span><span class="c5">*SZ 4228251648</span><span class="c11">&nbsp;</span><span class="c5">*OS Embedded Operating Systems</span><span class="c11">&nbsp;</span><span class="c5">*NA 5.16.196.58</span><span class="c11">&nbsp;</span><span class="c5">*FC ????????</span><span class="c11">&nbsp;</span><span class="c5">*DS Platform Firmware</span><span class="c11">&nbsp;</span><span class="c5">*RM V7R3.5.0.0</span><span class="c11">&nbsp;</span><span class="c5">&quot;</span><span class="c11">&nbsp;</span><span class="c5">hscpe@pbsghmc12:~&gt; pesh </span><span class="c4">KQTGLMG &lt;----- You need to call IBM support and give them the serial number of the HMC and they will generate a time sensitive password for you to use</span><span class="c12">&nbsp;</span><span class="c5">Role = hmcpe</span><span class="c11">&nbsp;</span><span class="c5">Password:</span><span class="c11">&nbsp;</span><span class="c5">hscpe@pbsghmc12:~&gt; su -</span><span class="c11">&nbsp;</span><span class="c5">Password: &lt;--- This is root&#39;s password</span><span class="c11">&nbsp;</span><span class="c5">pbsghmc12:~ # /usr/sbin/rsct/install/bin/recfgct</span><span class="c11">&nbsp;</span><span class="c5">0513-071 The ctcas Subsystem has been added.</span><span class="c11">&nbsp;</span><span class="c5">0513-071 The ctrmc Subsystem has been added.</span><span class="c11">&nbsp;</span><span class="c5">0513-059 The ctrmc Subsystem has been started. Subsystem PID is 27726.</span><span class="c11">&nbsp;</span><span class="c5">pbsghmc12:~ # /usr/sbin/rsct/bin/rmcctrl -p </span></p><p class="c8"><span class="c5">END OF DLPAR </span></p><p class="c8"><span class="c5">CHANGING COMMANDS </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 12.47px; height: 1.53px;"><img alt="" src="images/image4.png" style="width: 12.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 30.27px; height: 1.53px;"><img alt="" src="images/image3.png" style="width: 30.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image6.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 22.13px; height: 1.53px;"><img alt="" src="images/image5.png" style="width: 22.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 24.00px; height: 1.53px;"><img alt="" src="images/image1.png" style="width: 24.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 40.87px; height: 1.53px;"><img alt="" src="images/image21.png" style="width: 40.87px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.47px; height: 1.53px;"><img alt="" src="images/image19.png" style="width: 4.47px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 46.20px; height: 1.53px;"><img alt="" src="images/image23.png" style="width: 46.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 4.53px; height: 1.53px;"><img alt="" src="images/image2.png" style="width: 4.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.40px; height: 1.53px;"><img alt="" src="images/image14.png" style="width: 21.40px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 7.13px; height: 1.53px;"><img alt="" src="images/image13.png" style="width: 7.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.53px;"><img alt="" src="images/image17.png" style="width: 17.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.80px; height: 1.53px;"><img alt="" src="images/image15.png" style="width: 8.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 16.80px; height: 1.53px;"><img alt="" src="images/image12.png" style="width: 16.80px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 1.53px;"><img alt="" src="images/image7.png" style="width: 8.00px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.93px; height: 1.53px;"><img alt="" src="images/image30.png" style="width: 8.93px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 48.07px; height: 1.53px;"><img alt="" src="images/image59.png" style="width: 48.07px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c4">To uncap LPARs:</span></p><p class="c3"><span class="c5">chsyscfg -m &lt;Managed_System&gt; -r prof -i</span></p><p class="c3"><span class="c5">&quot;lpar_name&lt;lpar_name&gt;,name=&lt;profile_name&gt;,&quot;sharing_mode=uncap&quot;,&quot;uncap</span></p><p class="c3"><span class="c5">_weight=128&quot;&quot;</span></p><p class="c3"><span class="c4">To add virtual ethernet on a profile from the HMC:</span></p><p class="c3"><span class="c5">This is will add 3 Virt Eth with additional VLAN ID&#39;s</span></p><p class="c3"><span class="c5">chsyscfg -m SAP-p570-205-SN103E855 -r prof -i</span></p><p class="c3"><span class="c5">&#39;name=default,lpar_name=pepxvn00048,&quot;virtual_eth_adapters=32/1/992/60</span></p><p class="c3"><span class="c5">6/1/0/ETHERNET0,33/1/993/607/1/0/ETHERNET0,900/0/999//0/0/ETHERNET0,&quot;</span></p><p class="c3"><span class="c5">&quot;31/1/991/417,419,428,430/1/0/ETHERNET0&quot;&quot;&#39;</span></p><p class="c3"><span class="c4 c15">for additional_vlans do it EXACTELY as shown above</span></p><p class="c8"><span class="c4 c15">Here is the syntax for multiple additional VLANs from the HMC CLI: (this was copied straight from another vio server, just add the escapes in for the quotes):</span><span class="c12 c15">&nbsp;</span><span class="c5">chsyscfg -r prof -m Server-9117-MMD-SN21928C7 -i name=czapvs241,lpar_name=czapvs241,\&quot;virtual_eth_adapters=\&quot;\&quot;161/1/6 61/555,556/2/0/VSWITCH_661_361//all/none\&quot;\&quot;,\&quot;\&quot;162/1/662/555,556/1/ 0/VSWITCH_662_362//all/none\&quot;\&rdquo;\&rdquo; </span></p><p class="c3"><span class="c4">To enable Performance Collections:</span></p><p class="c3"><span class="c5">chsyscfg -r lpar -m &lt;Managed_System&gt; -i</span></p><p class="c3"><span class="c5">&#39;name=pepxvp00065,allow_perf_collection=1&#39;</span></p><p class="c3"><span class="c4">Virtual Ethernet Adapters</span></p><p class="c3"><span class="c5">The syntax of the virtual Ethernet adapters is:</span></p><p class="c8"><span class="c4">slot_number/is_ieee/port_vlan_id/&quot;additional_vlan_id,additional_vlan_ id&quot;/is_trunk(number=priority)/is_required</span><span class="c12">&nbsp;</span><span class="c5">So the adapter with this setting 2/1/1//0/1 would say it is in </span><span class="c4">slot_numer 2</span><span class="c5">, it is </span><span class="c4">ieee</span><span class="c5">, the </span><span class="c4">port_vlan_id </span><span class="c5">is </span><span class="c4">1</span><span class="c5">, it has </span><span class="c4">no </span><span class="c5">additional VLAN ids assigned, it is </span><span class="c4">not </span><span class="c5">a </span><span class="c4">trunk </span><span class="c5">adapter and it is </span><span class="c4">required</span><span class="c5">. </span></p><p class="c3"><span class="c5">To create a trunk adapter with the priority of 2 which is required,</span></p><p class="c3"><span class="c5">has the addl. VLANS 2 and 20 with a default port VLAN ID of 1 and is</span></p><p class="c3"><span class="c5">IEEE compatible and resides in slot 90 the syntax would be:</span></p><p class="c3"><span class="c5">90/1/1/&quot;2,20&quot;/2/1.</span></p><p class="c3"><span class="c4">Create vSwitch from command line:</span></p><p class="c3"><span class="c5">chhwres -r virtualio --rsubtype vswitch -m Server-9117-MMD-SN21867F7</span></p><p class="c3"><span class="c5">-o a --vswitch VSWITCH_663_363</span></p><p class="c8"><span class="c4">To remove a vSwitch via CLI:(after removing all virtual networks using the vSwitch)</span><span class="c12">&nbsp;</span><span class="c4">(this is an issue at this time)dlp</span><span class="c12">&nbsp;</span><span class="c5">chhwres -r virtualio --rsubtype vswitch -m Server-9117-MMD-SN21867F7 -o r --vswitch VSWITCH_663_363 </span></p><p class="c3"><span class="c4">Syntax for Virtual scsi adapter:</span></p><p class="c3"><span class="c5">virtual-slot-number/client-or-server/supports-HMC/remote-lpar-</span></p><p class="c3"><span class="c5">ID/remote-lpar-name/remote-slot-number/is-required</span></p><p class="c3"><span class="c5">As in command above mentioned command</span></p><p class="c3"><span class="c5">mksyscfg&quot;virtual_scsi_adapters=301/client/4/vio01_server/301/0&quot;</span></p><p class="c3"><span class="c5">means</span></p><p class="c3"><span class="c5">301 - virtual-slot-number</span></p><p class="c3"><span class="c5">client-or-server - client (Aix_client)</span></p><p class="c3"><span class="c5">4 -- Partiotion Id ov VIO_01 server (remote-lpar-ID)</span></p><p class="c3"><span class="c5">vio01_server - remote-lpar-name</span></p><p class="c3"><span class="c5">301 -- remote-slot-number (VIO server_slot means virtual server scsi</span></p><p class="c3"><span class="c5">slot)</span></p><p class="c3"><span class="c5">1 -- Required slot in LPAR ( It cannot be removed from DLPAR</span></p><p class="c3"><span class="c5">operations )</span></p><p class="c3"><span class="c5">0 --means desired ( it can be removed by DLPAR operations)</span></p><p class="c8"><span class="c4">To add Virtual ethernet adapter &amp; slot mapping for above created profile:</span><span class="c12">&nbsp;</span><span class="c5">chsyscfg -m Server-9117-MMA-SNxxxxx -r prof -i &#39;name=profile_name,lpar_id=xx,&quot;virtual_eth_adapters=596/1/596//0/1,50 6/1/506//0/1,&quot;&#39; </span></p><p class="c3"><span class="c5">chsyscfg -m Server-8205-E6B-SN062BE42 -r prof -i</span></p><p class="c3"><span class="c5">&#39;name=default,lpar_id=4,&quot;virtual_eth_adapters+=10/0/307//0/0/ETHERNET</span></p><p class="c3"><span class="c5">0//all/none,11/0/702//0/0/ETHERNET0//all/none&quot;&#39;</span></p><p class="c3"><span class="c4">To change the maximum number of adapters:</span></p><p class="c3"><span class="c5">chsyscfg -m Server-8205-E6B-SN062BE42 -r prof -i</span></p><p class="c3"><span class="c5">&#39;name=default,lpar_id=4,&quot;max_virtual_slots=512&rdquo;</span></p><p class="c3"><span class="c5">Syntax for Virtual ethernet adapter</span></p><p class="c3"><span class="c5">slot_number/is_ieee/port_vlan_id/&quot;additional_vlan_id,additional_vlan_</span></p><p class="c3"><span class="c5">id&quot;/is_trunk(number=priority)/is_required</span></p><p class="c3"><span class="c5">means</span></p><p class="c3"><span class="c5">So the adapter with this setting 596/1/596//0/1 would say it is</span></p><p class="c3"><span class="c5">inslot_number 596, Its is ieee, the port_vlan_id is 1, it has no VLAN</span></p><p class="c3"><span class="c5">id assigned, It is not a trunk adapter and it is required.</span></p><p class="c3"><span class="c4">To open a console via the HMC command line:</span></p><p class="c3"><span class="c5">mkvterm -m Server-9119-FHA-SN0220B35 -p ch1p05a</span></p><p class="c3"><span class="c4">Create Virtual Switch on Frame:</span></p><p class="c3"><span class="c5">chhwres -r virtualio --rsubtype vswitch -m &lt;manage server name&gt; -o a</span></p><p class="c3"><span class="c5">--vswitch &lt;Vswitch_name&gt;</span></p><p class="c3"><span class="c5">Remember that vswitch is case sensitive when LPM&#39;ing(this is not true</span></p><p class="c3"><span class="c5">beginning 4Q 2015)</span></p><p class="c3"><span class="c4">To shutdown a LPAR via the HMC command line:</span></p><p class="c3"><span class="c5">chsysstate -m SAP-p570-2-SN102FB95 -r lpar -n pepxd200015 -o shutdown</span></p><p class="c3"><span class="c5">--immed --restart</span></p><p class="c8"><span class="c5">END OF CHANGING COMMANDS </span></p><p class="c8"><span class="c5">LISTING PROPERTIES </span></p><p class="c3"><span class="c4">To list the processor pools on a frame:</span></p><p class="c3"><span class="c5">lshwres -m &lt;managed_system&gt; -r procpool</span></p><p class="c3"><span class="c5">name=DefaultPool,shared_proc_pool_id=0,&quot;lpar_names=czapvs256,czapvs25</span></p><p class="c3"><span class="c5">7&quot;,&quot;lpar_ids=1,2&quot;</span></p><p class="c3"><span class="c4">To list which client a vio server slot is assigned to:</span></p><p class="c3"><span class="c5">lshwres -r virtualio --rsubtype scsi -m Server-9117-MMD-SN103E7F7</span></p><p class="c3"><span class="c5">--filter lpar_ids=9</span></p><p class="c3"><span class="c5">lpar_name=czapap437,lpar_id=9,slot_num=620,state=0,is_required=0,adap</span></p><p class="c3"><span class="c5">ter_type=client,remote_lpar_id=3,remote_lpar_name=czapvs102,remote_sl</span></p><p class="c3"><span class="c5">ot_num=620</span></p><p class="c3"><span class="c5">lpar_name=czapap437,lpar_id=9,slot_num=619,state=0,is_required=0,adap</span></p><p class="c3"><span class="c5">ter_type=client,remote_lpar_id=2,remote_lpar_name=czapvs101,remote_sl</span></p><p class="c3"><span class="c5">ot_num=619</span></p><p class="c3"><span class="c4">List current running config(great for verifying dlpar ops):</span></p><p class="c3"><span class="c5">lshwres -r virtualio -m Server-9117-MMD-SN21868A7 --rsubtype fc</span></p><p class="c3"><span class="c5">--filter lpar_ids=1 --level lpar</span></p><p class="c3"><span class="c4">What VLANs are active on a frame:</span></p><p class="c3"><span class="c5">From HMC: select Servers -&gt; Configuration -&gt; Virtual Resources -&gt;</span></p><p class="c3"><span class="c5">Virtual Network Management</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 909.47px; height: 386.67px;"><img alt="" src="images/image125.jpg" style="width: 909.47px; height: 386.67px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">LMB block of frame:</span></p><p class="c3"><span class="c5">lshwres -r mem -m Server-9117-MMD-SN103CB27 --level sys -F</span></p><p class="c3"><span class="c5">mem_region_size</span></p><p class="c3"><span class="c4">you can preface these commands to run from HMC:(generic)</span></p><p class="c3"><span class="c5">for i in `lssyscfg -r sys -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">for x in `lssyscfg -r lpar -m $i -F name|grep czapvs|grep -v vs237`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo &quot;frame &quot;$i &quot; vio server :&quot;$x</span></p><p class="c3"><span class="c5">echo vFIBER</span></p><p class="c3"><span class="c5">viosvrcmd -m $i -p $x -c &quot;lsmap -all -npiv -field name physloc clntid</span></p><p class="c3"><span class="c5">status &#39;fc name&#39; flags &#39;vfc client name&#39; -fmt :&quot;|grep -v :a:</span></p><p class="c3"><span class="c5">echo VSCSI</span></p><p class="c3"><span class="c5">viosvrcmd -m $i -p $x -c &quot;lsmap -all -field physloc svsa clientid</span></p><p class="c3"><span class="c5">status -fmt :&quot;|grep -v Avail</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">List the individual hard drives in a frame:</span></p><p class="c3"><span class="c5">lshwres -r io --rsubtype slotchildren -m Server-9117-MMD-SN2192907</span></p><p class="c3"><span class="c5">--filter lpar_names=czapvs256 -F lpar_name:phys_loc:description|grep</span></p><p class="c3"><span class="c5">-i disk</span></p><p class="c3"><span class="c4">...for ALL disks on a HMC:</span></p><p class="c3"><span class="c5">for i in `lssyscfg -r sys -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">lshwres -r io --rsubtype slotchildren -m $i -F</span></p><p class="c3"><span class="c5">lpar_name:phys_loc:description|grep -i disk|grep -v null</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">Listing current partition configuration:</span></p><p class="c3"><span class="c5">lshwres -m p740 --level lpar -r proc -F</span></p><p class="c3"><span class="c5">lpar_name,lpar_id,curr_proc_mode,curr_min_proc_units,curr_proc_units,</span></p><p class="c3"><span class="c5">curr_max_proc_units,curr_min_procs,curr_procs,curr_max_procs,curr_sha</span></p><p class="c3"><span class="c5">ring_mode,curr_uncap_weight --filter &quot;lpar_names=p740_lpar03&quot;</span></p><p class="c3"><span class="c5">p740_lpar03,5,shared,0.1,2.0,3.0,1,4,5,uncap,128</span></p><p class="c3"><span class="c4">List the frames capabilities:</span></p><p class="c8"><span class="c5">lssyscfg -m &lt;frame_name&gt; -r sys -F capabilities</span><span class="c11">&nbsp;</span><span class="c5">lssyscfg -m stfrspmmba -r sys -F capabilities &quot;active_lpar_share_idle_procs_capable,autorecovery_power_on_capable,b sr_capable,cod_mem_capable,cod_proc_capable,custom_mac_addr_capable,e lectronic_err_reporting_capable,firmware_power_saver_capable,hardware _power_saver_capable,hardware_discovery_capable,hca_capable,huge_page _mem_capable,lpar_affinity_group_capable,lpar_avail_priority_capable, lpar_proc_compat_mode_capable,lpar_suspend_capable,os400_lpar_suspend _capable,micro_lpar_capable,os400_capable,os400_net_install_capable,o s400_restricted_io_mode_capable,redundant_err_path_reporting_capable, shared_eth_failover_capable,sp_failover_capable,vet_activation_capabl e,</span><span class="c4">virtual_eth_dlpar_capable</span><span class="c5">,virtual_eth_qos_capable,virtual_fc_capabl e,virtual_io_server_capable,virtual_switch_capable,vlan_stat_capable&quot; </span></p><p class="c3"><span class="c4">Listing partition profile configuration:</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m p740 --filter &quot;lpar_names=p740_lpar03&quot; -F</span></p><p class="c3"><span class="c5">name,lpar_name,lpar_id,proc_mode,min_proc_units,desired_proc_units,max_proc_units,min_procs,desired_procs,max_procs,sharing_mode,uncap_weight</span></p><p class="c3"><span class="c5">default,p740_lpar03,5,shared,0.1,1.5,3.0,1,2,5,uncap,128</span></p><p class="c3"><span class="c4">What does the frame contain?:</span></p><p class="c3"><span class="c5">lshwres -r io --rsubtype slot -m Server-9117-MMA-SN104D532 -F</span></p><p class="c3"><span class="c5">unit_phys_loc,description,drc_name,lpar_name</span></p><p class="c3"><span class="c4">with drc_index(needed to assign to LPAR):</span></p><p class="c3"><span class="c5">&nbsp;lshwres -r io --rsubtype slot -m Server-9117-MMD-SN21928C7 -F</span></p><p class="c3"><span class="c5">drc_index,unit_phys_loc,description,drc_name|grep -v &quot;Empty slot&quot;</span></p><p class="c3"><span class="c5">lshwres -r virtualio --rsubtype slot -m Server-9117-MMA-SN104D532 -F</span></p><p class="c3"><span class="c5">unit_phys_loc,description,drc_name,lpar_name</span></p><p class="c8"><span class="c4">Look at the children devices. You can even see MAC addresses of NIC&#39;s:</span><span class="c12">&nbsp;</span><span class="c5">lshwres -r io --rsubtype slotchildren -m Server-9117-MMB-SN102A0BE </span></p><p class="c3"><span class="c5">hscroot@HMC-2A:~&gt; lshwres -r io --rsubtype slotchildren -m Server-</span></p><p class="c3"><span class="c5">9117-MMB-SN102A0BE|grep -i U78C0.001.DBJ5791-P2-C6</span></p><p class="c3"><span class="c5">phys_loc=U78C0.001.DBJ5791-P2-</span></p><p class="c3"><span class="c5">C6,lpar_id=none,lpar_name=null,description=pci,pci_vendor_id=111D,pci</span></p><p class="c3"><span class="c5">_device_id=8018,pci_subs_device_id=0000,pci_subs_vendor_id=0000,pci_c</span></p><p class="c3"><span class="c5">lass=0604,pci_revision_id=000E,parent_drc_index=2101024D,parent=U78C0</span></p><p class="c3"><span class="c5">.001.DBJ5791-P2-C6</span></p><p class="c3"><span class="c5">phys_loc=U78C0.001.DBJ5791-P2-</span></p><p class="c3"><span class="c5">C6,lpar_id=none,lpar_name=null,description=pci,pci_vendor_id=111D,pci</span></p><p class="c3"><span class="c5">_device_id=8018,pci_subs_device_id=0000,pci_subs_vendor_id=0000,pci_c</span></p><p class="c3"><span class="c5">lass=0604,pci_revision_id=000E,parent_drc_index=none,parent=U78C0.001</span></p><p class="c3"><span class="c5">.DBJ5791-P2-C6</span></p><p class="c8"><span class="c5">phys_loc=U78C0.001.</span><span class="c4">DBJ5791-P2-C6- T1</span><span class="c5">,lpar_id=none,lpar_name=null,description=ethernet,pci_vendor_id=808 6,pci_device_id=10BC,pci_subs_device_id=0368,pci_subs_vendor_id=1014, pci_class=0200,pci_revision_id=0006,</span><span class="c4">mac_address=00145eea0780</span><span class="c5">,parent_d rc_index=none,parent=U78C0.001.DBJ5791-P2-C6</span><span class="c11">&nbsp;</span><span class="c4 c15">Look at disks! </span></p><p class="c8"><span class="c4">List the default profile then change it to something else then delete old profile:</span><span class="c12">&nbsp;</span><span class="c5">lssyscfg -r lpar -m Server-9117-MMD-SN217D117 --filter lsof lpar_names=czapvs225 -F default_profile </span></p><p class="c8"><span class="c4">then </span></p><p class="c8"><span class="c5">chsyscfg -r lpar -m Server-9117-MMD-SN217D117 -i &#39;name=czapvs225,default_profile=czapvs225&#39;</span><span class="c11">&nbsp;</span><span class="c4">then</span><span class="c12">&nbsp;</span><span class="c5">rmsyscfg -r prof -m Server-9117-MMD-SN217D117 -p czapvs225 -n czapvs225-default </span><span class="c4">(but you must make the new default profile the active running profile before deleting the old profile) </span></p><p class="c3"><span class="c4">List profiles associated to lpar:</span></p><p class="c3"><span class="c5">chsyscfg -r prof -m &lt;managed_server_name&gt; --filter</span></p><p class="c3"><span class="c5">lpar_names=&lt;lpar_name&gt; (-F name)</span></p><p class="c3"><span class="c4">To list current vscsi assignment:</span></p><p class="c3"><span class="c5">hscroot@hmc61a:~&gt; lssyscfg -m Server-9119-FHA-SN0220B35 -r prof</span></p><p class="c3"><span class="c5">--filter lpar_names=ch1p26a -F virtual_scsi_adapters</span></p><p class="c3"><span class="c5">&quot;102/client/31/chvio01b/102/1,103/client/30/chvio01a/103/1&quot;</span></p><p class="c8"><span class="c4">List all virtual ethernet adapters on the managed system:(Shows VLANs)</span><span class="c12">&nbsp;</span><span class="c5">lshwres -r virtualio --rsubtype eth --level lpar -m &lt;managed server&gt; -F --header lpar_name,lpar_id,slot_num,state,is_required,is_trunk,trunk_priority, ieee_virtual_eth,port_vlan_id,vswitch,addl_vlan_ids,mac_addr,allowed_ os_mac_addrs,qos_priority,connect_status,drc_name,shared_adapter,back ing_device,device_name </span></p><p class="c3"><span class="c5">appvh553-dr-</span></p><p class="c3"><span class="c5">VIOS1,1,1001,1,0,0,unavailable,0,1001,ETHERNET0,,561AACE497E9,all,non</span></p><p class="c3"><span class="c5">e,active,U9117.MMB.102A0BE-V1-C1001-T1,,,ent8</span></p><p class="c3"><span class="c5">appvh553-dr-</span></p><p class="c3"><span class="c5">VIOS1,1,1002,1,0,1,2,0,303,ETHERNET0,,561AACE497EA,all,none,active,U9</span></p><p class="c3"><span class="c5">117.MMB.102A0BE-V1-C1002-T1,ent14,ent12,ent9</span></p><p class="c3"><span class="c4">List ALL profiles:</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m &quot;ch1 - Server-9119-FHA-SN0220B35&quot;</span></p><p class="c3"><span class="c4">How an LPAR is &quot;made up&quot;:</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m system1 --filter &quot;&quot;lpar_names=lpar1,lpar2,lpar3&quot;&quot;</span></p><p class="c3"><span class="c4">What is the default profile and what is current running profile:</span></p><p class="c3"><span class="c5">lssyscfg -r lpar -m Server-9117-MMB-SN102A0BE -F</span></p><p class="c3"><span class="c5">name,default_profile,curr_profile --header</span></p><p class="c3"><span class="c4">Create an LPAR:(for aix LPAR, lpar_env=aixlinux):</span></p><p class="c3"><span class="c5">mksyscfg -m SAP-p570-5-SN103CD75 -r lpar -i &#39;name=TBD-</span></p><p class="c3"><span class="c5">PVIO1,lpar_env=vioserver,all_resources=0,profile_name=default,min_mem</span></p><p class="c3"><span class="c5">=7168,desired_mem=8192,max_mem=10240,min_proc_units=0.5,desired_proc_</span></p><p class="c3"><span class="c5">units=1.0,max_proc_units=2.0,min_procs=1,desired_procs=1,max_procs=2,</span></p><p class="c3"><span class="c5">proc_mode=shared,shared_proc_pool_id=0,sharing_mode=uncap,uncap_weigh</span></p><p class="c3"><span class="c5">t=250,io_slots=none,max_virtual_slots=950,lpar_io_pool_ids=none,auto_</span></p><p class="c3"><span class="c5">start=0,boot_mode=norm,power_ctrl_lpar_ids=none,work_group_id=none,bs</span></p><p class="c3"><span class="c5">r_arrays=0,lhea_logical_ports=none,lhea_capabilities=none,lpar_proc_c</span></p><p class="c3"><span class="c5">ompat_mode=default,conn_monitoring=1,redundant_err_path_reporting=1&#39;</span></p><p class="c3"><span class="c4">Current cpu usage by all LPARs:</span></p><p class="c3"><span class="c5">lshwres -r proc -m Server-9117-MMB-SN102A0BE --level lpar -F</span></p><p class="c3"><span class="c5">lpar_name,curr_proc_units --header</span></p><p class="c3"><span class="c4">Current memory usage by all LPARs:</span></p><p class="c3"><span class="c5">lshwres -r mem -m Server-9117-MMB-SN102A0BE --level lpar -F</span></p><p class="c3"><span class="c5">lpar_name,curr_mem --header</span></p><p class="c3"><span class="c4">Show Frame&#39;s Memory from NIM server:</span></p><p class="c3"><span class="c5">ssh hscroot@5.16.196.23 lshwres -r mem -m SAP-p570-2-SN102FB95</span></p><p class="c3"><span class="c5">--level sys | tr -s , &#39;\n&#39; (-r proc shows processing units)</span></p><p class="c8"><span class="c4">List hardware resources:(this shows NPIV stuff, change --rsubtype scsi to show virtual adapters)</span><span class="c12">&nbsp;</span><span class="c5">lshwres -r virtualio --rsubtype fc --level lpar -m SAP-p570-202- SN103E915 </span></p><p class="c3"><span class="c4">Getting WWPNs from all client LPARs on frame:</span></p><p class="c3"><span class="c5">lshwres -r virtualio -m Server-8205-E6B-SN061380R &nbsp;--rsubtype fc --level lpar</span></p><p class="c3"><span class="c4">Which VLANs does my frame&#39;s VIO servers support:</span></p><p class="c3"><span class="c5">m556069@czlchm38:~&gt;lshwres -r virtualio --rsubtype chhw -m Server-</span></p><p class="c3"><span class="c5">9117-MMD-SN21867D7</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_606_306,&quot;vlan_ids=306,606,415&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_607_307,&quot;vlan_ids=307,3337,1337,607&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_601_301,&quot;vlan_ids=301,82,601&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=ETHERNET0(Default),vlan_ids=none,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_602_302,&quot;vlan_ids=302,82,602&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_661_361,&quot;vlan_ids=361,661,555,556&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_603_303,&quot;vlan_ids=303,603,488&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_662_362,&quot;vlan_ids=362,662,555,556&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_604_304,&quot;vlan_ids=304,604,488&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_663_363,&quot;vlan_ids=363,663,559&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c5">vswitch=VSWITCH_605_305,&quot;vlan_ids=305,88,605&quot;,switch_mode=VEB</span></p><p class="c3"><span class="c4">Which LPARs belong to which proc pools:</span></p><p class="c3"><span class="c5">m556069@czlchm38:~&gt;lshwres -r procpool -m Server-9117-MMD-SN21867D7</span></p><p class="c3"><span class="c5">-F name lpar_names</span></p><p class="c3"><span class="c5">DefaultPool czapvs232,czapvs233,czapap174,czapap175,czapap176</span></p><p class="c3"><span class="c5">SharedPool01 czapdb211,czapdb212,czapdb227,czapdb180</span></p><p class="c3"><span class="c4">proc pool details:</span></p><p class="c3"><span class="c5">lshwres -r procpool -m Server-9117-MMD-SN21867D7</span></p><p class="c3"><span class="c5">name=DefaultPool,shared_proc_pool_id=0,&quot;lpar_names=czapvs232,czapvs23</span></p><p class="c3"><span class="c5">3,czapap174,czapap175,czapap176,czapap210,czapap211,czapap212,czapap1</span></p><p class="c3"><span class="c5">33,czapap132,czapap93&quot;,&quot;lpar_ids=1,2,6,7,8,9,10,11,14,15,16&quot;</span></p><p class="c3"><span class="c5">name=SharedPool01,shared_proc_pool_id=1,max_pool_proc_units=28.0,curr</span></p><p class="c3"><span class="c5">_reserved_pool_proc_units=0.0,pend_reserved_pool_proc_units=0.0,&quot;lpar</span></p><p class="c3"><span class="c5">_names=czapdb211,czapdb212,czapdb227,czapdb180&quot;,&quot;lpar_ids=3,4,5,13&quot;</span></p><p class="c8"><span class="c4">List the virtual switches on a managed frame:</span><span class="c12">&nbsp;</span><span class="c5">hscroot@czlchm33:~&gt; </span><span class="c4">lshwres -r virtualio -m Server-9117-MMC-SN217D807 --rsubtype vswitch </span><span class="c5">vswitch=vSwitch_660_304,&quot;vlan_ids=660,556,304&quot;,switch_mode=VEB vswitch=vSwitch_661_305,&quot;vlan_ids=305,661,556&quot;,switch_mode=VEB vswitch=vSwitch_662_306,&quot;vlan_ids=306,662,556&quot;,switch_mode=VEB vswitch=vSwitch_602_302,&quot;vlan_ids=302,220,602&quot;,switch_mode=VEB vswitch=vSwitch_601_301(Default),&quot;vlan_ids=220,301,601&quot; ,switch_mode=VEB vswitch=vSwitch_603_303,&quot;vlan_ids=303,220,603&quot;,switch_mode=VEB </span></p><p class="c3"><span class="c4">To see everything configured for an LPAR:</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m &quot;cg1 - Server-9119-FHA-SN0220B45&quot; --filter</span></p><p class="c3"><span class="c5">lpar_names=cg1p47a</span></p><p class="c3"><span class="c5">name=Normal,lpar_name=cg1p47a,lpar_id=49,lpar_env=aixlinux,all_resour</span></p><p class="c3"><span class="c5">ces=0,min_mem=40960,desired_mem=40960,max_mem=40960,min_num_huge_page</span></p><p class="c3"><span class="c5">s=0,desired_num_huge_pages=0,max_num_huge_pages=0,proc_mode=shared,mi</span></p><p class="c3"><span class="c5">n_proc_units=4.09,desired_proc_units=9.69,max_proc_units=10.3,min_pro</span></p><p class="c3"><span class="c5">cs=5,desired_procs=10,max_procs=15,sharing_mode=uncap,uncap_weight=12</span></p><p class="c3"><span class="c5">8,shared_proc_pool_id=0,shared_proc_pool_name=DefaultPool,&quot;io_slots=2</span></p><p class="c3"><span class="c5">1010400/none/1,21010250/none/1,21010238/none/1,210103B8/none/1,210104</span></p><p class="c3"><span class="c5">B8/none/1,21010239/none/1,21010249/none/1,2101032A/none/1&quot;,lpar_io_po</span></p><p class="c3"><span class="c5">ol_ids=none,max_virtual_slots=999,&quot;virtual_serial_adapters=0/server/1</span></p><p class="c3"><span class="c5">/any//any/1,1/server/1/any//any/1&quot;,virtual_scsi_adapters=none,virtual</span></p><p class="c3"><span class="c5">_eth_adapters=none,hca_adapters=none,boot_mode=norm,conn_monitoring=1</span></p><p class="c3"><span class="c5">,auto_start=0,power_ctrl_lpar_ids=none,work_group_id=none,redundant_e</span></p><p class="c3"><span class="c5">rr_path_reporting=1,bsr_arrays=0,lpar_proc_compat_mode=default,electr</span></p><p class="c3"><span class="c5">onic_err_reporting=null,virtual_fc_adapters=none</span></p><p class="c3"><span class="c4">List available resources on a frame:</span></p><p class="c8"><span class="c5">lsavailres </span></p><p class="c3"><span class="c4">and to pull the numeric values:</span></p><p class="c3"><span class="c5">echo lsavailres -m Server-9117-MMD-SN103CB37|ssh czlchm27|awk</span></p><p class="c3"><span class="c5">-F&quot;[=,]&quot; &#39;{print $2&quot; &quot;$NF}&#39;</span></p><p class="c3"><span class="c4">Available processors on all frames on HMC:</span></p><p class="c3"><span class="c5">for i in $(lssyscfg -r sys -F name)</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo &quot;frame: &quot;$i &quot;avail: &quot;`lshwres -m $i -r proc --level sys -F</span></p><p class="c3"><span class="c5">curr_avail_sys_proc_units`</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">How much CPU amd memory is installed and used:</span></p><p class="c3"><span class="c5">lshwres -m EOSL-9117-MMC-SN101C337 -r proc --level sys -F</span></p><p class="c3"><span class="c5">configurable_sys_proc_units curr_avail_sys_proc_units</span></p><p class="c3"><span class="c5">installed_sys_proc_units &ndash;header</span></p><p class="c3"><span class="c5">lshwres -m EOSL-9117-MMC-SN101C337 -r mem --level sys -F</span></p><p class="c3"><span class="c5">configurable_sys_mem curr_avail_sys_mem installed_sys_mem --header</span></p><p class="c3"><span class="c5">configurable_sys_mem curr_avail_sys_mem installed_sys_mem</span></p><p class="c3"><span class="c4">Installed COD(formerly CuoD):</span></p><p class="c3"><span class="c5">lscod -t cap -m EOSL-9117-MMC-SN101AEB7 -c onoff -r proc -F</span></p><p class="c3"><span class="c5">avail_procs_for_onoff</span></p><p class="c3"><span class="c5">8</span></p><p class="c3"><span class="c5">lscod -t cap -m EOSL-9117-MMC-SN101AEB7 -c onoff -r mem -F</span></p><p class="c3"><span class="c5">avail_mem_for_onoff</span></p><p class="c3"><span class="c5">90112 &lt;---- divide by 1024 to get GB</span></p><p class="c3"><span class="c4">List only the min,desired and max shared proc&#39;s:</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m &quot;cg1 - Server-9119-FHA-SN0220B45&quot; -F</span></p><p class="c3"><span class="c5">min_proc_units,desired_proc_units,max_proc_units --filter</span></p><p class="c3"><span class="c5">lpar_names=tucker</span></p><p class="c3"><span class="c5">0.2,0.2,0.4</span></p><p class="c3"><span class="c4">To see the memory fields on a frame(nice format):</span></p><p class="c3"><span class="c5">ssh hscroot@5.16.196.23 lshwres -r mem -m SAP-p570-2-SN102FB95</span></p><p class="c3"><span class="c5">--level sys | tr -s , &#39;\n&#39;</span></p><p class="c3"><span class="c4">To List attributes of LPARs on a managed frame:</span></p><p class="c3"><span class="c5">lssyscfg -r lpar -m SAP-p570-5-SN103CD75</span></p><p class="c3"><span class="c5">name:lpar_id:allow_perf_collection</span></p><p class="c3"><span class="c5">pepxgp00123:27:0</span></p><p class="c3"><span class="c5">pepxgp00069:26:0</span></p><p class="c3"><span class="c5">pepxgp00150:25:0</span></p><p class="c3"><span class="c5">pepxd200077:24:0</span></p><p class="c3"><span class="c4">Show vSwitches associated with frame:</span></p><p class="c3"><span class="c5">lshwres -r virtualio --rsubtype vswitch -m Server-9117-MMD-SN21867E7</span></p><p class="c3"><span class="c4">To list the firmware level of a frame:</span></p><p class="c3"><span class="c5">lslic -m AGPSF544-8205-E6B-SN10B4B72 -F</span></p><p class="c3"><span class="c5">ecnumber,platform_ipl_level,activated_level,deferred_level,mtms</span></p><p class="c3"><span class="c4">View which vlans are served by your Vswitches:</span></p><p class="c3"><span class="c5">lshwres -r virtualio --rsubtype vswitch -m &lt;managed_system&gt; -F</span></p><p class="c3"><span class="c4">Collecting WWPNs for Virtual Fibre Channel Adapters:</span></p><p class="c3"><span class="c5 c16">lssyscfg -r prof -m &lt;managed_system&gt; -F virtual_fc_adapters --filter</span></p><p class="c3"><span class="c5 c16">lpar_names=&lt;lpar&gt;[,&lt;lpar&gt;]</span></p><p class="c8"><span class="c5">END OF LISTING PROPERTIES </span></p><p class="c8"><span class="c5">LPM </span></p><p class="c3"><span class="c4">hscroot@pbsghmc11:~&gt; lslparmigr -r sys -m SAP-p570-202-SN103E915</span></p><p class="c3"><span class="c5">inactive_lpar_mobility_capable=1,num_inactive_migrations_supported=4,</span></p><p class="c3"><span class="c5">num_inactive_migrations_in_progress=0,active_lpar_mobility_capable=1,</span></p><p class="c3"><span class="c5">num_active_migrations_supported=160,num_active_migrations_in_progress</span></p><p class="c3"><span class="c5">=0</span></p><p class="c3"><span class="c4">What does the output of lspartition -dlpar mean?</span></p><p class="c3"><span class="c5">Intended as a development tool, the output of lspartition -dlpar has</span></p><p class="c3"><span class="c5">following meaning:</span></p><p class="c8"><span class="c4">Partition</span><span class="c5">&lt;LParID, lpar_hostname, lpar IPaddress&gt;</span><span class="c11">&nbsp;</span><span class="c4">Active</span><span class="c5">&lt;#&gt;: - 0 means no session to lpar; 1 means otherwise </span><span class="c4">OS</span><span class="c5">&lt;OSType, OSLevel&gt;: Should be &lt;AIX, 5.2&gt; if it&#39;s Active&lt;1&gt;. If Active&lt;1&gt; and OS information is empty, this means the IBM.HostRM could have a problem on AIX. (I have not seen this happens yet!) </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 591.33px; height: 36.47px;"><img alt="" src="images/image121.png" style="width: 591.33px; height: 36.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c5">&lt;#0&gt; Partition:&lt;002, lpar.company.com, 9.8.206.215&gt;</span></p><p class="c3"><span class="c5">Active:&lt;1&gt;, OS:&lt;AIX, 5.2&gt;, DCaps:&lt;0xf&gt;, CmdCaps:&lt;0x1, 0x0&gt;</span></p><p class="c8"><span class="c4">DCaps</span><span class="c5">&lt;#&gt;: - Value 0x0 means the LPAR does not support DLPAR operation. Value 0xf means all DLPAR operations are supported. Usually, this value goes together with the Active&lt;1&gt; above. The session must be established first before the information can be queried from the LPAR. </span></p><p class="c8"><span class="c4">CmdCaps</span><span class="c5">&lt;0x1, 0x0&gt;: - No significant meaning for Release 3, version 1.x.x. In Release 3, version 2.2.x or above, the 0x1 means remote shutdown of the AIX LPAR can be done from the HMC.</span></p><p class="c8"><span class="c4">LPM: </span></p><p class="c3"><span class="c4">You CAN NOT LPM to and from a set of vio servers at the same time</span></p><p class="c3"><span class="c4">List the partition mobility capabilities for a frame:</span></p><p class="c8"><span class="c5">lslparmigr -r sys -m Server-9117-MMD-SN103CB27 inactive_lpar_mobility_capable=1,num_inactive_migrations_supported=16 ,num_inactive_migrations_in_progress=0,active_lpar_mobility_capable=1 ,</span><span class="c4">num_active_migrations_supported=16</span><span class="c5">,num_active_migrations_in_progress =0,inactive_prof_policy=config,sys_firmware_num_inactive_migrations_s upported=16,sys_firmware_num_active_migrations_supported=16,os400_lpa r_mobility_capable=1 </span></p><p class="c3"><span class="c4">Which LPARs are currently migrating:</span></p><p class="c3"><span class="c5">lslparmigr -r lpar -m Server-9117-MMD-SN103CB27</span></p><p class="c3"><span class="c5">name=czapwa193,lpar_id=35,migration_state=Not Migrating</span></p><p class="c3"><span class="c5">name=czapwa191,lpar_id=34,migration_state=Not Migrating</span></p><p class="c3"><span class="c4">To watch a particular lpar&#39;s migration:</span></p><p class="c8"><span class="c5">while true</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">lslparmigr -r lpar -m Server-9117-MMD-SN103E807 --filter &quot;dest_sys_names=Server-9117-MMD-SN21928C7&quot; -F name,migration_state ,bytes_remaining</span><span class="c11">&nbsp;</span><span class="c5">sleep 5</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c4">HSCLA318 The migration command issued to the destination management console failed with the following error: HSCLA391 The failed partition operation cannot be cleaned up. Try the recovery operation later.</span><span class="c12">&nbsp;</span><span class="c5">On the client run: /usr/sbin/rsct/install/bin/recfgct</span><span class="c11">&nbsp;</span><span class="c5">wait 5 mins and try the LPM again(sometimes you have to run recfgct a few times if it continues to fail LPM) </span></p><p class="c8"><span class="c4">HSCLA299 The OS level on the migrating partition 29*9117-MMD*21928C7( czapwa138 ) does not support partition mobility.</span><span class="c12">&nbsp;</span><span class="c5">On the client run: /usr/sbin/rsct/install/bin/recfgct</span><span class="c11">&nbsp;</span><span class="c5">wait 5 mins and try the LPM again(sometimes you have to run recfgct a few times if it continues to fail LPM) </span></p><p class="c3"><span class="c4">HSCLA31B</span></p><p class="c3"><span class="c4">The mapping of the migrating partition&#39;s virtual fibre channel</span></p><p class="c8"><span class="c4">adapter 1184 to the Virtual I/O Server (VIOS) partition 1*9117- MMD*2192887 on the destination managed system is not currently valid. Please issue the command to list the possible and suggested client adapter to destination VIOS partition mappings, and try the operation again using a new mapping from this list. Alternatively, allow the management console to make the selection automatically by not specifying a mapping when starting the migration. </span><span class="c5">What happened at kaiser was that they zone to specific physical fibers on the vio servers...so when you LPM via the CLI you need to ensure that the slot numbers are correct. In this case I messed up 2 fibers...kaiser alternated between 2 vio servers, 1 taking odd slots the other even and so on the client you have to make sure that they line up. </span></p><p class="c3"><span class="c5">At kaiser we had some zoning(FAs) that the client was not supposed to</span></p><p class="c3"><span class="c5">see and since it did see it and there wasnt any LUNs configured</span></p><p class="c3"><span class="c5">behind the FA, LPM failed cuz of it</span></p><p class="c8"><span class="c4">HSCLA29A</span><span class="c12">&nbsp;</span><span class="c4">there is an issue in the SAN so that the name server can not reach anytarget ports.</span><span class="c12">&nbsp;</span><span class="c5">We were moving a db server that had 4 virtual fibers that were attached to the TAN environment but no tapes were allocated to it. This qualifies as &#39;no storage&#39; attached therefor LPM will fail noting that. So unmap any virtual fibers then LPM.pare </span></p><p class="c3"><span class="c5">HSCLA251:</span></p><p class="c3"><span class="c5">LPM using vSwitch...ENSURE that the NAMES of the vio vSwitchs are</span></p><p class="c3"><span class="c5">EXACTELY the same...case sensitive</span></p><p class="c3"><span class="c5">HSCLA296 The DLPAR Resource Manager (DRM) capability bits for</span></p><p class="c3"><span class="c5">partition</span></p><p class="c8"><span class="c4">HSCLA246 The HMC cannot communicate migration commands to the partition pepxd200069. Either the network connection is not available or the partition does not have a level of software that is capable of supporting partition migration. Verify the correct network and migration setup of the partition, and try the operation again.</span><span class="c12">&nbsp;</span><span class="c5">I tried rebooting the LPAR with ZERO luck, same error</span><span class="c11">&nbsp;</span><span class="c5">I did do some hostname changes on the Client LPAR and when we run: host &lt;client_Name&gt; it is returning the FQDN name but I changed it to just the shortened hostname</span><span class="c11">&nbsp;</span><span class="c5">So to fix this issue run:</span><span class="c11">&nbsp;</span><span class="c5">I also recommend to run directly recfgct on HMC. /usr/rsct/install/bin/recfgct</span><span class="c11">&nbsp;</span><span class="c5">/usr/rsct/bin/rmcctrl -p</span><span class="c11">&nbsp;</span><span class="c5">=&gt; therefor you need a pesh passwort to become root.</span><span class="c11">&nbsp;</span><span class="c5">But since I did not have pesh password I renamed the hostname on the client to what the HMC &#39;knew&#39; it as and I was able to LPM it back successfully. So the whole story is that I was LPM&#39;ing the boxes </span></p><p class="c3"><span class="c5">WHILE checking them...The hostname was incorrect, so I changed</span></p><p class="c3"><span class="c5">it...and this caused the communication error with the HMC...I do not</span></p><p class="c3"><span class="c5">see this as an issue in the future since hostname changes WHILE</span></p><p class="c3"><span class="c5">LPM&#39;ing most likely wont happen in the future.</span></p><p class="c8"><span class="c4">HSCLA4C3 </span><span class="c5">The remote virtual fibre channel adapter 306 is being used by another virtual fibre channel adapter. Choose a different remote virtual fibre channel adapter, and try again.</span><span class="c11">&nbsp;</span><span class="c5">I was trying to boot up pepxgp00084 and received the error above. I looked up the error in PSDB. </span></p><p class="c3"><span class="c5">lshwres -r virtualio --rsubtype fc --level lpar -m SAP-p570-201-</span></p><p class="c3"><span class="c5">SN103E925</span></p><p class="c3"><span class="c5">hscroot@pbsghmc11:~&gt; lshwres -r virtualio --rsubtype fc --level lpar</span></p><p class="c3"><span class="c5">-m SAP-p570-201-SN103E925|grep 306 &lt;--- wanted to see what LPAR slot</span></p><p class="c3"><span class="c5">306 was allocated to.</span></p><p class="c8"><span class="c5">Also we know that pepxgp00084 is lpar_id(Client ID) 18 lpar_name=pepxvp00021,lpar_id=3,slot_num=306,adapter_type=server,stat e=1,is_required=0,remote_lpar_id=45,remote_lpar_name=</span><span class="c4 c14">pepxgp00091</span><span class="c5">,remo te_slot_num=306 lpar_name=</span><span class="c4 c14">pepxgp00091</span><span class="c5">,lpar_id=45,slot_num=306,adapter_type=client,sta te=0,is_required=1,remote_lpar_id=3,remote_lpar_name=pepxvp00021,remo te_slot_num=306,&quot;wwpns=c05076020d6500de,c05076020d6500df&quot; </span></p><p class="c8"><span class="c5">Then I ran the same command looking for what my LPAR was &#39;allocated&#39; to: (THIS LOOKS CORRECT! So lets look at what the PROFILE says): hscroot@pbsghmc11:~&gt; lshwres -r virtualio --rsubtype fc --level lpar -m SAP-p570-201-SN103E925|grep pepxgp00084 lpar_name=pepxvp00021,lpar_id=3,slot_num=</span><span class="c4 c14">300</span><span class="c5">,adapter_type=server,stat e=1,is_required=0,remote_lpar_id=18,remote_lpar_name=pepxgp00084,remo te_slot_num=</span><span class="c4 c14">300 </span><span class="c5">lpar_name=pepxvp00022,lpar_id=4,slot_num=</span><span class="c4 c14">301</span><span class="c5">,adapter_type=server,stat e=1,is_required=0,remote_lpar_id=18,remote_lpar_name=pepxgp00084,remo te_slot_num=</span><span class="c4 c14">301 </span></p><p class="c3"><span class="c4">The PROFILE said that the two FC slot numbers should be 306 and 307</span></p><p class="c3"><span class="c4">(WRONG!)</span></p><p class="c3"><span class="c4">[pepxvp00022][/home/padmin]&gt;lsmap -npiv -all|more</span></p><p class="c3"><span class="c4">Name Physloc ClntID ClntName ClntOS</span></p><p class="c3"><span class="c4">------------- ----------------------------------</span></p><p class="c3"><span class="c4">vfchost0 U9117.MMA.103E925-V4-</span><span class="c4 c14">C301 </span><span class="c4">18</span></p><p class="c3"><span class="c4">Status:NOT_LOGGED_IN</span></p><p class="c3"><span class="c4">FC name:fcs0 FC loc code:U789D.001.DQD99NY-P1-C6-T1</span></p><p class="c3"><span class="c4">Ports logged in:0</span></p><p class="c3"><span class="c4">Flags:4&lt;NOT_LOGGED&gt;</span></p><p class="c3"><span class="c4">VFC client name: VFC client DRC:</span></p><p class="c3"><span class="c5">[pepxvp00021][/home/padmin]&gt;lsmap -npiv -all</span></p><p class="c8"><span class="c5">Name Physloc ClntID ClntName ClntOS ------------- ---------------------------------- vfchost0 U9117.MMA.103E925-V3-</span><span class="c4 c14">C300 </span><span class="c5">18 </span></p><p class="c3"><span class="c5">Status:NOT_LOGGED_IN</span></p><p class="c3"><span class="c5">FC name:fcs0 FC loc code:U789D.001.DQD99NY-P1-C1-T1</span></p><p class="c3"><span class="c5">Ports logged in:0</span></p><p class="c3"><span class="c5">Flags:4&lt;NOT_LOGGED&gt;</span></p><p class="c3"><span class="c5">VFC client name: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;VFC client DRC:</span></p><p class="c8"><span class="c5">I confirmed that no other LPAR was using slot 300 from pepxvp00021 or slot 301 from pepxvp00022 and then changed the profile to pepxgp00084 and booted it successfully. </span><span class="c4">REMEMBER THAT WITH A SLOT CHANGE THE WWN&#39;S WILL CHANGE ALSO </span></p><p class="c3"><span class="c4">LPM via command line:</span></p><p class="c3"><span class="c5">migrlpar -o m -m Server-9117-MMD-SN103E7F7 -t Server-9117-MMD-SN21868A7 -p czapap438 --ip 172.21.55.147 -u l482339</span></p><p class="c3"><span class="c5">$ lspartition -dlpar</span></p><p class="c3"><span class="c5">Seeing only vios1 with DCaps:&lt;0x0&gt; one client lpar is showing up with</span></p><p class="c3"><span class="c5">DCaps:&lt;0x0&gt;</span></p><p class="c3"><span class="c5">login to vios1 and vios3 run these command:</span></p><p class="c3"><span class="c5"># lslpp -l csm.client ... installed</span></p><p class="c3"><span class="c5"># lssrc -a | grep rsct IBM.eprm , IBM.hostrm, IBM.DRM, IBM.AuditRM</span></p><p class="c3"><span class="c5"># /usr/sbin/rsct/install/bin/recfgct</span></p><p class="c3"><span class="c5"># /usr/sbin/rsct/bin/rmcctrl -p</span></p><p class="c3"><span class="c5">on lpar client:</span></p><p class="c3"><span class="c5"># lssrc -a | grep rsct .....only four daemons are showing up</span></p><p class="c3"><span class="c5"># lslpp -l csm.client ... installed</span></p><p class="c3"><span class="c5"># df -k looks ok</span></p><p class="c3"><span class="c5"># /usr/sbin/rsct/install/bin/recfgct</span></p><p class="c3"><span class="c5"># /usr/sbin/rsct/bin/rmcctrl -p</span></p><p class="c3"><span class="c5"># lssrc -a | grep rsct ..... now seven daemons are showing up</span></p><p class="c8"><span class="c4">HSCLA340 The HMC may not be able to replicate the source multipath I/O configuration for the migrating partition&#39;s virtual I/O adapters on the destination.</span><span class="c12">&nbsp;</span><span class="c5">/usr/sbin/rsct/bin/rmcctrl -z</span><span class="c11">&nbsp;</span><span class="c5">/usr/sbin/rsct/install/bin/recfgct</span><span class="c11">&nbsp;</span><span class="c5">/usr/sbin/rsct/bin/rmcctrl -p</span><span class="c11">&nbsp;</span><span class="c4">for error hscla282 and hscla284 I ended up increasing the memory on the vioc. shutting it down/reactivating it then tried LPM again </span></p><p class="c3"><span class="c4">HSCLA282 The operation to check partition apqwd617 for migration</span></p><p class="c3"><span class="c4">readiness has failed. The partition command is: drmgr -m -c pmig -p</span></p><p class="c3"><span class="c4">check -d 1 The partition standard error is:</span></p><p class="c8"><span class="c4">HSCLA257 The migrating partition has returned a failure response to the HMC&#39;s request to perform a check for migration readiness. The migrating partition is not ready for migration at this time. Try the operation again later. </span><span class="c5">I had just restarted the rsct services on the vioc, the -A, -p blah blah and got this error. </span></p><p class="c3"><span class="c4">HSCLA284 The request issued to the source mover service partition</span></p><p class="c3"><span class="c4">apqvh535-VIOS1 to start the migration has failed. The partition</span></p><p class="c3"><span class="c4">command is: migmover -m src_start -e 55236 -i 0xa949fe04edff2dab -l</span></p><p class="c3"><span class="c4">39 -p 10.74.112.111 -L 10.74.112.66 -v U9117.MMA.107A3EC-V1-C2 -c 8</span></p><p class="c3"><span class="c4">-t 100 -s 300 -d 1 The partition standard error is: null</span></p><p class="c3"><span class="c4">HSCLA2CF The partition migration has been stopped unexpectedly.</span></p><p class="c3"><span class="c4">Perform a migration recovery for this partition, if necessary</span></p><p class="c3"><span class="c4">HSCLA27E(apqwd619&amp;635,50244 004)The operation to lock the physical</span></p><p class="c3"><span class="c4">device location for target adapter U9117.MMA.105BE2F-V1-C164 on the</span></p><p class="c3"><span class="c4">virtual I/O server partition apqvh589-VIOS1 has failed. The partition</span></p><p class="c3"><span class="c4">command is: migmgr -f lock_target_adapter -s U9117.MMA.105BE2F-V1-</span></p><p class="c3"><span class="c4">C164 -i 0xc0d95f12951aa89d -t vscsi -d 1 The partition standard error</span></p><p class="c3"><span class="c4">is: null</span></p><p class="c3"><span class="c4">HSCLA27F(apqwd633&amp;619) The operation to establish the physical device</span></p><p class="c3"><span class="c4">location for adapter U9117.MMA.105BE2F-V1-C12 on the virtual IO</span></p><p class="c3"><span class="c4">server partition apqvh589-VIOS1 has failed. The partition command is:</span></p><p class="c3"><span class="c4">migmgr -f set_adapter -t vscsi -s U9117.MMA.105BE2F-V1-C12 -C 0x3 -d</span></p><p class="c3"><span class="c4">1 The partition standard error is: cfgmgr: 0514-609 Unable to save</span></p><p class="c3"><span class="c4">the base customized information on /dev/ipldevice</span></p><p class="c3"><span class="c5">I tried running cfgmgr and bosboot on apqvh589. bosboot failed with a</span></p><p class="c3"><span class="c5">memory error. I allocated 2GB more memory and it ran successful. Also</span></p><p class="c3"><span class="c5">check mappings on the VIO server, chances are there are LUNs that are</span></p><p class="c3"><span class="c5">not mapped to the client LPAR.</span></p><p class="c8"><span class="c5">Also, PSDB has many references to reserve_lock. Check lsattr</span><span class="c11">&nbsp;</span><span class="c5">In IPC2 we had issues with </span><span class="c4">HSCLA27F </span><span class="c5">that the RCA ended up being the firmware level on the SAN switches. Some great troubleshooting tools came out of the RCA. </span></p><p class="c3"><span class="c4">devscan shows if secondary WWPNs can talk to target from VIO:</span></p><p class="c3"><span class="c5">devscan -t f -n c0507604a7840043 --dev fcs1</span></p><p class="c3"><span class="c5">This does not show LUNs assigned, just that it can see target. --dev</span></p><p class="c3"><span class="c5">fcsX is optional. You can run this on the client, just drop -t f and</span></p><p class="c3"><span class="c5">only use -n &lt;WWPN&gt;</span></p><p class="c3"><span class="c5 c53">http://www-01.ibm.com/support/docview.wss?uid=aixtools-25584e29</span></p><p class="c3"><span class="c4">Test migration functionality for NPIV adapters:</span></p><p class="c3"><span class="c5">ftp://ftp.software.ibm.com/systems/virtualization/vio/ztools/lpm-vfc-</span></p><p class="c3"><span class="c5">wwpn/migmgr_npiv_test.sh</span></p><p class="c3"><span class="c5">This was ran on the source VIO servers and I believe what it does is</span></p><p class="c3"><span class="c5">show that the vfchost are &#39;ok&#39; for a LPM operation. When prompted,</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 542.27px; height: 1.53px;"><img alt="" src="images/image119.png" style="width: 542.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 593.53px; height: 1.53px;"><img alt="" src="images/image124.png" style="width: 593.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 207.20px; height: 1.53px;"><img alt="" src="images/image123.png" style="width: 207.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">put in the vfchostX into the script.</span></p><p class="c3"><span class="c4">Inactive migration on clients using NPIV:</span></p><p class="c3"><span class="c5">ONLY WORKS if it&#39;s been actively migrated previous</span></p><p class="c3"><span class="c4">HSCLA284 The request issued to the source mover service partition</span></p><p class="c3"><span class="c4">apqvh533-VIOS1 to start the migration has failed. The partition</span></p><p class="c3"><span class="c4">command is: migmover -m src_start -e 62951 -i 0x966076ffa94715ec -l</span></p><p class="c3"><span class="c4">16 -p 10.74.112.111 -L 10.74.112.64 -v U8203.E4A.102CDZM-V1-C2 -c 8</span></p><p class="c3"><span class="c4">-t 100 -s 300 -d 1 The partition standard error is: null...geez I</span></p><p class="c3"><span class="c4">have no notes!</span></p><p class="c3"><span class="c4">HSCLA2CF The partition migration has been stopped unexpectedly.</span></p><p class="c3"><span class="c4">Perform a migration recovery for this partition, if necessary</span></p><p class="c8"><span class="c4">HSCLA27C The operation to get the physical device location for adapter</span><span class="c12">&nbsp;</span><span class="c5">What ended up being the issue was that all the client WWN&#39;s were not zoned on the destination VIOS. We UNMAPPED the unused fiber on the source VIOS then LPM&#39;d successfully. </span></p><p class="c3"><span class="c4">HSCLA276 The HMC was not able to locate the source Virtual I/O Server</span></p><p class="c3"><span class="c4">partition for the client virtual adapter 317 in its internal database</span></p><p class="c3"><span class="c4">(this btw did not work. Dharmesh said that he would look at it and</span></p><p class="c3"><span class="c4">then let me know what the fix is)</span></p><p class="c3"><span class="c4">(issue @ AMEX also):Julian B Owens, IBM Support, had me run:</span></p><p class="c8"><span class="c5">lssrc -a|grep rsct</span><span class="c11">&nbsp;</span><span class="c5">/usr/sbin/rsct/install/bin/recfgct</span><span class="c11">&nbsp;</span><span class="c4">then </span><span class="c5">lssrc -a|grep rsct </span><span class="c4">again(more services showed up &amp; active, this recycles the services)wait some time for communication back to HMC then tried the LPM again and it worked! But I had this error again and the above didnt work. So I opened another PMR. I ran lspartition -dlpar and looked for source vios and vioc for active&lt;1&gt;(which they were(means they are talking to each other)). Then we went into the HMC as hscpe and ran recfgct(follow pesh directions and made all its frames connections happy again)..waited for active to change to active&lt;1&gt; for the VIOS and VIOC involved then tried LPM again </span></p><p class="c3"><span class="c5">Run lspartition -dlpar on the HMC before and after the instructions</span></p><p class="c3"><span class="c5">below. You will see the number of connections change(which they</span></p><p class="c3"><span class="c5">should)</span></p><p class="c8"><span class="c4">Clear RMC connection.</span><span class="c12">&nbsp;</span><span class="c4">On the LPAR </span><span class="c4 c14">and VIOS!</span><span class="c4">: </span><span class="c5">============= /usr/sbin/rsct/install/bin/recfgct /usr/sbin/rsct/bin/rmcctrl -z /usr/sbin/rsct/bin/rmcctrl -A /usr/sbin/rsct/bin/rmcctrl -p Qureshi, Faisal {PEP} [9:15 AM]: </span></p><p class="c3"><span class="c5">Logged onto HMC as root</span></p><p class="c3"><span class="c5">On the HMC: (see below on how to do it on the HMC)</span></p><p class="c3"><span class="c5">=============</span></p><p class="c8"><span class="c5">HMC commands </span></p><p class="c3"><span class="c4">To close a terminal seesion:</span></p><p class="c3"><span class="c5">rmvterm -m SAP-p570-1-SN102FBA5 -p pepxd200014</span></p><p class="c3"><span class="c4">Power on a managed system:</span></p><p class="c3"><span class="c5">chsysstate -m managed-system -r sys -o {on | onstandby |</span></p><p class="c3"><span class="c5">onstartpolicy | onsysprof | onhwdisc} [-f system-profile-name] [-k</span></p><p class="c3"><span class="c5">keylock-position]</span></p><p class="c3"><span class="c4">Power off a managed system fast:</span></p><p class="c3"><span class="c5">chsysstate -m sys1 -r sys -o off --immed</span></p><p class="c3"><span class="c4">powers on LPAR in SMS(to boot to normal mode, -b norm)</span></p><p class="c3"><span class="c5">chsysstate -m SAP-p570-1-SN102FBA5 -r lpar -o on -n pepxd20002 -f</span><span>&nbsp;</span><span class="c5">default -b sms</span></p><p class="c8"><span class="c4">add fiber channel slot:(on client,To remove the Fiber, change the + sign to a - sign)</span><span class="c12">&nbsp;</span><span class="c5">chsyscfg -r prof -m SAP-p570-1-SN102FBA5 -i &quot;lpar_name=pepxvn00001,name=default,virtual_fc_adapters+=109/client// pepxd200018/109//0&quot; </span></p><p class="c3"><span class="c4">For vio server:</span></p><p class="c8"><span class="c5">chsyscfg -r prof -m Server-8205-E6B-SN06137DR -i &quot;lpar_name=agpvh510,name=default,virtual_fc_adapters+=32/server//avpm d525/32//0&quot;</span><span class="c11">&nbsp;</span><span class="c4">Scripting the vio side:</span><span class="c12">&nbsp;</span><span class="c4">x=2</span><span class="c12">&nbsp;</span><span class="c4">for i in 0 1 2 3 4 5 6 7 8 9 (increments Client name)</span><span class="c12">&nbsp;</span><span class="c4">do</span><span class="c12">&nbsp;</span><span class="c4">x=$(( x + 1 )) (increments slot # in 1st position)</span><span class="c12">&nbsp;</span><span class="c4">for t in 2 3 4 5 (increments slot # in 2nd position)</span><span class="c12">&nbsp;</span><span class="c4">do</span><span class="c12">&nbsp;</span><span class="c4">chsyscfg -r prof -m Server-8205-E6B-SN062BE42 -i &quot;lpar_name=AGPVH522- VIOS,name=default,virtual_fc_adapters+=${x}${t}/server//AVPMD58${i}/$ {x}${t}//0&quot;</span><span class="c12">&nbsp;</span><span class="c4">done</span><span class="c12">&nbsp;</span><span class="c4">done </span></p><p class="c3"><span class="c4">To remove an LPAR:</span></p><p class="c3"><span class="c5">rmsyscfg -r lpar -m &lt;managed server&gt; -n &lt;partition_name&gt;</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c4">Delete the service partition(full server partition)</span></p><p class="c3"><span class="c5">chsyscfg -m Server-9117-MMD-SN21928C7 -r sys -i</span></p><p class="c3"><span class="c5">&quot;service_lpar_id=none&quot;</span></p><p class="c3"><span class="c4">List ALL max_virtual_slots on ALL LPARS on the entire HMC:</span></p><p class="c3"><span class="c5">for i in `lssyscfg -r sys -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">for x in `lssyscfg -m $i -r lpar -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m $i --filter lpar_names=$x -F name</span></p><p class="c3"><span class="c5">max_virtual_slots virtual_scsi_adapters virtual_fc_adapters --header</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">done</span></p><p class="c8"><span class="c4">To list the WWN&#39;s for the clients off the client profiles created on the HMC:</span><span class="c12">&nbsp;</span><span class="c5">lssyscfg -r prof -m &lt;managed server&gt; --filter lpar_names=pepxd200020 -F lpar_name,virtual_fc_adapters </span></p><p class="c3"><span class="c4">To list all the virtual WWPNs on a managed system:</span></p><p class="c3"><span class="c5">for i in `lssyscfg -m Server-8205-E6B-SN06137DR -r lpar -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo $i</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m Server-8205-E6B-SN06137DR --filter lpar_names=$</span></p><p class="c3"><span class="c5">{i} -F virtual_fc_adapters|sed -e &#39;s/&quot;,&quot;/\n/g&#39;|sed -e &#39;s/&quot;//g&#39;|sort</span></p><p class="c3"><span class="c5">-g| cut -d/ -f6</span></p><p class="c8"><span class="c5">echo done </span></p><p class="c8"><span class="c4">To find out if any virtual fiber adapters are REQUIRED: 1=REQ excluding vio servers:</span><span class="c12">&nbsp;</span><span class="c5">for i in `lssyscfg -r sys -F name`</span><span class="c11">&nbsp;</span><span class="c5">do </span></p><p class="c3"><span class="c5">for x in `lssyscfg -m $i -r lpar -F name|grep -v czapvs`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo $x</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m $i --filter lpar_names=$x -F virtual_fc_adapters</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">done|sed -e &#39;s/&quot;,&quot;/\n/g&#39;|sed -e &#39;s/&quot;//g&#39;|sed -e &#39;s/,//g&#39;|cut -d/ -f7</span></p><p class="c8"><span class="c4">To find out if any virtual fiber adapters are REQUIRED: 1=REQ INCLUDING vio servers:</span><span class="c12">&nbsp;</span><span class="c5">for i in $(lssyscfg -r sys -F name)</span><span class="c11">&nbsp;</span><span class="c5">do </span></p><p class="c3"><span class="c5">for x in $(lssyscfg -m $i -r lpar -F name|grep -v -E &ldquo;czapdb&rdquo;)</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo $x</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m $i --filter lpar_names=$x -F virtual_fc_adapters</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">done|sed -e &#39;s/&quot;,&quot;/\n/g&#39;|sed -e &#39;s/&quot;//g&#39;|sed -e &#39;s/,/\n/g&#39;|cut -d/</span></p><p class="c3"><span class="c5">-f7</span></p><p class="c3"><span class="c4">To find out if any virtual scsi adapter is required: 1=REQ</span></p><p class="c3"><span class="c5">for i in `lssyscfg -r sys -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">for x in `lssyscfg -m $i -r lpar -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo $x</span></p><p class="c3"><span class="c5">lssyscfg -r prof -m $i --filter lpar_names=$x -F</span></p><p class="c3"><span class="c5">virtual_scsi_adapters</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">done|sed -e &#39;s/&quot;,&quot;/\n/g&#39;|sed -e &#39;s/&quot;//g&#39;|sed -e &#39;s/,/\n/g&#39;|cut -d/</span></p><p class="c3"><span class="c5">-f6</span></p><p class="c8"><span class="c4">Show the PHYSICAL WWN of an LPAR:(I dont think this works on power7 at this time)(from UK AIX VUG)</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c5">lshwres -r io --rsubtype slotchildren -m Server-9117-MMB-SN101509A -F phys_loc,description,mac_address,wwpn,microcode_version |grep Fibre </span></p><p class="c3"><span class="c4 c16">Show only the WWNs in a list:</span></p><p class="c3"><span class="c5 c16">lssyscfg -r prof -m Server-8205-E6B-SN06137DR -F virtual_fc_adapters</span></p><p class="c3"><span class="c5 c16">--filter lpar_names=avpmd525| sed -e &#39;s/&quot;,&quot;/\n/g&#39;| cut -d/ -f6</span></p><p class="c3"><span class="c4">List processing resources for all partitions:</span></p><p class="c3"><span class="c5">lshwres -r proc -m system1 --level lpar -F lpar_name,curr_proc_units</span></p><p class="c3"><span class="c6 c5">--header</span></p><p class="c3"><span class="c6 c4">Checking Memory Region Size:</span></p><p class="c49 c7"><span class="c6 c5">lssyscfg -r sys -F name | while read M</span></p><p class="c49 c7"><span class="c6 c5">do</span></p><p class="c7 c49"><span class="c6 c5">echo -e $M\\t\\c</span></p><p class="c49 c7"><span class="c6 c5">lshwres -r mem -m $M &nbsp;-- level sys -F mem_region_size</span></p><p class="c49 c7"><span class="c5">done</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c4">List memory resources for all partitions:</span></p><p class="c3"><span class="c5">lshwres -r mem -m Server-9117-MMA-SN10630C2 --level lpar -F</span></p><p class="c3"><span class="c5">lpar_name,curr_mem --header</span></p><p class="c3"><span class="c4">To list the managed systems on a HMC:</span></p><p class="c3"><span class="c5">lssyscfg -r sys -F name</span></p><p class="c8"><span class="c4">To see the reference codes(LED) for all the systems: the comma after the -F flag is the delimeter shown in output(it can be whatever) </span><span class="c5">lsrefcode -m SAP-p570-2-SN102FB95 -r lpar -F lpar_name,refcode</span></p><p class="c8"><span class="c4">For just one: </span></p><p class="c3"><span class="c5">lsrefcode -m SAP-p570-2-SN102FB95 -r lpar --filter</span></p><p class="c3"><span class="c5">lpar_names=&lt;LPAR_Name&gt; -F lpar_name,refcode</span></p><p class="c3"><span class="c4">Show history ref code for a LPAR:</span></p><p class="c3"><span class="c5">lsrefcode -m Server-9117-MMD-SN21867F7 -r lpar -n 10 -F --header</span></p><p class="c3"><span class="c5">--filter lpar_names=czapvs237</span></p><p class="c3"><span class="c4">To find an LPAR:</span></p><p class="c3"><span class="c5">for i in $(lssyscfg -r sys -F name); do echo $i $(lssyscfg -r lpar -m</span></p><p class="c3"><span class="c5">$i -F name|grep pepxd200084); done</span></p><p class="c8"><span class="c5">VIOC Related HMC commands </span></p><p class="c3"><span class="c4">Check LMB size of the frame:</span></p><p class="c3"><span class="c5">lshwres -r mem -m plum-8204-E8ASN105C0B0 --level sys -F</span></p><p class="c3"><span class="c5">mem_region_size</span></p><p class="c3"><span class="c4">Force save running config onto lpar&#39;s profile:</span></p><p class="c3"><span class="c5">mksyscfg -r prof -m Server-9117-MMD-SN21868A7 -o save -p czapvs228 -n</span></p><p class="c3"><span class="c5">czapvs228 &ndash;force</span></p><p class="c3"><span class="c4">Cant get console on LPARs on a frame:</span></p><p class="c3"><span class="c5">Getting error when trying to get console. Reboot HMCs and wait some</span></p><p class="c3"><span class="c5">period of time(hate that part)</span></p><p class="c8"><span class="c4">Adding PHYSICAL adapters to LPARs/VIO profiles:</span><span class="c12">&nbsp;</span><span class="c4">first you need to find out the drc_index of the i/o cards: </span><span class="c5">lshwres -r io -m Server-9117-MMC-SN217D807 --rsubtype slot -F drc_index:drc_name:description</span><span class="c11">&nbsp;</span><span class="c4">output:</span><span class="c12">&nbsp;</span><span class="c5">21010140:U5802.001.9K87802-P1-C1:1 Gigabit Ethernet (UTP) 4 Port Adapter PCIE-4x/Short</span><span class="c11">&nbsp;</span><span class="c5">21010141:U5802.001.9K87802-P1-C2:1 Gigabit Ethernet (UTP) 4 Port Adapter PCIE-4x/Short</span><span class="c11">&nbsp;</span><span class="c5">21010142:U5802.001.9K87802-P1-C3:1 Gigabit Ethernet (UTP) 4 Port Adapter PCIE-4x/Short</span><span class="c11">&nbsp;</span><span class="c5">21010148:U5802.001.9K87802-P1-C7:1 Gigabit Ethernet (UTP) 4 Port Adapter PCIE-4x/Short </span></p><p class="c3"><span class="c4">then use the mksyscfg command to create:</span></p><p class="c3"><span class="c5">&nbsp;chhwres -r io -m sys1 -o a -p p1 -l 21010001</span></p><p class="c8"><span class="c5">mksyscfg -r lpar -m Server-9117-MMC-SN217D807 -i &quot;name=czapvs161,profile_name=czapvs161,lpar_env=vioserver,min_mem=102 4,desired_mem=12288,max_mem=24576,proc_mode=shared,min_proc_units=1,d esired_proc_units=2,max_proc_units=64,min_procs=1,desired_procs=4,max _procs=64,sharing_mode=uncap,uncap_weight=255,shared_proc_pool_id=0,a llow_perf_collection=1,</span><span class="c4">io_slots=21010140//1</span><span class="c5">&quot; </span></p><p class="c3"><span class="c5">for the io_slots format: drc_index/slot-IO-pool-ID/ is-required</span></p><p class="c3"><span class="c5">where 0 = no and 1 = yes, the slot-IO-pool-ID is optional</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">and to add more than one physical IO at the same time:</span></p><p class="c3"><span class="c5">mksyscfg -r lpar -m Server-9117-MMC-SN217D807 -i</span></p><p class="c3"><span class="c5">&quot;name=czapvs161,profile_name=czapvs161,lpar_env=vioserver,msp=1,min_m</span></p><p class="c3"><span class="c5">em=1024,</span></p><p class="c3"><span class="c5">desired_mem=12288,max_mem=24576,proc_mode=shared,min_proc_units=1,des</span></p><p class="c3"><span class="c5">ired_proc_units=2,max_proc_units=64,min_procs=1,desired_procs=4,max_p</span></p><p class="c3"><span class="c5">rocs=64,sharing_mode=uncap,uncap_weight=255,shared_proc_pool_id=0,all</span></p><p class="c3"><span class="c5">ow_perf_collection=1,io_slots=21010140//1,io_slots=21010141//1,io_slo</span></p><p class="c3"><span class="c5">ts=21010142//1,io_slots=210101C0//1,io_slots=210101C1//1,io_slots=210</span></p><p class="c3"><span class="c5">101C2//1,io_slots=21010283//1,io_slots=21010284//1,io_slots=21010285/</span></p><p class="c3"><span class="c5">/1,io_slots=210102C3//1,io_slots=210102C4//1,io_slots=210102C5//1,io_</span></p><p class="c3"><span class="c5">slots=210102C8//1,io_slots=210102C9//1,io_slots=21010288//1,io_slots=</span></p><p class="c3"><span class="c5">21010289//1&quot;</span></p><p class="c3"><span class="c4">If you need to make the physical IO DESIRED instead of required:</span></p><p class="c3"><span class="c5">chsyscfg -m Server-9117-MMD-SN10724A7 -r prof -i</span></p><p class="c3"><span class="c5">lpar_name=czapvs221,name=czapvs221,\&quot;io_slots=\&quot;\&quot;21010243/none/0\&quot;\&quot;</span></p><p class="c3"><span class="c5">,\&quot;\&quot;21010283/none/0\&quot;\&quot;,\&quot;\&quot;21010244/none/0\&quot;\&quot;,\&quot;\&quot;21010284/none/0\</span></p><p class="c3"><span class="c5">&quot;\&quot;,\&quot;\&quot;21010245/none/0\&quot;\&quot;,\&quot;\&quot;21010285/none/0\&quot;\&quot;,\&quot;\&quot;21010208/none</span></p><p class="c3"><span class="c5">/0\&quot;\&quot;,\&quot;\&quot;21010209/none/0\&quot;\&quot;,\&quot;\&quot;2101028C/none/0\&quot;\&quot;,\&quot;\&quot;2101024C/n</span></p><p class="c3"><span class="c5">one/0\&quot;\&quot;,\&quot;\&quot;2101028D/none/0\&quot;\&quot;,\&quot;\&quot;2101024D/none/0\&quot;\&quot;</span></p><p class="c3"><span class="c4">...the last field, 0=desired, 1=required</span></p><p class="c8"><span class="c5">SSH </span></p><p class="c3"><span class="c4">ssh without getting a login banner:</span></p><p class="c8"><span class="c5">ssh -q </span></p><p class="c3"><span class="c4">ssh is slow in responding with a login prompt:</span></p><p class="c3"><span class="c5">check /etc/hosts and /etc/resolv.conf for name resolution</span></p><p class="c3"><span class="c4">ssh_exchange_identification: Connection closed by remote host:</span></p><p class="c3"><span class="c5">The server in question was just used heavily for sftp&rsquo;s, moving about</span></p><p class="c3"><span class="c5">2TB of data to the server. Google did NOT help on this but one entry</span></p><p class="c3"><span class="c5">suggested to leave it alone for a day and the issue should go away...</span></p><p class="c3"><span class="c4">I can ping but can not ssh:</span></p><p class="c3"><span class="c4">HealthNet DR, did not need /etc/resolv.conf so renamed it to .old</span></p><p class="c3"><span class="c4">then it worked</span></p><p class="c3"><span class="c4">Who is ssh&#39;ing into which IP Address?</span></p><p class="c3"><span class="c6 c5">netstat -an|grep 22</span></p><p class="c3 c29"><span class="c6 c5"></span></p><p class="c3"><span class="c6 c4">What process is listening on a port when you don&rsquo;t have lsof:</span></p><p class="c3"><span class="c6 c5">netstat -Aan|grep 17701</span></p><p class="c3"><span class="c6 c23 c46">f1000e000794b3b8 tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 &nbsp;*.17701 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *.* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LISTEN</span></p><p class="c3"><span class="c6 c23 c46">rmsock f1000e000794b3b8 tcpcb</span></p><p class="c3"><span class="c6 c23 c46">The socket 0xf1000e000794b008 is being held by proccess 38142018</span></p><p class="c3"><span class="c6 c23 c46">&lt;jtucker007@phxcxnuat001&gt;/home/jtucker007&gt;ps -ef|grep 38142018</span></p><p class="c3"><span class="c52 c50 c46">If they have lsof installed you can list listening ports:</span></p><p class="c3"><span class="c6 c23 c46">lsof &ndash;Pnl +M|grep LIST</span></p><p class="c3"><span class="c6 c52 c50 c46">If the steps above do not give you a PID(ibm recommends the following)</span></p><p class="c3"><span class="c6 c23 c46">netstat &ndash;Aan | grep 32833</span></p><p class="c3"><span class="c6 c23 c46">kdb</span></p><p class="c3"><span class="c6 c23 c46">kbd&gt; sockinfo &lt;pcb addr&gt; tcpcb|grep INFO</span></p><p class="c3"><span class="c6 c23 c46">kbd&gt; dd &lt;sock addr&gt; 60</span></p><p class="c3"><span class="c6 c23 c46">the line that contains the PID is +250 from the socket address</span></p><p class="c3"><span class="c6 c23 c46">kdb&gt; p *|grep &lt;pid&gt;</span></p><p class="c3"><span class="c6 c23 c46">convert this to dec from hex</span></p><p class="c3"><span class="c6 c23 c46">exit kdb and kill the PID form the CLI</span></p><p class="c3 c29"><span class="c6 c23 c46"></span></p><p class="c3 c29"><span class="c6 c23 c46"></span></p><p class="c3"><span class="c6 c23 c46">adputusr 38142018 28442708 &nbsp; 0 &nbsp; May 05 &nbsp; &nbsp; &nbsp;- &nbsp;0:02 node ./bin/www</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c8"><span class="c6 c5">STORY TELLING </span></p><p class="c8"><span class="c6 c5">User is sshing to a box with good username and password but connection immediately disconnects: lesson learned: check for primary group set for user</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c3"><span class="c5">I have two interfaces on a box(primary and back up). I was not able</span></p><p class="c3"><span class="c5">to ssh into the primary interface but was able to into the back up.</span></p><p class="c3"><span class="c5">upon ssh into the back up interface, I tried doing a netstat -i and</span></p><p class="c3"><span class="c5">hangs. when i did a netstat -rn I noticed that there was a tons of</span></p><p class="c3"><span class="c5">wrong routing paths. So I removed them and then I was able to ssh</span></p><p class="c3"><span class="c5">into the primary and netstat -i was able to complete.</span></p><p class="c3"><span class="c5">Restoring mksysb&#39;s from CCSAS onto p6 servers in OTech. First thing</span></p><p class="c3"><span class="c5">that happened was that the LPAR hung with LED 0605 which meant that</span></p><p class="c3"><span class="c5">there were no ethernet drivers. Since we were going from a physical</span></p><p class="c3"><span class="c5">server to a virtual one we ended up creating a SPOT from the AIX</span></p><p class="c3"><span class="c5">disks and allocated it. This worked great until we hit the next the</span></p><p class="c3"><span class="c5">hung error code: 0c48(if you have the console open then hit 1 to</span></p><p class="c3"><span class="c5">select English)</span></p><p class="c3"><span class="c5">ftp, ssh, scp hangs when doing cat&#39;s on files or changes or anything</span></p><p class="c3"><span class="c5">simple(ftp&#39;ing). Check MTU sizes of ALL parties involved(source,</span></p><p class="c3"><span class="c5">target, switches)</span></p><p class="c3"><span class="c4">Funky things when ssh into a box:</span></p><p class="c3"><span class="c5">Check in the /etc/ssh/sshd_config file for uncommented lines that</span></p><p class="c3"><span class="c5">might cause the issue...on the Varian DR, one box wouldnt let me ssh into it with the correct password. In the file was a allowroot</span></p><p class="c3"><span class="c5">without-password, so I commented it out and restarted ssh and it</span></p><p class="c3"><span class="c5">worked! stopsrc -s sshd;startsrc -s sshd</span></p><p class="c3"><span class="c4">Ethernet card shows Link Status or Media Speed Running as Unknown:</span></p><p class="c3"><span class="c5">Talked to network and he showed us not connected and everything looks</span></p><p class="c3"><span class="c5">good.Talked to guys that pull cables and he said all looks good.</span></p><p class="c3"><span class="c5">Check errpt and double check that the ethernet cards are in the</span></p><p class="c3"><span class="c5">correct order. If all is good there then have cable guys pull new</span></p><p class="c3"><span class="c5">cables. Another thing you can do is have networking check to see if they can see the MAC address....if they dont then bounce the switch</span><span>&nbsp;</span><span class="c5">port</span></p><p class="c3"><span class="c4">Super slow speeds with NIM tftp&#39;ing mksysb to client LPAR:</span></p><p class="c3"><span class="c5">On the NIM server I ran: tcpdump -I -i en0 host ch1p02</span></p><p class="c3"><span class="c5">and gots lots and lots of errors:</span></p><p class="c3"><span class="c5">14:12:19.360888 IP cgnim01.dts.ca.gov.nfs &gt;</span></p><p class="c3"><span class="c5">ch1p02.dts.ca.gov.2898601975: reply ERR 1460</span></p><p class="c3"><span class="c5">14:12:19.360894 IP cgnim01.dts.ca.gov.nfs &gt;</span></p><p class="c3"><span class="c5">ch1p02.dts.ca.gov.3137716528: reply ERR 1460</span></p><p class="c3"><span class="c5">apprently this error can safely be ignored. I still do not know why</span></p><p class="c3"><span class="c5">it is slow. so at 86% the client reboots and isnt pointed at the disk</span></p><p class="c3"><span class="c5">nor the correct network interface. So we point it to the configured</span></p><p class="c3"><span class="c5">LAN. The install restarts from the beginning (Grrrr). We ended up</span></p><p class="c3"><span class="c5">allocating ALOT MORE RESOURCES to the VIOS, NIM and NIM CLIENT...and</span></p><p class="c3"><span class="c5">it is WAY FASTER but still fails around 86%(this was due to</span></p><p class="c3"><span class="c5">vdevices(virtual devices) not being installed onto the mksysb that we</span></p><p class="c3"><span class="c5">were trying to restore)</span></p><p class="c3"><span class="c4">So at Kaiser we had some SEAs go Defined. Individual NICs showed UNKNOWN status. We got together with networking and up&#39;d the EC and tcpdumped them. They went from UNKNOWN to up status...weird...oh this is LACP too...so to get the SEAs back online I rmdev&#39;d them and recreated them(pulling the info before deleting them: lsdev -dev entX</span></p><p class="c3"><span class="c4">-attr). Also at Davita, we had SEA&rsquo;s with no ip address bound to them so rmdev -l then mkdev -l </span><span class="c4 c15 c98">DO NOT DO -dl</span></p><p class="c3"><span class="c4">Cant see MAC address on customer switch:</span></p><p class="c3"><span class="c5">What happened was we were doing multiple VLANs and the network guy forgot to put one of them on his side...then the MAC&#39;s showed up. But the MACs show up only on the switch(layer 2) and no where else.</span></p><p class="c3"><span class="c5">(Still thinking of whats wrong). ended up putting things back to the</span></p><p class="c3"><span class="c5">&quot;way they were&quot; still nothing. so the resolve was that my configs</span></p><p class="c3"><span class="c5">were incorrect. I didnt have the VLANs set up correctly. see other</span></p><p class="c3"><span class="c5">document that details what Faisal and I sametime&#39;d about</span></p><p class="c3"><span class="c4">df listing shows dashes instead of sizes:(Varian DR exercise)</span></p><p class="c3"><span class="c4">after a recreation of the LV/FS, df shows dashes. The FS needs to</span></p><p class="c3"><span class="c4">mount ontop of its directory. Do a mkdir then remount FS. OR the</span></p><p class="c3"><span class="c4">underlaying mount point might not have the right permissions for a</span></p><p class="c3"><span class="c4">user to see it. At Kaiser /data was 700 and I couldnt see the df size</span></p><p class="c3"><span class="c4">of /data/Tivoli unless I became root.</span></p><p class="c3"><span class="c4">Created File system but mount command never returns to prompt:</span></p><p class="c3"><span class="c5">Turns out that there were a TON of umount and mount processes that</span><span>&nbsp;</span><span class="c5">never finished. Reboot should fix issue</span></p><p class="c3"><span class="c5">root@czabdb2 / &gt;</span></p><p class="c3"><span class="c5"># ps -ef |grep mount</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; root 10551416 &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp; 0 &nbsp; Feb 28 &nbsp; &nbsp; &nbsp;- &nbsp;0:00</span></p><p class="c3"><span class="c5">/sbin/helpers/jfs2/umount -f -V jfs2 /dev/lv_Ascprd01</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; root 12124162 &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp; 0 &nbsp; Feb 28 &nbsp; &nbsp; &nbsp;- &nbsp;0:00</span></p><p class="c3"><span class="c5">/sbin/helpers/jfs2/umount -f -V jfs2 /dev/lv_Ascprd02</span></p><p class="c3"><span class="c5">&nbsp; &nbsp; root 15925450 &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp; 0 &nbsp; May 17 &nbsp; &nbsp; &nbsp;- &nbsp;0:00</span></p><p class="c3"><span class="c5">/sbin/helpers/jfs2/mount -v jfs2 /dev/alt_tivolitws</span></p><p class="c3"><span class="c5">/alt_inst/usr/Tivoli/TWS</span></p><p class="c8"><span class="c5">root 21496044 10 Mar 23 - 0:00 /sbin/helpers/jfs2/mount -v jfs2 /dev/alt_tivolitws /alt_inst/usr/Tivoli/TWS </span></p><p class="c8"><span class="c5">root 28508212 10 Feb 28 - 0:00 /sbin/helpers/jfs2/umount -V jfs2 /dev/lv_sc16scratch </span></p><p class="c8"><span class="c5">root 32571444 10 Apr 07 - 0:00 /sbin/helpers/jfs2/mount -v jfs2 /dev/alt_tivolitws /alt_inst/usr/Tivoli/TWS </span></p><p class="c8"><span class="c5">root 32636966 10 Mar 09 - 0:00 /sbin/helpers/jfs2/mount -v jfs2 /dev/alt_tivolitws /alt_inst/usr/Tivoli/TWS </span></p><p class="c8"><span class="c4">SSH: </span></p><p class="c8"><span class="c5">ssh&#39;ing to box with </span><span class="c4 c15">ssh epicap02 date </span><span class="c5">returns ksh: date: not found. Did some testing and come to find out that the boxes that were upgraded to TL9 are having the issue. Ran ssh tests to and from the same two boxes. i.e. sfnim02 -&gt; epicap02 then reverse epicap02 -&gt; sfnim02. Each time the server(epicap02) would fail with the error: &quot;date: not found&quot;. We are going to reinstall ssh on epicap02 to see if this fixes the issue. The issue was that there were multiple PATH statements in the /etc/environment file....Reduced them down to one and all worked </span></p><p class="c8"><span class="c5">END OF STORY TELLING </span></p><p class="c8"><span class="c6 c5">AIX BASICS </span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c5">FILE SETS:</span></p><p class="c8"><span class="c6 c5">To list software and update on a specific media:</span></p><p class="c8"><span class="c6 c5">Install -l</span></p><p class="c8"><span class="c6 c4">Uninstall filesets: </span></p><p class="c8"><span class="c6 c5">Installp &ndash;gu sysmgt.pconsole</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c6 c4">Password Policy Changes:</span></p><p class="c8"><span class="c6 c5">180 days max password age</span></p><p class="c8"><span class="c6 c5">/etc/security/user</span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c4">AIX file basics:</span><span class="c12">&nbsp;</span><span class="c4">/etc/passwd format</span><span class="c12">&nbsp;</span><span class="c5">Username : Password Flag : UID : GID : GECOS : Home : Shell/Command Password Flag This field varies slightly in different flavors of UNIX and Linux. In AIX, the second field can contain one of two characters, either ! or *. If the ! is displayed, a password has been set for the user. If no password has been set, * appears. The passwords themselves are stored in /etc/security/passwd. </span><span class="c4">/etc/security/.profile</span><span class="c12">&nbsp;</span><span class="c5">When you create a user using themkuser command, the script /usr/lib/security/mkuser.sys is executed. This script creates the user&#39;s directory, sets the correct permissions, and &quot;creates&quot; the user&#39;s .profile. The mkuser.sys script actually copies the /etc/security/.profile file into the user&#39;s new home directory. </span><span class="c4">/etc/security/limits </span></p><p class="c8"><span class="c5">The /etc/security/limits file contains all the ulimits, or users&#39; system resource limitations. </span><span class="c5 c53">Table1 </span><span class="c5">defines the fields in the </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 31.13px; height: 1.53px;"><img alt="" src="images/image111.png" style="width: 31.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 17.80px; height: 1.73px;"><img alt="" src="images/image110.png" style="width: 17.80px; height: 1.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c5">/etc/security/limits file and their use.</span></p><p class="c3"><span class="c5">Table 1. Fields in /etc/security/limits</span></p><p class="c8"><span class="c5">Soft limit </span></p><p class="c3"><span class="c5">fsize</span></p><p class="c3"><span class="c5">core</span></p><p class="c3"><span class="c5">cpu</span></p><p class="c8"><span class="c5">Hard limit </span></p><p class="c3"><span class="c5">fsize_hard</span></p><p class="c3"><span class="c5">core_hard</span></p><p class="c3"><span class="c5">cpu_hard</span></p><p class="c8"><span class="c5">Description </span></p><p class="c3"><span class="c5">Size of file a user</span></p><p class="c3"><span class="c5">can create</span></p><p class="c3"><span class="c5">Size of core file a</span></p><p class="c3"><span class="c5">user can create</span></p><p class="c3"><span class="c5">The amount of system</span></p><p class="c3"><span class="c5">data</span></p><p class="c3"><span class="c5">stack</span></p><p class="c3"><span class="c5">rss</span></p><p class="c3"><span class="c5">nofiles</span></p><p class="c8"><span class="c5">nproc </span></p><p class="c3"><span class="c5">data_hard</span></p><p class="c3"><span class="c5">stack_hard</span></p><p class="c3"><span class="c5">rss_hard</span></p><p class="c3"><span class="c5">nofiles_hard</span></p><p class="c8"><span class="c5">nproc_hard </span></p><p class="c3"><span class="c5">time allowed</span></p><p class="c3"><span class="c5">Size of the process</span></p><p class="c3"><span class="c5">data segment</span></p><p class="c3"><span class="c5">Size of the process</span></p><p class="c3"><span class="c5">stack segment</span></p><p class="c3"><span class="c5">Physical memory</span></p><p class="c3"><span class="c5">allowed</span></p><p class="c3"><span class="c5">Number of open file</span></p><p class="c3"><span class="c5">descriptors at one</span></p><p class="c3"><span class="c5">time</span></p><p class="c3"><span class="c5">Number of running</span></p><p class="c3"><span class="c5">processes at one time</span></p><p class="c8"><span class="c5">What&#39;s the difference between soft and hard limits? A </span><span class="c5 c15">soft limit </span><span class="c5">is a value that a user or application can change on the fly up to the maximum (the hard limit). The </span><span class="c5 c15">hard limit </span><span class="c5">is just that -- the maximum value a parameter can be set to. If setting the parameter to a numeric value is too difficult (for example, if a developer has no idea how much memory his or her program is going to take or the number of files it will need to open), you can set the parameter to</span><span class="c4">- 1</span><span class="c5">, which translates to unlimited.It isn&#39;t imperative that you set individual ulimits for each and every user, however. The /etc/security/limits file contains a section called default that defines a template of standard values for each user unless that user has set custom values. If the defaultsection doesn&#39;t exist, IBM kindly set predetermined limits just in case. </span></p><p class="c3"><span class="c4">/etc/security/passwd</span></p><p class="c3"><span class="c5">The /etc/security/passwd file contains the AIX user&#39;s password</span></p><p class="c3"><span class="c5">information. The file contains three fields per user:</span></p><p class="c8"><span class="c23 c57">&#9679;</span><span class="c5">password. Encrypted password.</span><span class="c11">&nbsp;</span><span class="c5">Note: If this field contains only an asterisk (*), the account is locked until a password has been set.</span><span class="c11">&nbsp;</span><span class="c23 c57">&#9679;</span><span class="c5">lastupdate. Number of seconds since epoch when the password was last updated.</span><span class="c11">&nbsp;</span><span class="c23 c57">&#9679;</span><span class="c5">flags. Restrictions to changing the user&#39;s password. You can set three different flags: </span></p><p class="c8"><span class="c23 c57">&#9675;</span><span class="c5">ADMIN. If set, only the root user can change the user&#39;s password.</span><span class="c11">&nbsp;</span><span class="c23 c57">&#9675;</span><span class="c5">ADMCHG. If set, the user is prompted to change his or her password on the next login/su. </span></p><p class="c8"><span class="c23 c57">&#9675;</span><span class="c5">NOCHECK. If set, any additional restrictions in </span></p><p class="c3"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; /etc/security/user are ignored.</span></p><p class="c3"><span class="c6 c4">/etc/security/user</span></p><p class="c3 c29"><span class="c6 c4"></span></p><p class="c3 c29"><span class="c6 c4"></span></p><p class="c3"><span class="c6 c4">Valid Authentication Modules are found:</span></p><p class="c3"><span class="c6 c5">/usr/lib/security/methods.cfg</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c8"><span class="c5">Now you&#39;re getting into the meat of AIX user administration. The /etc/security/user file contains the most important settings, outside of the basics in /etc/passwd, for a user.</span><span class="c5 c53">Table2</span><span class="c5">shows some of the parameters.</span><span class="c11">&nbsp;</span><span class="c5">Table 2. Parameters in the /etc/security/user file</span><span class="c11">&nbsp;</span><span class="c5">Parameter Format Description </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 31.13px; height: 1.53px;"><img alt="" src="images/image111.png" style="width: 31.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 10.73px; height: 1.53px;"><img alt="" src="images/image118.png" style="width: 10.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span class="c5">account_locked</span></p><p class="c8"><span class="c5">TRUE | FALSE </span></p><p class="c3"><span class="c5">TRUE | FALSE</span></p><p class="c3"><span class="c5">MMDDHHYY</span></p><p class="c8"><span class="c5">0-260 0-50 </span></p><p class="c3"><span class="c5">TRUE | FALSE</span></p><p class="c3"><span class="c5">0-52</span></p><p class="c3"><span class="c5">0-52</span></p><p class="c8"><span class="c5">TRUE | FALSE </span></p><p class="c8"><span class="c5">TRUE | FALSE </span></p><p class="c3"><span class="c5">Lock out the account;</span></p><p class="c3"><span class="c5">the user is unable to log in if set to True.</span></p><p class="c3"><span class="c5">If True, the user has administrative rights.</span></p><p class="c3"><span class="c5">If the date has been</span></p><p class="c3"><span class="c5">reached, the account</span></p><p class="c3"><span class="c5">has expired and is</span></p><p class="c3"><span class="c5">locked.</span></p><p class="c3"><span class="c5">Number of weeks the</span></p><p class="c3"><span class="c5">user can&#39;t reuse a</span></p><p class="c3"><span class="c5">password.</span></p><p class="c3"><span class="c5">Number of passwords</span></p><p class="c3"><span class="c5">previously used that</span></p><p class="c3"><span class="c5">can&#39;t be reused.</span></p><p class="c3"><span class="c5">User can log in if</span></p><p class="c3"><span class="c5">True.</span></p><p class="c3"><span class="c5">Number of weeks a</span></p><p class="c3"><span class="c5">password is valid.</span></p><p class="c3"><span class="c5">Number of weeks a</span></p><p class="c3"><span class="c5">user must wait before</span></p><p class="c3"><span class="c5">changing his or her</span></p><p class="c3"><span class="c5">password.</span></p><p class="c3"><span class="c5">The account can be</span></p><p class="c3"><span class="c5">accessed remotely if</span></p><p class="c3"><span class="c5">set to True.</span></p><p class="c3"><span class="c5">Others can use su to</span></p><p class="c3"><span class="c5">access this account</span></p><p class="c3"><span class="c5">if set to True.</span></p><p class="c3"><span class="c5">admin</span></p><p class="c3"><span class="c5">expires</span></p><p class="c3"><span class="c5">histexpire</span></p><p class="c3"><span class="c5">histsize</span></p><p class="c3"><span class="c5">login</span></p><p class="c3"><span class="c5">maxage</span></p><p class="c3"><span class="c5">minage</span></p><p class="c8"><span class="c5">rlogin su </span></p><p class="c3"><span class="c5">For a full listing of all parameters, look in your AIX system</span></p><p class="c3"><span class="c5">under /etc/security/user.</span></p><p class="c3"><span class="c5">maxexpired</span></p><p class="c3"><span class="c5">Defines the maximum time (in weeks) beyond the maxage value that a user can change an expired password. After this defined time, only an administrative user can change the password. The value is a decimal</span></p><p class="c3"><span class="c5">integer string. The default is -1, indicating restriction is set. If</span></p><p class="c3"><span class="c5">the maxexpired attribute is 0, the password expires when the maxage</span></p><p class="c3"><span class="c5">value is met. If the maxage attribute is 0, the maxexpired attribute</span></p><p class="c3"><span class="c5">is ignored. Range: 0 to 52 (a root user is exempt from maxexpired)</span></p><p class="c3"><span class="c4">/usr/lib/security/mkuser.default</span></p><p class="c8"><span class="c5">The /usr/lib/security/mkuser.default file contains values used when creating a new AIX user through mkuser.</span><span class="c5 c53">Listing5</span><span class="c5">provides an example of </span></p><p class="c3"><span class="c5">what the file may look like on your system.</span></p><p class="c3"><span class="c5">Listing 5. Example /usr/lib/security/mkuser.default file</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 39.20px; height: 1.53px;"><img alt="" src="images/image79.png" style="width: 39.20px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 10.73px; height: 1.53px;"><img alt="" src="images/image118.png" style="width: 10.73px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 623.07px; height: 54.13px;"><img alt="" src="images/image117.png" style="width: 623.07px; height: 54.13px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c5">user: pgrp = staff groups = staff shell = /usr/bin/ksh home =</span></p><p class="c3"><span class="c5">/home/$USER admin: pgrp = system groups = system shell =</span></p><p class="c3"><span class="c5">/usr/bin/ksh home = /home/$USER</span></p><p class="c3"><span class="c5">Many more parameters can be defined in this file. To view the full</span></p><p class="c3"><span class="c5">list, look at man chuser</span></p><p class="c8"><span class="c4">xargs:</span><span class="c12">&nbsp;</span><span class="c4">-n will pull the first field</span><span class="c12">&nbsp;</span><span class="c4">-t echo&#39;s the command to be ran</span><span class="c12">&nbsp;</span><span class="c4">-p asks if you want to run command</span><span class="c12">&nbsp;</span><span class="c4">-i iterates thru the parameters one at a time(without it put all hdisks on one line(from example below))</span><span class="c12">&nbsp;</span><span class="c4">{} is the result of the commands piped thru to xargs</span><span class="c12">&nbsp;</span><span class="c5">lspv|grep power|grep none|awk &#39;{print $1}&#39;| xargs -t -i bootinfo -s {}</span><span class="c11">&nbsp;</span><span class="c5">find . -depth -print | xargs grep 443</span><span class="c11">&nbsp;</span><span class="c5">find /tmp \( -type f -o -type l \) -mtime -1 | xargs tar -cvf - {} | gzip &gt; /tmp/tony.tar.gz </span></p><p class="c8"><span class="c4">The </span><span class="c4 c15">find </span><span class="c4">command:</span><span class="c12">&nbsp;</span><span class="c5">-mtime is for number of days ie: -mtime +2 (modified time greater than 2 days)</span><span class="c11">&nbsp;</span><span class="c5">-mmin is for number of minutes ie: -mmin +240 (modified time greater than 4 hours)</span><span class="c11">&nbsp;</span><span class="c5">This syntax will find ONLY in the directory:</span><span class="c11">&nbsp;</span><span class="c5">find /mnt1 \( ! -name mnt1 -prune \) -name &quot;pbsxis00017*&quot; -mtime +14 -exec ls -al {} \;</span><span class="c11">&nbsp;</span><span class="c4">or you can wildcard in the ls command: </span><span class="c5">ls *pbs*</span><span class="c11">&nbsp;</span><span class="c5">to search all files in a dir and grep for something:</span><span class="c11">&nbsp;</span><span class="c5">find . -print | xargs -i egrep -l &#39;search text&#39; {}| xargs -i ls -l {} </span></p><p class="c8"><span class="c4">tar command: </span></p><p class="c3"><span class="c5">c=create v=verbose f=filename t=view</span></p><p class="c3"><span class="c4">Create a tarball with multiple files:</span></p><p class="c8"><span class="c5">tar cvf &lt;tarball_name&gt; &lt;file1&gt; &lt;file2&gt; &lt;etc&gt;</span><span class="c11">&nbsp;</span><span class="c6 c5">tar cvf &lt;tarball_name&gt; `some command` (ie. `ls patrol*`) </span></p><p class="c8"><span class="c4">View files in tarball:</span><span class="c12">&nbsp;</span><span class="c5">tar vtf &lt;tarball&gt;</span></p><p class="c8"><span class="c4">Extract files in tarball:</span><span class="c12">&nbsp;</span><span class="c6 c5">tar xvf &lt;tarball&gt;</span></p><p class="c8"><span class="c4">Extract files to a specific directory: </span><span class="c5">tar xvf &lt;tarball&gt; -C &lt;path&gt;</span></p><p class="c8"><span class="c4">Tar up all home directories listed in a file:</span><span class="c12">&nbsp;</span><span class="c5">cat list.txt|xargs tar cf archive.tar</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c4">Redirecting:</span><span class="c12">&nbsp;</span><span class="c5">uncompress &lt; perfdata_1_88630.49r.tar | tar -tvf-vswitch </span></p><p class="c8"><span class="c5">KORN KORN KORN SHELL SCRIPTING </span></p><p class="c8"><span class="c5">HUP (hangup), the signal the shell sends to all of your background processes when you log out.</span><span class="c23 c46">&nbsp;</span></p><p class="c8"><span class="c4">Built in korn shell debugger:</span></p><p class="c8"><span class="c23 c46">ksh -n &lt;korn_shell_script&gt;</span></p><p class="c8"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8"><span class="c6 c4">Print tabs in your output:</span></p><p class="c8"><span class="c5">echo -e ${i}\t$(ssh $i oslevel -s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c4">Script Logging:</span></p><p class="c8"><span class="c5"># Enable/Disable logging by uncommenting/commenting the following line</span></p><p class="c8"><span class="c5">exec &gt; ${LOG} 2&gt;&amp;1 # Log everything to log file</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c23 c21">str = pat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string DOES match pattern</span></p><p class="c8"><span class="c23 c21">&nbsp;str != pat &nbsp;string does NOT match pattern</span></p><p class="c8"><span class="c23 c21">&nbsp;str1 &lt; str2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string1 is less than string2</span></p><p class="c8"><span class="c23 c21">&nbsp;str1 &gt; str2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string1 is greater than string2</span></p><p class="c8"><span class="c23 c21">&nbsp;-n str&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string in NOT null(length &gt; 0) </span></p><p class="c8"><span class="c23 c21">-z str string is null(has 0 length) </span></p><p class="c8"><span class="c52 c50 c21">KORN KORN KORN SHELL SCRIPTING: </span></p><p class="c8"><span class="c2">$? exit status of last command</span></p><p class="c8"><span class="c2">$$ PID of current program</span></p><p class="c8"><span class="c2">$! PID of last background job</span></p><p class="c8"><span class="c2">$# Number of command line arguments $0 program line and path </span></p><p class="c8"><span class="c6 c2">$* expands to positional parameters starting at $1</span></p><p class="c8"><span>When the expansion occurs within double quotes, it expands to a single word with the value of each parameter separated by the first character of the </span><span class="c50">IFS</span><span>&nbsp;special variable. That is, &quot;</span><span class="c50">$*</span><span>&quot; is equivalent to &quot;</span><span class="c50">$1</span><span class="c15">c</span><span class="c50">$2</span><span class="c15">c</span><span class="c50">...</span><span>&quot;, where </span><span class="c15">c</span><span>&nbsp;is the first character of the value of the </span><span class="c50">IFS</span><span>&nbsp;variable. If </span><span class="c50">IFS</span><span>&nbsp;is unset, the parameters are separated by spaces. If </span><span class="c50">IFS</span><span class="c0">&nbsp;is null, the parameters are joined without intervening separators</span></p><p class="c8"><span class="c6 c23 c21">$@ expands to positional parameters acting like seperate parms </span></p><p class="c8"><span>When the expansion occurs within double quotes, each parameter expands to a separate word. That is, &quot;</span><span class="c50">$@</span><span>&quot; is equivalent to &quot;</span><span class="c50">$1</span><span>&quot; &quot;</span><span class="c50">$2</span><span>&quot; ... When there are no positional parameters, &quot;</span><span class="c50">$@</span><span>&quot; and </span><span class="c50">$@</span><span>&nbsp;expand to nothing</span></p><p class="c8"><span class="c6 c23 c21">$# expands to the number of positional parameters</span></p><p class="c8"><span class="c6 c23 c21">$? Expands to the exit status of the last command</span></p><p class="c8"><span class="c6 c23 c21">$$ expands to the PID. In subshell is also expands to PID not subshell PID</span></p><p class="c8"><span class="c6 c23 c21">$0 expands to the name of the shell or shell script</span></p><p class="c8"><span class="c6 c52 c50 c21">Expansion:</span></p><p class="c8"><span class="c6 c23 c21">Brace expansion: occurs BEFORE ANY OTHER modification to the command line</span></p><p class="c8"><span class="c6 c23 c21">Tilde expansion: ~ is replaced with the full path in the HOME variable. ~+ is replaced with the current working directory. ~- is replaced with the most recent previous working directory</span></p><p class="c8"><span class="c6 c23 c21">Parameter expansion: expanding anything that begins with a $</span></p><p class="c8"><span class="c6 c23 c21">Backquote expansion: $(command) and `command` are equivalent. Except escapes are not required for special characters</span></p><p class="c8 c29"><span class="c6 c23 c21"></span></p><p class="c8"><span class="c6 c23 c21">Tricks with parameter expansion:</span></p><p class="c8"><span class="c6 c23 c21">${!LE*} gives a list of all variables that begin with LE</span></p><p class="c8"><span class="c52 c50 c21">Conditional Tests:</span><span class="c50 c21 c82">&nbsp;</span><span class="c52 c50 c21">Use [[ condition ]] when you are comparing or testing a file attribute.</span><span class="c50 c21 c82">&nbsp;</span><span class="c23 c21">[[ condition ]] is actually a statement just like any other, except that the only thing it does is return an exit status that tells whether condition is true or not</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">construct: if [[ &lt;some_condition&gt; ]];then</span><span class="c20 c21">&nbsp;</span><span class="c52 c50 c21">String comparison operators:</span><span class="c50 c21 c82">&nbsp;</span><span class="c23 c21">str = string pat = pattern </span></p><p class="c8"><span class="c23 c21">if [[ -z $(lsb_release --d) ]];then</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">echo lsb_release --d returned zero length else</span><span class="c20 c21">&nbsp;</span><span class="c21 c23">echo lsb_release --d returned length &gt; 0 fi </span></p><p class="c8"><span class="c23 c21">The Korn shell also accepts the external [] and test commands. The [[ ]] construct has many more options and is better integrated into the Korn shell language: specifically, word splitting and wildcard expansion aren&#39;t done within [[ and ]], making quoting less necessary. </span></p><p class="c8"><span class="c52 c50 c21">omit the [[ ]] when you are NOT comparing or testing a file attribute: </span></p><p class="c8"><span class="c23 c21">if grep -q root /etc/passwd &amp;&amp; cd /tmp;then echo commands were successful </span></p><p class="c8"><span class="c23 c21">else</span><span class="c20 c21">&nbsp;</span><span class="c6 c23 c21">echo commands failed fi </span></p><p class="c8"><span class="c6 c23 c21">print &ldquo;\t\t\t\tPASSED&rdquo;</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c52 c50 c21">String operators:</span><span class="c50 c21 c82">&nbsp;</span><span class="c52 c50 c21">Special syntax inserted between variable name and right curly bracket </span></p><p class="c8"><span class="c23 c21">${varname:-word} If varname exists and isn&#39;t null, return its value; otherwise </span><span class="c52 c50 c21">RETURNS </span><span class="c23 c21">word.</span><span class="c20 c21">&nbsp;</span><span class="c52 c50 c21">Purpose</span><span class="c23 c21">: Returning a default value if the variable is undefined.</span><span class="c20 c21">&nbsp;</span><span class="c52 c50 c21">Example</span><span class="c23 c21">: ${count:-0} evaluates to 0 if count is undefined. </span></p><p class="c8"><span class="c23 c21">${varname:=word} If varname exists &amp; not null, return its value; otherwise </span><span class="c52 c50 c21">SETS </span><span class="c23 c21">it to word &amp; then return its value</span><span class="c20 c21">&nbsp;</span><span class="c52 c50 c21">Purpose</span><span class="c23 c21">: Setting a variable to a default value if it is undefined.</span><span class="c20 c21">&nbsp;</span><span class="c52 c50 c21">Example</span><span class="c23 c21">: ${count:=0} </span><span class="c52 c50 c21">SETS </span><span class="c23 c21">count to 0 if it is undefined. </span></p><p class="c8"><span class="c23 c21">${varname:?message} If varname exists and isn&#39;t null, return its value; otherwise print varname: followed by message, and </span><span class="c52 c50 c21">ABORT </span><span class="c23 c21">the current command or script. Omitting message produces the default message parameter null or not set.</span><span class="c20 c21">&nbsp;</span><span class="c52 c50 c21">Purpose</span><span class="c23 c21">: Catching errors that result from variables being undefined. </span></p><p class="c8"><span class="c52 c50 c21">Example</span><span class="c23 c21">: {count:?&quot; undefined!&quot; } prints &quot;count: undefined!&quot; and </span><span class="c52 c50 c21">EXITS </span><span class="c23 c21">if count is undefined </span></p><p class="c8"><span class="c23 c21">${varname:+word} If varname exists and isn&#39;t null, return word; otherwise return null. </span><span class="c52 c50 c21">Purpose</span><span class="c23 c21">: Testing for the existence of a variable.</span><span class="c20 c21">&nbsp;</span><span class="c52 c50 c21">Example</span><span class="c23 c21">: ${count:+1} returns 1 (which could mean &quot;true&quot;) if count is defined. </span></p><p class="c8"><span class="c52 c50 c21">Testing for the existence of a variable. </span></p><p class="c8"><span class="c23 c21">${varname:+word} If varname exists and isn&#39;t null, return word; otherwise return null i.e.</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">${count:+1} returns 1 (which could mean &quot;true&quot;) if count is defined </span></p><p class="c8"><span class="c6 c23 c21">exported variables ARE KNOWN to the subshell </span></p><p class="c8 c29"><span class="c6 c23 c21"></span></p><p class="c27 c7"><span class="c6 c23 c21">$variable -ne&nbsp;number</span></p><p class="c27 c7 c104"><span class="c6 c23 c21">True if&nbsp;$variable, interpreted as a number, is&nbsp;not&nbsp;equal to&nbsp;number.<br>Similarly,&nbsp;-lt&nbsp;= less than,&nbsp;-le&nbsp;= less than or equal,&nbsp;-gt&nbsp;= greater than,&nbsp;-ge&nbsp;= greater than or equal</span></p><p class="c8 c29"><span class="c6 c23 c21"></span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c6 c52 c50 c21">simple testing of last execution result:</span></p><p class="c8"><span class="c6 c23 c71">if [ $? &ndash;eq 0 ];then</span></p><p class="c8"><span class="c6 c23 c71">echo yes $? Is zero</span></p><p class="c8"><span class="c6 c23 c71">else</span></p><p class="c8"><span class="c6 c23 c71">echo no, not zero</span></p><p class="c8"><span class="c6 c23 c71">fi</span></p><p class="c8"><span class="c6 c52 c50 c21">File Tests:</span></p><p class="c8"><span class="c6 c23 c21">-e file #True if file exists(can be of any type)</span></p><p class="c8"><span class="c6 c23 c21">-f file #True if file exists and is an ordinary file</span></p><p class="c8"><span class="c6 c23 c21">-r file #True if file exists and is readable</span></p><p class="c8"><span class="c6 c23 c21">-w file #Writable</span></p><p class="c8"><span class="c6 c23 c21">-x file #Executable</span></p><p class="c8"><span class="c6 c23 c21">-L file # is a symlink</span></p><p class="c8"><span class="c6 c23 c21">-s file #True if file exists and size &gt; 0</span></p><p class="c8 c29"><span class="c6 c23 c21"></span></p><p class="c8"><span class="c6 c52 c50 c21">Character string tests:</span></p><p class="c8"><span class="c6 c23 c21">-n &ldquo;string&rdquo; #True if string has non-zero length</span></p><p class="c8"><span class="c6 c23 c21">-z &ldquo;string&rdquo; #True if string has zero length</span></p><p class="c8"><span class="c52 c50 c21">I/O redirection: </span></p><p class="c8"><span class="c23 c21">stdin 0 stdout 1 stderr 2 </span></p><p class="c8"><span class="c23 c21">2&gt;&amp;1 # Redirects stderr to stdout</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">0&lt; FILENAME # Accept input from a file. </span></p><p class="c8"><span class="c23 c21">1&gt;filename # Redirect stdout to file hostfilename </span></p><p class="c8"><span class="c52 c50 c21">Test conditions </span></p><p class="c8"><span class="c23 c21">if command ran successfully then</span></p><p class="c8"><span class="c23 c21">normal processing</span></p><p class="c8"><span class="c23 c21">else </span></p><p class="c8"><span class="c6 c23 c21">error processing fi awk a </span></p><p class="c8 c29"><span class="c6 c23 c21"></span></p><p class="c8"><span class="c6 c23 c21">if [[ $(whoami) != &quot;root&quot; ]]</span></p><p class="c8"><span class="c6 c23 c21">then</span></p><p class="c8"><span class="c6 c23 c21">&nbsp; &nbsp; &nbsp; &nbsp; echo &quot;This script must be run by user root.&quot;</span></p><p class="c8"><span class="c6 c23 c21">&nbsp; &nbsp; &nbsp; &nbsp; exit 1</span></p><p class="c8"><span class="c6 c23 c21">fi</span></p><p class="c8"><span class="c52 c50 c21">getting the length of a variable: </span></p><p class="c8"><span class="c23 c21">$ TEST=asad</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">$ echo $TEST asad</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">$ echo ${#TEST} 4 </span></p><p class="c8"><span class="c52 c50 c21">arrays: </span></p><p class="c8"><span class="c23 c21">set -A &lt;variable&gt; &lt;item&gt; ... </span></p><p class="c8"><span class="c50 c21 c52">recall all elements in an array: </span></p><p class="c3"><span class="c23 c21">for (( i=0; i&lt;${#numbers[@]}; i++ )); do echo $</span></p><p class="c3"><span class="c23 c21">{numbers[i]}; done</span></p><p class="c3"><span class="c23 c21">echo</span></p><p class="c3"><span class="c23 c21">printf &quot;%s\n&quot; &quot;${lines[@]}&quot;</span></p><p class="c8"><span class="c52 c50 c21">Read STDIN and execute: </span></p><p class="c8"><span class="c23 c21">while read LINE; do</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">echo &ldquo;${LINE}&rdquo; # do something with it here </span></p><p class="c8"><span class="c6 c23 c21">done </span></p><p class="c8"><span class="c23 c21">If you are using a while read and executing ssh commands make sure you add ssh &ndash;n so that all the lines in your input file are read through. &ndash;n </span></p><p class="c8"><span class="c52 c50 c21">Underline output: </span></p><p class="c8"><span class="c23 c21">you HAVE TO use the printf command turns underling ON: printf &#39;\e[4m&#39; turns underling OFF: printf &#39;\e[0m&#39;</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">so to underline this output: </span></p><p class="c8"><span class="c23 c21">printf &quot;\e[4m%20s\t%-30s\t%s\n\e[0m&quot; &quot;vswitch name&quot; &quot;vlans carried&quot; &quot;switch mode&quot; </span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c6 c23 c21">echo &ldquo;Some text \c&rdquo; the \c will not insert a return character</span></p><p class="c8"><span class="c6 c52 c50 c21">Very nice output prepending output with the hostname:</span></p><p class="c8"><span class="c6 c23 c21">for i in $(&lt; all_lpars);do ssh -n $i &#39;last|grep -i -e mercury -e ddmiadmi -e patagt -e sitescope|while read line;do echo `uname -n`\| $line;done&#39; &gt;&gt; ~/last_command.csv</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c23 c72">Scripts</span><span class="c5">&nbsp;</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c23 c21">Funso...use of tail in splitting a field</span></p><p class="c3"><span class="c23 c21">for i in $(lsdev -C -t mpioosdisk -r name)</span></p><p class="c3"><span class="c23 c21">do</span></p><p class="c3"><span class="c23 c21">lscfg -vl ${i} | egrep &quot;Machine|ROS|Number&quot; | cut -c37- | xargs | read a b c</span></p><p class="c3"><span class="c23 c21">echo &quot;$(hostname) ${i} ${a} ${b} `echo ${c} | tail -c5`&quot;</span></p><p class="c3"><span class="c23 c21">done</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3"><span class="c6 c52 c50 c21">Gather information from HMCs:</span></p><p class="c3"><span class="c6 c23 c21">Put the commands into frame_firmware_cmd file that you want to gather from the HMCs</span></p><p class="c3"><span class="c23 c21">&#8203;&#8203;</span><span class="c6 c23 c21">#!/usr/bin/ksh</span></p><p class="c24"><span class="c6 c23 c21"># Written by John Tucker</span></p><p class="c24"><span class="c6 c23 c21"># July 27 2021</span></p><p class="c24"><span class="c6 c23 c21">################################</span></p><p class="c24"><span class="c6 c23 c21">&nbsp;</span></p><p class="c24"><span class="c6 c23 c21">#Gather frames from all HMCs. If there are new HMCs then update the all_hmcs file</span></p><p class="c24"><span class="c6 c23 c21">rm ~/frames.out</span></p><p class="c24"><span class="c6 c23 c21">rm ~/uniq_frames.out</span></p><p class="c24"><span class="c6 c23 c21">for i in $(&lt; all_hmcs)</span></p><p class="c24"><span class="c6 c23 c21">do</span></p><p class="c24"><span class="c6 c23 c21">cat frame_firmware_cmd | ssh -T hscroot@$i &gt;&gt; ~/frames.out</span></p><p class="c24"><span class="c6 c23 c21">done</span></p><p class="c24"><span class="c6 c23 c21">echo &quot;Frame &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FirmwareVersion&quot; &gt; ~/uniq_frames.out</span></p><p class="c24"><span class="c6 c23 c21">sort -n ~/frames.out|uniq &gt;&gt; ~/uniq_frames.out</span></p><p class="c24"><span class="c6 c23 c21">cat ~/uniq_frames.out</span></p><p class="c24 c29"><span class="c6 c23 c21"></span></p><p class="c24"><span class="c6 c23 c21">or Victor Walters version:</span></p><p class="c24 c29"><span class="c6 c23 c21"></span></p><p class="c24"><span class="c6 c23 c21">for HMC in den3-hmc05 den3-hmc06 den4-hmc01 den4-hmc02 den4p6hmcu01 den6p5hmcu01 sea-hmc07 sea-hmc08 ;do</span></p><p class="c24"><span class="c6 c23 c21">for FRAME in `ssh ${HMC} &#39;lssyscfg -r sys -F name&#39;` ;do</span></p><p class="c24"><span class="c6 c23 c21">print &quot;${FRAME} has firmware level `ssh -T ${HMC} lslic -m ${FRAME} -F activated_spname installed_level ecnumber`&quot;</span></p><p class="c24"><span class="c23 c21">done ;done</span></p><p class="c3 c29"><span class="c0"></span></p><p class="c3 c29"><span class="c0"></span></p><p class="c8"><span class="c4">diskmap script:</span><span class="c12">&nbsp;</span><span class="c4">[root@cgvio03a]:/home/padmin# cat diskmap</span><span class="c6 c12">&nbsp;</span></p><p class="c8"><span class="c5">#!/bin/ksh</span><span class="c11">&nbsp;</span><span class="c5">PATH=$PATH:/usr/ios/cli</span><span class="c11">&nbsp;</span><span class="c5">#</span><span class="c11">&nbsp;</span><span class="c5"># Go grab all the LUN and vhost information for recovery</span><span class="c11">&nbsp;</span><span class="c5"># purposes.. This script runs on VIOS only, must be run</span><span class="c11">&nbsp;</span><span class="c5"># as ROOT (oem_setup_env)...</span><span class="c11">&nbsp;</span><span class="c5">#</span><span class="c11">&nbsp;</span><span class="c5"># Daryl Scott - IBM June 1, 2007</span><span class="c11">&nbsp;</span><span class="c5">#</span><span class="c11">&nbsp;</span><span class="c5">typeset -L12 VIOS</span><span class="c11">&nbsp;</span><span class="c5">typeset -L7 VHOST</span><span class="c11">&nbsp;</span><span class="c5">typeset -L28 VHOST_CONN</span><span class="c11">&nbsp;</span><span class="c5">typeset -L14 VTD</span><span class="c11">&nbsp;</span><span class="c5">typeset -L20 LUN</span><span class="c11">&nbsp;</span><span class="c5">typeset -L20 DEV</span><span class="c11">&nbsp;</span><span class="c5">echo &quot; &quot;</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;Hostname Vhost Vhost Connection VTarget Name IOS LUN Phy Device&quot;</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;-------------------------------------------------------------------- ----------------------------&quot;</span><span class="c11">&nbsp;</span><span class="c5">VIOS=`hostname -s`</span><span class="c11">&nbsp;</span><span class="c5">for VHOST in `lsdev -Cc adapter|grep vhost |awk &#39;{print $1}&#39;`</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">VHOST_CONN=`lscfg -vl $VHOST |head -1 | awk &#39;{print $2}&#39;`</span><span class="c11">&nbsp;</span><span class="c5">for VTD in `lsdev -C -p $VHOST |awk &#39;{print $1}&#39;`</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">LUN=`lsattr -El $VTD -a LogicalUnitAddr | awk &#39;{print $2}&#39;` DEV=`lsattr -El $VTD -a aix_tdev | awk &#39;{print $2}&#39;`</span><span class="c11">&nbsp;</span><span class="c5">print &quot;$VIOS $VHOST $VHOST_CONN $VTD $LUN $DEV&quot;</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c3"><span class="c4">Script to pull State of SEA as oem_setup_env:</span></p><p class="c3"><span class="c5">for i in `lsdev -Cc adapter|grep Sha|awk &#39;{print $1}&#39;`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo ${i}:</span></p><p class="c3"><span class="c5">entstat -d $i|egrep &quot;State|High Availability&quot;|egrep -v &quot;Actor|</span></p><p class="c3"><span class="c5">Partner&quot;</span></p><p class="c3"><span class="c5">echo &quot;***********************************&quot;</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">OR</span></p><p class="c3"><span class="c5">(This is the seastate command I created for State of California,ln -s</span></p><p class="c3"><span class="c5">/home/padmin/sea_state /usr/bin/seastate)</span></p><p class="c3"><span class="c5">#!/bin/ksh</span></p><p class="c3"><span class="c5">for i in `lsdev -Cc adapter|grep Shared|awk &#39;{print $1}&#39;`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo &quot;*****************************************&quot;</span></p><p class="c3"><span class="c5">echo $i</span></p><p class="c3"><span class="c5">entstat -d $i|egrep &quot;Control Channel Adapter|Real Adapter|Virtual</span></p><p class="c3"><span class="c5">Adapter|High|Active|State&quot;|egrep -v &quot;Switch|Invalid|Tran|Actor|</span></p><p class="c3"><span class="c5">Partner|LACP&quot;</span></p><p class="c3"><span class="c5">done</span></p><p class="c8"><span class="c4">What EMC hdiskpower devices are NOT assigned?(with their LUN ID and size displayed &amp; reserve lock):</span><span class="c12">&nbsp;</span><span class="c4">[root@cgvio03a]:/home/padmin# </span><span class="c5">cat unused_disks.sh PATH=$PATH:/usr/ios/cli </span></p><p class="c8"><span class="c5">clear</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;|----------------------------------|&quot;</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;|hdiskpower NOT assigned to vhosts:|&quot;</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;|Assign LUNs based on middle column|&quot;</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;|----------------------------------|&quot;</span><span class="c11">&nbsp;</span><span class="c5">ioscli lsmap -all | grep ^Backing|awk &#39;{print $3}&#39; &gt; lsmap.txt for x in `lspv | grep power|awk &#39;{print $1}&#39;`</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">grep -q $x lsmap.txt</span><span class="c11">&nbsp;</span><span class="c5">if [ $? -eq 1 ]</span><span class="c11">&nbsp;</span><span class="c5">then</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;$x &quot; `/usr/sbin/powermt display dev=$x | grep Logical | awk &#39;{print $4,$5}&#39;` &quot; &quot;`bootinfo -s $x` &quot;LOCK &quot;`ioscli lsdev -dev $x -attr|grep reserve|awk &#39;{print $2}&#39;`&quot; PVID &quot;`ioscli lsdev -dev $x -attr|grep Physical|awk &#39;{print $2}&#39;`</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c5">rm lsmap.txt</span><span class="c11">&nbsp;</span><span class="c4">(BONUS: ln -s /home/padmin/unused_disks.sh /usr/bin/avail) </span></p><p class="c3"><span class="c4">Total Disk allocation to VIOC using EMC disks:</span></p><p class="c3"><span class="c5">#!/bin/ksh</span></p><p class="c3"><span class="c5">PATH=$PATH:/usr/ios/cli</span></p><p class="c3"><span class="c5">#</span></p><p class="c3"><span class="c5"># Lists and adds up disks allocated to LPARs</span></p><p class="c3"><span class="c5"># This script runs on VIOS only, must be run</span></p><p class="c3"><span class="c5"># as ROOT (oem_setup_env)...</span></p><p class="c3"><span class="c5">#</span></p><p class="c3"><span class="c5"># Daryl Scott - IBM June 1, 2007</span></p><p class="c3"><span class="c5"># Modified by John Tucker - IBM Apr 20, 2011</span></p><p class="c3"><span class="c5">NORM=&quot;\033[0m&quot;</span></p><p class="c3"><span class="c5">RED=&quot;\033[0;31m&quot;</span></p><p class="c3"><span class="c5">UNDERLINE=&quot;\033[4m&quot;</span></p><p class="c3"><span class="c5">BOLD=&quot;\033[1m&quot;</span></p><p class="c3"><span class="c5">TOT=0</span></p><p class="c3"><span class="c5">typeset -L7 VHOST</span></p><p class="c3"><span class="c5">typeset -L14 VTD</span></p><p class="c3"><span class="c5">typeset -L12 DEV</span></p><p class="c3"><span class="c5">typeset -L33 SIZ</span></p><p class="c3"><span class="c5">echo &quot; &quot;</span></p><p class="c3"><span class="c5">echo &quot;Vhost &nbsp;VTarget Name &nbsp;Phy Device Disk Size&quot;</span></p><p class="c3"><span class="c5">echo &quot;-----------------------------------------&quot;</span></p><p class="c3"><span class="c5">for VHOST in `lsdev -Cc adapter|grep vhost |awk &#39;{print $1}&#39;`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">for VTD in `lsdev -C -p $VHOST |awk &#39;{print $1}&#39;`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">DEV=`lsattr -El $VTD -a aix_tdev | awk &#39;{print $2}&#39;`</span></p><p class="c3"><span class="c5">SIZ=`bootinfo -s $DEV`</span></p><p class="c3"><span class="c5">TOT=`expr $TOT + $SIZ`</span></p><p class="c3"><span class="c5">print &quot;$VHOST $VTD $DEV $SIZ&quot;</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">print &quot;\th Total Allocated ${RED}${UNDERLINE}${BOLD}${TOT}MB$</span></p><p class="c3"><span class="c5">{NORM}&quot;</span></p><p class="c3"><span class="c5">TOT=0</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">Script to check NIC ports:(by Federico Tomas Gimenez Molinelli)</span></p><p class="c3"><span class="c5">for i in 0 1 2 3</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo ENT$i</span></p><p class="c3"><span class="c5">chdev -l en$i -a state=up &gt;/dev/null 2&gt;&amp;1</span></p><p class="c3"><span class="c5">sleep 1</span></p><p class="c3"><span class="c5">lscfg -l ent$i</span></p><p class="c3"><span class="c5">tcpdump -nn -vvv -i en$i -s 1500 -c 1 &#39;ether[20:2] == 0x2000&#39;</span></p><p class="c3"><span class="c5">2&gt;/dev/null | egrep &quot;Device-ID|Port-ID|Native VLAN ID|System Name&quot;</span></p><p class="c3"><span class="c5">chdev -l en$i -a state=down &gt;/dev/null 2&gt;&amp;1</span></p><p class="c3"><span class="c5">sleep 1</span></p><p class="c3"><span class="c5">rmdev -l en$i &gt;/dev/null 2&gt;&amp;1</span></p><p class="c3"><span class="c5">echo &quot;*************************&quot;</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">Pulling HEA Ethernet NIC info:(Aaron Dunphy)</span></p><p class="c3"><span class="c2">[disops3][/axphome/adunph]&gt; cat scripts/ls_aix_network_adapters.sh</span></p><p class="c3"><span class="c5">#!/bin/ksh</span></p><p class="c3"><span class="c5">HEA=`lsvpd | grep -i -e cc -e fc | grep -i -e 266d -e 266e -e 266f |</span></p><p class="c3"><span class="c5">sed &#39;s/^[ \t]*//g&#39; | sed &#39;s/[ \t]*$//g&#39;`</span></p><p class="c3"><span class="c5">if [ &quot;$HEA&quot; == &quot;*CC 266D&quot; ]</span></p><p class="c3"><span class="c5">then</span></p><p class="c3"><span class="c5">&nbsp;echo &quot;4-port 1Gb Copper&quot;</span></p><p class="c3"><span class="c5">elif [ &quot;$HEA&quot; == &quot;*CC 266E&quot; ]</span></p><p class="c3"><span class="c5">then</span></p><p class="c3"><span class="c5">&nbsp;echo &quot;Dual 10Gb Fiber&quot;</span></p><p class="c3"><span class="c5">elif [ &quot;$HEA&quot; == &quot;*CC 266F&quot; ]</span></p><p class="c3"><span class="c5">then</span></p><p class="c3"><span class="c5">&nbsp;echo &quot;Dual 10Gb Copper&quot;</span></p><p class="c3"><span class="c5">else</span></p><p class="c3"><span class="c5">&nbsp;echo &quot; --- No HEA found on this partition --- &quot;</span></p><p class="c3"><span class="c5">fi</span></p><p class="c8"><span class="c5">echo &quot; &quot; </span></p><p class="c3"><span class="c5">echo &quot;Checking network adapters...&quot;</span></p><p class="c3"><span class="c5">lsdev -Cc adapter | grep ent</span></p><p class="c3"><span class="c5">echo &quot; &quot;</span></p><p class="c3"><span class="c5">ECHANS=`lsdev -Cc adapter | grep ent | grep -i etherchannel | awk</span></p><p class="c3"><span class="c5">&#39;{print $1}`</span></p><p class="c3"><span class="c5">echo &quot;Checking EtherChannel membership...&quot;</span></p><p class="c3"><span class="c5">printf &quot;%-6s %-20s %-20s %-6s\n&quot; &quot;EC&quot; &quot;Primary Adapter(s)&quot; &quot;Backup</span></p><p class="c3"><span class="c5">Adapter(s)&quot; &quot;Mode&quot;</span></p><p class="c3"><span class="c5">printf &quot;\033[31m&quot;</span></p><p class="c3"><span class="c5">for i in `echo $ECHANS`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">&nbsp;var=`lsattr -El $i | grep -i adapter_names | awk &#39;{print $2}&#39;`</span></p><p class="c3"><span class="c5">&nbsp;var1=`lsattr -El $i | grep -i ^mode | awk &#39;{print $2}&#39;`</span></p><p class="c3"><span class="c5">&nbsp;var2=`lsattr -El $i | grep -i backup_adapter | awk &#39;{print $2}&#39;`</span></p><p class="c3"><span class="c5">&nbsp;printf &quot;%-6s %-20s %-20s %-6s\n&quot; &quot;$i&quot; &quot;$var&quot; &quot;$var2&quot; &quot;$var1&quot;</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">printf &quot;\033[m&quot;</span></p><p class="c3"><span class="c5">echo &quot; &quot;</span></p><p class="c3"><span class="c5">echo &quot;Checking UP interfaces...&quot;</span></p><p class="c3"><span class="c5">UPIF=`ifconfig -a | grep ^en | grep &quot;UP,&quot; | awk &#39;{print $1}&#39;| sed</span></p><p class="c3"><span class="c5">&#39;s/://g&#39;`</span></p><p class="c3"><span class="c5">for i in `echo $UPIF`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">&nbsp;var=`lsattr -El $i | grep &quot;^netaddr &quot; | awk &#39;{print $2}&#39; | grep -i</span></p><p class="c3"><span class="c5">-v internet `</span></p><p class="c3"><span class="c5">&nbsp;printf &quot;\033[31m&quot;</span></p><p class="c3"><span class="c5">&nbsp;printf &quot;$i: &nbsp;$var \n&quot;</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">printf &quot;\033[m&quot;</span></p><p class="c8"><span class="c4">Looking for unused fiber and vscsi mappings: </span></p><p class="c8"><span class="c5">for i in `lssyscfg -r sys -F name`</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">for x in `lssyscfg -r lpar -m $i -F name|grep czapvs|grep -v vs237`</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;frame &quot;$i &quot; vio server :&quot;$x</span><span class="c11">&nbsp;</span><span class="c5">viosvrcmd -m $i -p $x -c &quot;lsmap -all -npiv -field name physloc clntid status &#39;fc name&#39; flags &#39;vfc client name&#39; -fmt :&quot;|grep -v :a:|awk -F: &#39;{print $2}&#39;</span><span class="c11">&nbsp;</span><span class="c5">echo VSCSI </span></p><p class="c8"><span class="c5">viosvrcmd -m $i -p $x -c &quot;lsmap -all -field physloc svsa clientid status -fmt :&quot; done</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c3"><span class="c4">Script to gather current allocations on frames:</span></p><p class="c3"><span class="c5">for i in `lssyscfg -r sys -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo &quot;***** &quot;`echo $i`&quot; **********&quot;</span></p><p class="c3"><span class="c5">lshwres -r proc -m $i --level sys -F curr_avail_sys_proc_units</span></p><p class="c3"><span class="c5">--header</span></p><p class="c3"><span class="c5">lshwres -r mem -m $i --level sys -F curr_avail_sys_mem --header</span></p><p class="c3"><span class="c5">lshwres -r proc -m $i --level lpar -F lpar_name,curr_proc_units</span></p><p class="c3"><span class="c5">--header</span></p><p class="c3"><span class="c5">lshwres -r mem -m $i --level lpar -F lpar_name,curr_mem --header</span></p><p class="c3"><span class="c5">echo &quot;**************************&quot;</span></p><p class="c8"><span class="c5">echo done </span></p><p class="c8"><span class="c4">Check ALL vio servers on ALL frames on a HMC to see if virtual fiber is mapped or not logged in:</span><span class="c12">&nbsp;</span><span class="c5">for i in `lssyscfg -r sys -F name`</span><span class="c11">&nbsp;</span><span class="c5">do </span></p><p class="c3"><span class="c5">for x in `lssyscfg -r lpar -m $i -F name|grep czapvs`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo &quot;frame &quot;$i &quot; vio server :&quot;$x</span></p><p class="c3"><span class="c5">viosvrcmd -m $i -p $x -c &quot;lsmap -all -npiv -field name physloc clntid</span></p><p class="c3"><span class="c5">status &#39;fc name&#39; flags &#39;vfc client name&#39; -fmt :&quot;|grep -v :a:</span></p><p class="c8"><span class="c5">done done </span></p><p class="c8"><span class="c4">How to list all crontab entries for everyone on a box for multiple boxes:Set up dsh. tuck is each box on a line of its own</span><span class="c12">&nbsp;</span><span class="c5">for i in `cat tuck` </span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">for y in `dsh -l ibmtech -n $i sudo ls /var/spool/cron/crontabs|awk</span></p><p class="c3"><span class="c5">&#39;{print $2}&#39;`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo &quot;USER: &quot;$y</span></p><p class="c3"><span class="c5">dsh -l ibmtech -n $i sudo crontab -l $y|dshbak</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">Piping values thru a while read:</span></p><p class="c3"><span class="c5">cat /etc/automount.direct | grep -v nfs | awk &#39;{ print $1 }&#39;| while</span></p><p class="c3"><span class="c5">read i</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">cd $i done </span></p><p class="c3"><span class="c4">piping multiple values through while read:</span></p><p class="c3"><span class="c5">cat CP1vg1|awk &#39;{print $1&quot; &quot;$NF}&#39;|while read LV MP</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">crfs -v jfs2 -d $LV -m $MP -p rw -A yes</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">Using ssh in a while read loop:(or better yet use dsh)</span></p><p class="c3"><span class="c5">make sure to use -n option on ssh to prevent ssh from reading STDIN</span></p><p class="c3"><span class="c5">after first execution.</span></p><p class="c3"><span class="c5">#!/bin/bash</span></p><p class="c3"><span class="c5">while read dir file</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">ssh </span><span class="c5 c14">-n </span><span class="c5">test@192.1.1.1 &quot;ls -tl /$dir/$file&quot;</span></p><p class="c3"><span class="c5">done &lt; /tmp/dirandfile</span></p><p class="c8"><span class="c4">adding entries into the /etc/hosts file from the results of an nslookup:(create phase5_list with host names)</span><span class="c12">&nbsp;</span><span class="c5">for i in `cat ~/phase5_list`</span><span class="c11">&nbsp;</span><span class="c5">do </span></p><p class="c3"><span class="c5">echo &#39;hostent -a &#39;`nslookup $i|grep Add|grep -v \#53|awk &#39;{print</span></p><p class="c3"><span class="c5">$2}&#39;`&#39; -h &nbsp;&#39;\&quot;${i}.crdc.kp.org&#39; &nbsp; &#39;$i\&quot;\;</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">hostent -a 172.22.83.107 -h &nbsp;&quot;czapwa131.crdc.kp.org</span></p><p class="c3"><span class="c5">hostent -a 172.22.83.110 -h &nbsp;&quot;czapwa134.crdc.kp.org</span></p><p class="c3"><span class="c5">hostent -a 172.22.83.113 -h &nbsp;&quot;czapwa137.crdc.kp.org</span></p><p class="c3"><span class="c5">hostent -a 172.22.83.116 -h &nbsp;&quot;czapwa140.crdc.kp.org</span></p><p class="c3"><span class="c4">How many different disk do I have(Jeff Pany):</span></p><p class="c3"><span class="c5">for i in `lsdev -Ct power -F name`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">getconf DISK_SIZE /dev/$i</span></p><p class="c3"><span class="c5">done | sort | uniq -c</span></p><p class="c8"><span class="c5">10</span><span class="c11">&nbsp;</span><span class="c6 c5">59 139402 (59 disks are 139G)</span></p><p class="c8"><span class="c6 c5">703 17425 (703 disks are 17G)</span></p><p class="c8"><span class="c5">1 19 (1 disk is 19M)</span></p><p class="c8"><span class="c5">2 35073 (2 disks are 35G) </span></p><p class="c3"><span class="c4">Mount options: (verifly with </span><span class="c5">lsfs</span><span class="c6 c4">)</span></p><p class="c3"><span class="c6 c5">mount -o remount,noatime /dbX</span></p><p class="c3"><span class="c6 c5">chfs -a options=noatime /dbX</span></p><p class="c3 c29"><span class="c6 c4"></span></p><p class="c3"><span class="c4">List mount point by VG:</span></p><p class="c3"><span class="c5">lsvg | while read VG</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo &quot;disk usage in $VG filesystems: &quot;</span></p><p class="c3"><span class="c5">lsvg -l $VG| awk &#39; !/N\/A|LV|$VG/ { print $7 }&#39; | xargs df -gP</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">czapwa131&quot;;</span></p><p class="c3"><span class="c5">czapwa134&quot;;</span></p><p class="c3"><span class="c5">czapwa137&quot;;</span></p><p class="c3"><span class="c5">czapwa140&quot;;</span></p><p class="c3"><span class="c4">Disk usage per VG:</span></p><p class="c3"><span class="c5">lsvg | while read VG</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">GIGS=$(lsvg -l $VG| awk &#39; !/N\/A|LV|$VG/ { print $7 }&#39; | xargs df -gP</span></p><p class="c3"><span class="c5">| sumcol 3)</span></p><p class="c3"><span class="c5">echo &quot;</span></p><p class="c3"><span class="c5">Estimated disk usage in $VG filesystems is $GIGS GB</span></p><p class="c3"><span class="c5">&quot;</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">get size(GB) from mount points in specific VG:</span></p><p class="c3"><span class="c5">powermt check(a is for all) then run powermt save</span></p><p class="c3"><span class="c4">Check to see if passwordless ssh is working for cfg2user</span></p><p class="c3"><span class="c5">#</span></p><p class="c3"><span class="c5">PASSWORDLESS_SSH=$(ssh -q -o StrictHostKeyChecking=no -o BatchMode=yes -i ~/cfg2user_rsa_id cfg2user@czapdb173 whoami)</span></p><p class="c3"><span class="c5">if [[ ${PASSWORDLESS_SSH} = cfg2user ]]; then</span></p><p class="c3"><span class="c5">echo &quot;zero means success&quot; | tee -a ${SCP_LOG}</span></p><p class="c3"><span class="c5">echo &quot;SSH is working &quot; | tee -a ${SCP_LOG}</span></p><p class="c3"><span class="c5">echo &quot;Creating local key for cfg2user&quot; $? | tee -a ${SCP_LOG}</span></p><p class="c3"><span class="c5">chmod 600 ~/cfg2user_rsa_id</span></p><p class="c3"><span class="c4">ssh back to central server:</span></p><p class="c3"><span class="c5">at kaiser they wanted all aix boxes to scp and ssh up to a central</span></p><p class="c3"><span class="c5">server(db173). The user on db173 is unique in the environment. So on</span></p><p class="c3"><span class="c5">db173 I created a ssh key. I took that private key and put it in the</span></p><p class="c3"><span class="c5">client audit script.</span></p><p class="c3"><span class="c5">echo &quot;-----BEGIN RSA PRIVATE KEY-----</span></p><p class="c3"><span class="c5">MIIEogIBAAKCAQEAvCRWqC2k2fENBNu+v8goL4GxwW4+pVC17E/GCupje/klFOAV</span></p><p class="c3"><span class="c5">UHEuSyRouB3uGg/ErBof5gI67bthwv5DEBNg7RaFEaCqzESfWsXbY6rjGBdTOAtl</span></p><p class="c3"><span class="c5">AthDMrqrdBmsMGHLK02wD0gG6xH4U98bKFjQ1YRm6X0SDbvpr0ISxp+0O4I0gDfz</span></p><p class="c3"><span class="c5">Fpd4TVw++FjomGfM6q3pUJrz5j4hwiQ+/4vIQjke+3O1GbQIVPypyXBRW/5SF2Uy</span></p><p class="c3"><span class="c5">gBntL9Ia8y0uwIcCOlYZumNtxsi2ZhNc6ZOklgL8n3kfY8/AHq+TuoV8swnukClA</span></p><p class="c3"><span class="c5">U+zybPfk8LImwRaHMphlIQkoWI4tupAUOWlj7QIBIwKCAQBF4ZyHm+zF+nKMxqXv</span></p><p class="c3"><span class="c5">djrP0RYjRjSGi7FJJPHJikI1XIodslEPP/tAezzWrAf7DSvK5SHKddtfnV7TZcEj</span></p><p class="c3"><span class="c5">OmXUZ3NBD8ppIM15fLCSu9CxLTwqwmdY0/uzwa1loyKy4n6pryQi7t3/ilTr88hC</span></p><p class="c3"><span class="c5">L54GKd0U5U/ZNyrpUw5JxkpB/IV2yZa1Nxey/chi4TEth/bLD5C8of7Win30t6Xf</span></p><p class="c3"><span class="c5">HE4MmDoSG6tnJMh9N5H+94mpnyC03CHzFkux2/La/rQ/w1NavpsQ6Jf6duuxTo7S</span></p><p class="c3"><span class="c5">aGVOoCSJ2fsAvIg8e5ZYPAxbUQ6nUjEAoqy5OZP9alQ5ZdBEeaK0W6a3He3fbNYi</span></p><p class="c3"><span class="c5">El+LAoGBAPR0ZHNHcFPR+HSZ3Y3LAp0TkNwUXmp92WMjJY9WHC614sdJxRP+0XDB</span></p><p class="c3"><span class="c5">IK12oNXwrTwlsdjWgF+fEbpUm3/FUkoXQW4lTg6Bo0FmAI6TiiUHZ0DGmVzykhLd</span></p><p class="c3"><span class="c5">gPUUHooMFfa68EeAFrrXuqxvjz0NC/UTxWAtg8w9axRagmIzWDwBAoGBAMUHFzjT</span></p><p class="c3"><span class="c5">ktD785ss4f3I9yE+QeoFTVF1jWuCS1OL1KAH95P3FV17WC0HqNW4DaZT373jYq99</span></p><p class="c3"><span class="c5">mJpjIXBQ96JPiU3f/88FGU/xloRKF+taoaniTwq0gTJbkNwAzjFCsZZOo5VN0ddb</span></p><p class="c3"><span class="c5">+Ny2P73DLAbyH9eN2k7mjptB0oVBmeeqVdftAoGBAKegROFVjtpkGBVw0m/bqgVP</span></p><p class="c3"><span class="c5">PsLMI3w5ChgYGcFfnkvqb56Y/Cr34BLNksAW1K/1fhqdgUQ7ULaY9jagaqDB0gbr</span></p><p class="c3"><span class="c5">YBEDoz0lscZx1H8GFZW77wfYo61zIlYUOyu2BlAISZM+W56+O3jOcWBMf3pSFtPw</span></p><p class="c3"><span class="c5">TNQ8d6H+Oswgzm85Jo+LAoGBALnE22F3BsUKz74xoeCniewkwc4E/8HVPDIqZEd1</span></p><p class="c3"><span class="c5">NjB8ilhPXUmC7Ly+FDc4geX3T0yjMSkepdNkx8GrbSQB2TrL4o/9fkQPqyxF3AnK</span></p><p class="c3"><span class="c5">eysl1X8fN/xHtHeo/Oyd9+V9WGgzbhQyJSffCOYea1cBi7ybsJOI7NuHNDR/rl4V</span></p><p class="c3"><span class="c5">oWUvAoGAMdPWYjZVTHFEAgB+LoglHmuvF9nK4aP6dEvM9lsUpS3UxMZhMX4vz6yT</span></p><p class="c3"><span class="c5">FML8uQSQdWjWdQ2qOoQx0lyALxgSSWnepdM9jCnO8LSKNpLZ0aBTliqHbggDQ2N7</span></p><p class="c3"><span class="c5">m8uHa3h78/hvvfcTm1loCrqyHpMfMDduOaU+cecth2ZPsEA37PM=</span></p><p class="c3"><span class="c5">-----END RSA PRIVATE KEY-----&quot; &gt; ~/.ssh/cfg2user_rsa_id</span></p><p class="c3"><span class="c5">chmod 600 ~/.ssh/cfg2user_rsa_id</span></p><p class="c3"><span class="c5">ssh -q -o StrictHostKeyChecking=no -i ~/.ssh/cfg2user_rsa_id</span></p><p class="c3"><span class="c5">cfg2user@czapdb173 &#39;mkdir -p /cmas/LPAR_Reports/LPAR_Reports_$(d</span></p><p class="c3"><span class="c5">ate +%Y%m%d)&#39;| tee -a ${LOG}</span></p><p class="c3"><span class="c5">ssh -q -o StrictHostKeyChecking=no -i ~/.ssh/cfg2user_rsa_id</span></p><p class="c3"><span class="c5">cfg2user@czapdb173 &#39;chmod 770 /cmas/LPAR_Reports/LPAR_Reports_$(</span></p><p class="c3"><span class="c5">date +%Y%m%d)&#39;| tee -a ${LOG}</span></p><p class="c3"><span class="c5">scp -o StrictHostKeyChecking=no -i ~/.ssh/cfg2user_rsa_id</span></p><p class="c3"><span class="c5">&quot;/tmp/CMAS_LPAR_Report_$(hostname)_$(date +%Y%m%d).txt&quot; cfg2user@cz</span></p><p class="c3"><span class="c5">apdb173:/cmas/LPAR_Reports/LPAR_Reports_$(date +%Y%m%d)| tee -a $</span></p><p class="c3"><span class="c5">{LOG}</span></p><p class="c3"><span class="c5">ssh -q -o StrictHostKeyChecking=no -i ~/.ssh/cfg2user_rsa_id</span></p><p class="c3"><span class="c5">cfg2user@czapdb173 &quot;chmod 770 /cmas/LPAR_Reports/LPAR_Reports_$(</span></p><p class="c3"><span class="c5">date +%Y%m%d)/CMAS_LPAR_Report_$(hostname)_$(date +%Y%m%d).txt&quot;| tee</span></p><p class="c3"><span class="c5">-a ${LOG}</span></p><p class="c3"><span class="c5">the -o StrictHostKeyChecking=no avoids the question when you first</span></p><p class="c3"><span class="c5">connect to a server</span></p><p class="c8"><span class="c4">Scripted way of changing Performance Collections on one managed system:</span><span class="c12">&nbsp;</span><span class="c5">for i in `lssyscfg -r lpar -m SAP-p570-5-SN103CD75 -F lpar_id` do </span></p><p class="c3"><span class="c5">echo $i</span></p><p class="c3"><span class="c5">chsyscfg -r lpar -m SAP-p570-5-SN103CD75 -i lpar_id=$</span></p><p class="c3"><span class="c5">{i},allow_perf_collection=1</span></p><p class="c3"><span class="c5">done</span></p><p class="c8"><span class="c4">Scripted way of changing Performance Collections on one entire HMC(all p570&#39;s):</span></p><p class="c8"><span class="c5">for i in `lssyscfg -r sys -F name|grep p570`</span><span class="c11">&nbsp;</span><span class="c5">do </span></p><p class="c3"><span class="c5">for x in `lssyscfg -r lpar -m ${i} -F lpar_id`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo $x</span></p><p class="c3"><span class="c5">chsyscfg -r lpar -m ${i} -i lpar_id=${x},allow_perf_collection=1</span></p><p class="c3"><span class="c5">done</span></p><p class="c8"><span class="c5">done </span></p><p class="c3"><span class="c4">Check condition and then act on it:</span></p><p class="c3"><span class="c5">for i in $(lspv|awk &#39;/diskpower/ {print $1}&#39;)</span></p><p class="c8"><span class="c5">do </span></p><p class="c3"><span class="c5">if [[ $(lsattr -El $i -F value -a reserve_policy) = &quot;single_path&quot; ]]</span></p><p class="c8"><span class="c5">then </span></p><p class="c3"><span class="c5">echo hi &lt;--- replace with chdev or whatever</span></p><p class="c8"><span class="c5">fi done </span></p><p class="c8"><span class="c4">NFS Scripts:</span><span class="c12">&nbsp;</span><span class="c4">massive add to client:(needs nfs_data file in form of nfsserver:remote_share:local_mount)</span><span class="c12">&nbsp;</span><span class="c5">[root@cg1p28a]:/home/root# cat nfs_script</span><span class="c11">&nbsp;</span><span class="c5">for i in `cat nfs_data`</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">/usr/sbin/mknfsmnt -f `echo $i|awk -F: &#39;{print $3}&#39;` -d `echo $i|awk -F: &#39;{print $2}&#39;` -h `echo $i|awk -F: &#39;{print $1}&#39;` -M &#39;sys&#39; -B -A -t rw -w bg -K 4 -Y -Z -X -S -j -q -g</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c3"><span class="c4">massive delete from client: -B removes from /etc/filesystems</span></p><p class="c3"><span class="c5">for i in `lsnfsmnt|awk &#39;{print $3}&#39;`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">rmnfsmnt -f $i -B</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">Check NFS mounts if data is in mount point:</span></p><p class="c3"><span class="c5">for i in `lsnfsmnt|awk &#39;{print $3}&#39;|grep -v Mount`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">echo $i</span></p><p class="c3"><span class="c5">ls -l $i</span></p><p class="c3"><span class="c5">sleep 1</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">Umount all NFS:</span></p><p class="c3"><span class="c5">for i in `lsnfsmnt|awk &#39;{print $3}&#39;|grep -v Mount`</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">umount $i</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c4">List all fscsi connections with their status and physical location:</span></p><p class="c3"><span class="c5">let i=0</span></p><p class="c3"><span class="c5">while [ $i -lt 80 ]</span></p><p class="c3"><span class="c5">do</span></p><p class="c3"><span class="c5">lsdev -l fcs$i -F &#39;name class location physloc&#39;</span></p><p class="c3"><span class="c5">lsattr -El fscsi$i|grep switch</span></p><p class="c3"><span class="c5">echo</span></p><p class="c3"><span class="c5">let i=i+1</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c52 c50 c21">IF file exists, change the name, check again:</span></p><p class="c8"><span class="c23 c21">i=2</span></p><p class="c8"><span class="c23 c21">while [[ -e &quot;${LOG_FILENAME}&quot; ]]; do </span></p><p class="c8"><span class="c23 c21">LOG_FILENAME=&quot;${LOG_PATH}/${LOG_PREFIX}$(date -u &quot;+$ {TIME_FORMAT}&quot;)_${i}${LOG_SUFFIX}&quot; </span></p><p class="c8"><span class="c23 c21">i=$((i+1)) done </span></p><p class="c8"><span class="c52 c50 c21">List hostnames of vscsi clients ONLY IF the vio server also hosts npiv: </span></p><p class="c8"><span class="c23 c21">/usr/ios/cli/ioscli lsmap -npiv -all -field ClntID ClntName -fmt :|uniq|sed s/:/&quot; &quot;/g | while IFS=$&#39; \t\n&#39; read -r -- CLIENTID CLIENTNAME</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">do</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">HOSTNAME_LOOKUP[${CLIENTID}]=&quot;${CLIENTNAME}&quot; </span></p><p class="c8"><span class="c23 c21">done </span></p><p class="c3"><span class="c4 c81">Only shows the hdiskpowers that are single_path and chdev&#39;s them</span></p><p class="c8"><span class="c5">for i in $(lspv|awk &#39;{print $1}&#39;|grep pow)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">op=$(lsattr -El $i|grep reserve_policy|awk &#39;{print $2}&#39;) if [[ $op = &quot;single_path&quot; ]]</span><span class="c11">&nbsp;</span><span class="c5">then echo $i</span><span class="c11">&nbsp;</span><span class="c5">chdev -l $i -a reserve_policy=no_reserve</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c4">Same script for padmin:(if LUN is in use then change on reboot) </span></p><p class="c8"><span class="c5">for i in $(lspv|awk &#39;{print $1}&#39;|grep -v NAME)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">op=$(lsdev -dev $i -attr|grep reserve|awk &#39;{print $2}&#39;) if [[ $op != &#39;no_reserve&#39; ]] </span></p><p class="c8"><span class="c5">then</span><span class="c11">&nbsp;</span><span class="c5">echo $i</span><span class="c11">&nbsp;</span><span class="c5">chdev -dev $i -attr reserve_policy=no_reserve</span><span class="c11">&nbsp;</span><span class="c5">if [[ $? = 1 ]]</span><span class="c11">&nbsp;</span><span class="c5">then</span><span class="c11">&nbsp;</span><span class="c5">chdev -dev $i -perm -attr reserve_policy=no_reserve fi</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c4">Testing for a string that contains certain alphanumerics:</span><span class="c12">&nbsp;</span><span class="c4">This script pulls the vscsi mappings from the vio servers executed from the HMC </span><span class="c5">for i in `lssyscfg -r sys -F name`</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo $i </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 551.27px; height: 1.53px;"><img alt="" src="images/image98.png" style="width: 551.27px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">for x in `lssyscfg -r lpar -m $i -F name` do</span></p><p class="c8"><span class="c5">echo $x</span></p><p class="c8"><span class="c4">if [[ $x = czapvs* ]] </span></p><p class="c8"><span class="c5">then viosvrcmd -m $i -p $x -c &quot;lsmap -all -field vtd svsa status -fmt :&quot; echo</span></p><p class="c8"><span class="c5">fi</span></p><p class="c8"><span class="c5">done </span></p><p class="c8"><span class="c5">echo done </span></p><p class="c8"><span class="c4">ping a target once and if it fails then tee it a file: </span></p><p class="c8"><span class="c5">for i in $(cat /tmp/backupnic)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;pinging &quot;&quot;$i&quot;</span><span class="c11">&nbsp;</span><span class="c5">result=$(ping -c 2 &quot;$i&quot;|grep packets|awk &#39;{print $7}&#39;) if [[ $result != 0% ]] </span></p><p class="c8"><span class="c5">then</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;Doesnt ping: &quot;&quot;$i&quot; |tee -a /tmp/badnics fi</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c4">List the ioslevel of all vio servers on a HMC: </span></p><p class="c8"><span class="c5">for i in $(lssyscfg -r sys -F name)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;$i&quot;</span><span class="c11">&nbsp;</span><span class="c5">for x in $(lssyscfg -r lpar -m &quot;$i&quot; -F name|grep czapvs) do </span></p><p class="c8"><span class="c5">lssyscfg -m &quot;$i&quot; -r lpar --filter lpar_names=&quot;$x&quot; -F name:os_version done</span><span class="c11">&nbsp;</span><span class="c5">echo</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c4">Checking if all rmt tapes in Defined state:(doesnt work if last tape is available) </span></p><p class="c8"><span class="c5">for i in $(cat tapecheck)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">ssh &quot;$i&quot; &#39;lsdev|grep rmt|grep Defined &gt; /dev/null&#39; if [[ $? -eq 0 ]]</span><span class="c11">&nbsp;</span><span class="c5">then</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;$i&quot;&quot; has defined tapes&quot;</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;Checked &quot;&quot;$i&quot;</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c4">awk example of using multiple fields in output(Naveen Gande) The assigment of variable is done as the &#39; read&#39; is executed.</span><span class="c12">&nbsp;</span><span class="c5">lsvg -l rootvg | grep sysdump | awk &#39;{print $1,$4}&#39; | while read lv pp do </span></p><p class="c8"><span class="c5">echo &quot;sysdump $lv contains $pp PP&quot; </span></p><p class="c8"><span class="c5">done </span></p><p class="c8"><span class="c4">awk example using if then else logic: </span></p><p class="c8"><span class="c5">uname -a|awk &#39;{ if ($1 == &quot;AIX&quot;) {print $2} else {print &quot;Why bother&quot;}}&#39; ktazd216 </span></p><p class="c8"><span class="c4">Pretty sweet output for fcs slot WWPN and status: </span></p><p class="c8"><span class="c5">for i in $(lsdev -Cc adapter|grep fcs|awk &#39;{print $1}&#39;)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;$i&quot; $(lscfg -vl &quot;$i&quot;|grep Hard|awk &#39;{FS = &quot;.&quot;} {print $9}&#39;) $(lscfg -vl &quot;$i&quot;|grep Netw|awk &#39;BEGIN { FS = &quot;.&quot; } {print $14}&#39;) $(fcstat &quot;$i&quot;|grep running)</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c4">Super clean report of npiv off vio server as root: </span></p><p class="c8"><span class="c5">printf &quot;%8.8s %9.6s %5.4s %27.10s %5.4s %27.10s %12.6s\n&quot; &quot;ClientID&quot; &quot;device&quot; &quot;Cfcs&quot; &quot;ClientSlot&quot; &quot;Vfcs&quot; &quot;VIOSlot&quot; &quot;status&quot;</span><span class="c11">&nbsp;</span><span class="c5">/usr/ios/cli/ioscli lsmap -all -npiv -field ClntID Physloc &quot;FC loc code&quot; &quot;VFC client name&quot; name &quot;FC name&quot; status -fmt :|awk -F: &#39;{printf &quot;%8.2s%10.9s%6.5s%28.28s%6.5s%28.28s%13.12s\n&quot;, $1,$3,$5,$2,$6,$4,$7}&#39; </span></p><p class="c8"><span class="c4">and vscsi and show backing device uniqueness: </span></p><p class="c8"><span class="c5">echo &quot;CltID Device Backing Status Backing Status&quot;</span><span class="c11">&nbsp;</span><span class="c5">/usr/ios/cli/ioscli lsmap -all -field SVSA status &quot;backing device&quot; &quot;Client Partition ID&quot; -fmt :|awk -F: &#39;{print $2,$1,$4,$3,$6,$5,$7}&#39;</span><span class="c11">&nbsp;</span><span class="c5">echo</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;Dup use of backing devices report&quot;</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;Total# BackingDevice&quot;</span><span class="c11">&nbsp;</span><span class="c5">for i in $(/usr/ios/cli/ioscli lsmap -all -field &quot;backing device&quot; -fmt :|awk -F: &#39;{print $1,$2}&#39;)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot; &quot;$i</span><span class="c11">&nbsp;</span><span class="c5">done|sort|uniq -c </span></p><p class="c8"><span class="c4">have grep search before and after a pattern found(Steve Price): </span></p><p class="c8"><span class="c5"># cat greptest</span><span class="c11">&nbsp;</span><span class="c5">BEFORE=3</span><span class="c11">&nbsp;</span><span class="c5">AFTER=3 FILE=/var/hacmp/log/cl_event_summaries.txt PATTERN=&quot;RG_MOVE&quot; </span></p><p class="c8"><span class="c5">for i in $(grep -n $PATTERN $FILE | sed -e &#39;s/\:.*//&#39;)</span><span class="c11">&nbsp;</span><span class="c5">do head -n $(($AFTER+$i)) $FILE | tail -n $(($AFTER+$BEFORE+1)) </span></p><p class="c8"><span class="c5">done echo &quot; &quot; </span></p><p class="c8"><span class="c4">HMC report I wrote for Kaiser: </span></p><p class="c8"><span class="c5"># What is the hostname of the HMC echo &quot;HMC: &quot;$(uname -n) </span></p><p class="c8"><span class="c5"># HMC version </span></p><p class="c8"><span class="c6 c5">lshmc &ndash;v</span></p><p class="c8"><span class="c5">printf &quot;\n&quot; </span></p><p class="c8"><span class="c6 c5">#Clear out variable </span></p><p class="c8"><span class="c5">VIOS=&quot;&quot;;VIOC=&quot;&quot;;FRAMES=&quot;&quot; </span></p><p class="c8"><span class="c6 c5"># Create variable with frame names echo ...gathering frame names... </span></p><p class="c8"><span class="c5">FRAMES=$(lssyscfg -r sys -F name) </span></p><p class="c8"><span class="c5"># creating master VIOC and VIOS variable from entire HMC printf &quot;%s&quot; &quot;...creating variables containing vio and client lpars&quot; for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do </span></p><p class="c8"><span class="c5">printf .</span><span class="c11">&nbsp;</span><span class="c5">for x in $(lssyscfg -m $i -r lpar -F name)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">if [[ $(lssyscfg -m &quot;$i&quot; -r lpar --filter lpar_names=&quot;$x&quot; -F lpar_env) = &quot;vioserver&quot; ]] then</span><span class="c11">&nbsp;</span><span class="c5">VIOS=&quot;${VIOS} &quot;${i}&quot; &quot;${x}&quot;&quot;</span><span class="c11">&nbsp;</span><span class="c5">else</span><span class="c11">&nbsp;</span><span class="c5">VIOC=&quot;${VIOC} &quot;${i}&quot; &quot;${x}&quot;&quot;</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;\n&quot; </span></p><p class="c8"><span class="c5"># Lists the firmware of the frame for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;\t\t%s\n&quot; &quot;Frame&quot; </span></p><p class="c8"><span class="c5">printf &quot;\t%s\n&quot; &quot;$i&quot;</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%s\t%s\n&quot; &quot;Firmware Name&quot; &quot;Firmware Number&quot;</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%s\t%s\n&quot; $(lslic -m &quot;$i&quot; -t sys -F curr_spname_primary curr_ecnumber_primary) printf &quot;\n&quot;</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c5"># Shows available CPU/Memory on frame and whats allocated to all LPARs for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;\t\t%s\n&quot; &quot;Frame&quot; </span></p><p class="c8"><span class="c5">printf &quot;\t%s\n&quot; &quot;$i&quot;</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%s\t%s\n&quot; &quot;Avail CPU&quot; &quot;Avail Memory&quot;</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%.1f\t\t%s\n&quot; $(lshwres -r proc -m &quot;$i&quot; --level sys -F curr_avail_sys_proc_units) $(expr $ (lshwres -r mem -m &quot;$i&quot; --level sys -F curr_avail_sys_mem) / 1024)GB</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;\n&quot;</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%s\t\t%s\t%s\n&quot; &quot;LPAR&quot; &quot;Desired CPU&quot; &quot;Desired Memory&quot;</span><span class="c11">&nbsp;</span><span class="c5">for x in $(lssyscfg -m $i -r lpar -F name)</span><span class="c11">&nbsp;</span><span class="c5">do </span></p><p class="c8"><span class="c5">printf &quot;%s\t%.1f\t\t%s\n&quot; $(lshwres -r proc -m &quot;$i&quot; --level lpar --filter lpar_names=$x -F lpar_name curr_proc_units) $(lshwres -r mem -m &quot;$i&quot; --level lpar --filter lpar_names=$x -F curr_mem)</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;\n&quot; </span></p><p class="c8"><span class="c5">done </span></p><p class="c8"><span class="c5"># List ALL vswitch&#39;s with the vlans that are allowed on them for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;\t%s\n&quot; &quot;$i&quot; </span></p><p class="c8"><span class="c5">printf &quot;%20s\t%-30s\n&quot; &quot;VSWITCH NAME&quot; &quot;VLANS CARRIED&quot;</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%20s\t%-30s\n&quot; $(lshwres -r virtualio --rsubtype vswitch -m &quot;$i&quot; -F vswitch vlan_ids|sort) printf &quot;\n&quot;</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c5"># Looks at VIOS physical adapter&#39;s required/desired setting and MSP setting printf &quot;%s\t%s\n&quot; ${VIOS}|while read i x;</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">if [[ $(lssyscfg -r lpar -m &quot;$i&quot; --filter lpar_names=&quot;$x&quot; -F msp) = 1 ]] </span></p><p class="c8"><span class="c5">then</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%-10s%s\n&quot; &quot;$x&quot; &quot; is MSP enabled&quot;</span><span class="c11">&nbsp;</span><span class="c5">else</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%-10s%s\n&quot; &quot;$x&quot; &quot; is NOT MSP enabled&quot; fi</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c5">#List last valid configuration</span><span class="c11">&nbsp;</span><span class="c5">for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">lssyscfg -r prof -m &quot;$i&quot; --lastvalidcfg printf &quot;\n&quot; </span></p><p class="c8"><span class="c5">done </span></p><p class="c8"><span class="c5">#LPM clean up check for npiv</span><span class="c11">&nbsp;</span><span class="c5">echo LPM Check Section</span><span class="c11">&nbsp;</span><span class="c5">echo Unused or not logged in virtual fibers</span><span class="c11">&nbsp;</span><span class="c5">printf &quot;%s\t%s\n&quot; ${VIOS}|while read i x;</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;frame &quot;$i &quot; vio server: &quot;$x</span><span class="c11">&nbsp;</span><span class="c5">viosvrcmd -m $i -p $x -c &quot;lsmap -all -npiv -field name physloc clntid status &#39;fc name&#39; flags &#39;vfc client name&#39; -fmt :&quot;|grep -v :a:</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c5">echo ...checking desired fields for virtuals... echo ...printed below are adapters set to required for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo Checking on frame: &quot;${i}&quot;</span><span class="c11">&nbsp;</span><span class="c5">echo ...checking ethernets... </span></p><p class="c8"><span class="c5">lshwres -r virtualio -m $i --rsubtype eth --level lpar -F lpar_name,slot_num,is_required|grep &quot;\,1$&quot; echo ....completed checking ethernets;echo</span><span class="c11">&nbsp;</span><span class="c5">echo ...checking fiber...</span><span class="c11">&nbsp;</span><span class="c5">lshwres -r virtualio -m $i --rsubtype fc --level lpar -F lpar_name,slot_num,is_required|grep &quot;\,1$&quot; echo ....completed checking fibers;echo </span></p><p class="c8"><span class="c5">echo ...checking scsi...</span><span class="c11">&nbsp;</span><span class="c5">echo ....completed checking scsi;echo</span><span class="c11">&nbsp;</span><span class="c5">lshwres -r virtualio -m $i --rsubtype scsi -F lpar_name,slot_num,is_required|grep &quot;\,1$&quot; echo Done checking frame: &quot;${i}&quot;</span><span class="c11">&nbsp;</span><span class="c5">echo</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c5">echo ...completed checking desired fields for virtuals </span></p><p class="c8"><span class="c4">ssh from jump box to get fcs slot numbers:(use double quotes) </span></p><p class="c8"><span class="c5">for i in 0 1 2 3^Jdo^Jssh czapap169 &quot;lscfg -vl fcs$i|grep fcs&quot;^Jdone </span></p><p class="c8"><span class="c4">SEA summary output: </span></p><p class="c8"><span class="c5">#!/bin/ksh</span><span class="c11">&nbsp;</span><span class="c5">vlanids () {</span><span class="c11">&nbsp;</span><span class="c5">/usr/ios/cli/ioscli lsdev -dev $1 -attr virt_adapters|awk &#39;$1 ~ /^ent/ {print $1}&#39;|/usr/ios/cli/ioscli entstat -all $1|grep &quot;ent[0-9][0-9]:&quot;</span><span class="c11">&nbsp;</span><span class="c5">} </span></p><p class="c8"><span class="c5">for i in $(/usr/ios/cli/ioscli lsdev -type sea|awk &#39;$1 ~ /^ent/ {print $1}&#39;)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;[SEA=&quot;&quot;${i}&quot;&quot;]&quot; &quot;[Phys/EthChan=&quot;$(/usr/ios/cli/ioscli lsdev -dev $i -attr real_adapter|awk &#39;$1</span><span class="c11">&nbsp;</span><span class="c5">~ /^ent/ {print $1}&#39;)&quot;]&quot; &quot;[PVID=&quot;$(/usr/ios/cli/ioscli lsdev -dev $i -attr pvid|awk &#39;$1 ~ /^[0-9]/ {print $1}&#39;)&quot;]&quot; &quot;[vswitch=&quot;$(entstat -d &quot;${i}&quot;|grep &quot;Switch ID:&quot;|uniq|awk &#39;{print $3}&#39;)&quot;]&quot; &quot;[State=&quot;$(entstat -d $i|egrep &quot;BACKUP|PRIMARY&quot;|awk &#39;{print $2}&#39;)&quot;]&quot; &quot;[vETH:VLANs=&quot;$(vlanids &quot;&quot;${i}&quot;&quot;)&quot;]&quot;</span><span class="c11">&nbsp;</span><span class="c5">done 2&gt; /dev/null </span></p><p class="c8"><span class="c5">output:</span><span class="c11">&nbsp;</span><span class="c2">[SEA=ent50] [Phys/EthChan=ent40] [PVID=601] [vswitch=VSWITCH_601_301] [State=BACKUP] [vETH:VLANs= ent24: 82 601] [SEA=ent51] [Phys/EthChan=ent41] [PVID=602] [vswitch=VSWITCH_602_302] [State=PRIMARY] [vETH:VLANs= ent25: 82 602] [SEA=ent52] [Phys/EthChan=ent42] [PVID=603] [vswitch=VSWITCH_603_303] [State=BACKUP] [vETH:VLANs= ent26: 488 603] [SEA=ent53] [Phys/EthChan=ent43] [PVID=604] [vswitch=VSWITCH_604_304] [State=PRIMARY] [vETH:VLANs= ent27: 488 604] [SEA=ent54] [Phys/EthChan=ent44] [PVID=606] [vswitch=VSWITCH_606_306] [State=PRIMARY] [vETH:VLANs= ent29: 92 415 606]</span><span class="c20 c38">&nbsp;</span><span class="c2">[SEA=ent55] [Phys/EthChan=ent45] [PVID=661] [vswitch=VSWITCH_661_361] [State=BACKUP] [vETH:VLANs= ent30: 555 556 661]</span><span class="c20 c38">&nbsp;</span><span class="c2">[SEA=ent57] [Phys/EthChan=ent47] [PVID=663] [vswitch=VSWITCH_663_363] [State=BACKUP] [vETH:VLANs= ent32: 559 663] [SEA=ent58] [Phys/EthChan=ent15] [PVID=605] [vswitch=VSWITCH_605_305] [State=BACKUP] [vETH:VLANs= ent28: 88 605] </span></p><p class="c8"><span class="c4">SEA Etherchannel and NICs inside: </span></p><p class="c8"><span class="c5">for i in $(/usr/ios/cli/ioscli lsdev -type sea|awk &#39;{print $1}&#39;)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">child=$(lsattr -El $i -a real_adapter|awk &#39;{print $2}&#39;)</span><span class="c11">&nbsp;</span><span class="c5">echo Parent:$i EC:$(lsattr -El $i -a real_adapter|awk &#39;{print $2}&#39;) Inside:$(lsattr -El $child -a adapter_names|awk &#39;{print $2}&#39;) </span></p><p class="c8"><span class="c5">done </span></p><p class="c8"><span class="c5">Parent:ent51 EC:ent42 Inside:ent4,ent0,ent16,ent12 Parent:ent52 EC:ent43 Inside:ent5,ent1,ent17,ent13 Parent:ent53 EC:ent44 Inside:ent8,ent20 Parent:ent54 EC:ent45 Inside:ent2,ent14 </span></p><p class="c8"><span class="c4">Making changes as root on the vio server from the HMC: </span></p><p class="c8"><span class="c5">FRAMES=$(lssyscfg -r sys -F name) for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">printf . </span></p><p class="c8"><span class="c5">for x in $(lssyscfg -m &quot;${i}&quot; -r lpar -F name)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">if [[ $(lssyscfg -m &quot;${i}&quot; -r lpar --filter lpar_names=&quot;${x}&quot; -F lpar_env) = &quot;vioserver&quot; ]] then</span><span class="c11">&nbsp;</span><span class="c5">VIOS=&quot;${VIOS} &quot;${i}&quot; &quot;${x}&quot;&quot;</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c5">printf &quot;%s\t%s\n&quot; ${VIOS}|while read i x;</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;${x}&quot;</span><span class="c11">&nbsp;</span><span class="c5">viosvrcmd -m &quot;${i}&quot; -p &quot;${x}&quot; -c &quot;$(printf &quot;%s\n%s&quot; &quot;oem_setup_env&quot; &quot;chps -s8 hd6&quot;)&quot; done </span></p><p class="c8"><span class="c5">done </span></p><p class="c8"><span class="c4">List and sort the vio server names with lpar_id number: </span></p><p class="c8"><span class="c5">FRAMES=$(lssyscfg -r sys -F name) for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo $i </span></p><p class="c8"><span class="c5">for x in $(lssyscfg -m $i -r lpar -F name)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">if [[ $(lssyscfg -m &quot;$i&quot; -r lpar --filter lpar_names=&quot;$x&quot; -F lpar_env) = &quot;vioserver&quot; ]] then</span><span class="c11">&nbsp;</span><span class="c5">lssyscfg -m $i -r lpar --filter lpar_names=$x -F name:lpar_id</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c5">done|sort -n</span><span class="c11">&nbsp;</span><span class="c5">echo</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c4">Compare the WWPNs in the running profile are different than the WWPNs in the saved profile</span><span class="c12">&nbsp;</span><span class="c5">FRAMES=$(lssyscfg -r sys -F name)</span><span class="c11">&nbsp;</span><span class="c5">for i in $FRAMES </span></p><p class="c8"><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;${i}&quot;</span><span class="c11">&nbsp;</span><span class="c5">for x in $(lssyscfg -m &quot;${i}&quot; -r lpar -F name) do </span></p><p class="c8"><span class="c5">echo &quot;${x}&quot;</span><span class="c11">&nbsp;</span><span class="c5">DEFAULT=$(lssyscfg -r lpar -m &quot;${i}&quot; --filter lpar_names=&quot;${x}&quot; -F default_profile) RUNNING=$(lshwres -r virtualio -m &quot;${i}&quot; --rsubtype fc --filter lpar_names=&quot;${x}&quot; --level lpar|cut -d, -f10,11|sed -e &#39;s/&quot;wwpns=/&quot;/g&#39;|sed -e &#39;s/&quot;//g&#39;|sort -g)</span><span class="c11">&nbsp;</span><span class="c5">SAVED=$(lssyscfg -m &quot;${i}&quot; -r prof --filter lpar_names=&quot;${x}&quot;,profile_names=&quot;${DEFAULT}&quot; -F virtual_fc_adapters|sed -e &#39;s/&quot;,&quot;/\n/g&#39;|seds -e &#39;s/&quot;//g&#39;| cut -d/ -f6|sort -g)</span><span class="c11">&nbsp;</span><span class="c5">if [[ $RUNNING == $SAVED ]];then</span><span class="c11">&nbsp;</span><span class="c5">echo they are the same</span><span class="c11">&nbsp;</span><span class="c5">echo</span><span class="c11">&nbsp;</span><span class="c5">else</span><span class="c11">&nbsp;</span><span class="c5">echo they are different</span><span class="c11">&nbsp;</span><span class="c5">echo Running Profile:</span><span class="c11">&nbsp;</span><span class="c5">echo $RUNNING</span><span class="c11">&nbsp;</span><span class="c5">echo</span><span class="c11">&nbsp;</span><span class="c5">echo Saved default profile:</span><span class="c11">&nbsp;</span><span class="c5">echo $SAVED</span><span class="c11">&nbsp;</span><span class="c5">echo</span><span class="c11">&nbsp;</span><span class="c5">fi</span><span class="c11">&nbsp;</span><span class="c5">done</span><span class="c11">&nbsp;</span><span class="c5">echo</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c4">Pull all virtual ethernet info with corresponding profile name: </span></p><p class="c8"><span class="c5">FRAMES=$(lssyscfg -r sys -F name) for i in $FRAMES</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;${i}&quot; </span></p><p class="c8"><span class="c5">for x in $(lssyscfg -m &quot;${i}&quot; -r lpar -F name)</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;${x}&quot;</span><span class="c11">&nbsp;</span><span class="c5">lssyscfg -r prof -m &quot;${i}&quot; --filter lpar_names=&quot;${x}&quot; -F name:virtual_eth_adapters echo </span></p><p class="c8"><span class="c5">done echo done </span></p><p class="c8"><span class="c4">Watch LPM from HMC command line: </span></p><p class="c8"><span class="c5">while true</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">lslparmigr -r lpar -m Server-9117-MMD-SN103CB27 --filter &quot;dest_sys_names=Server-9117-MMD- SN21928C7&quot; -F name,migration_state,bytes_remaining</span><span class="c11">&nbsp;</span><span class="c5">sleep 5</span><span class="c11">&nbsp;</span><span class="c6 c5">done </span></p><p class="c8"><span class="c6 c4">FUNCTION and BASIC SCRIPT container:</span></p><p class="c27"><span class="c6 c2">#!/usr/bin/sh</span></p><p class="c27"><span class="c6 c2">##################</span></p><p class="c27"><span class="c6 c2">function if_error</span></p><p class="c27"><span class="c6 c2">##################</span></p><p class="c27"><span class="c6 c2">{</span></p><p class="c27"><span class="c6 c2">if [[ $? -ne 0 ]];then # check return code passed to function</span></p><p class="c27"><span class="c6 c2">&nbsp; &nbsp; &nbsp; &nbsp; echo &quot;$1&quot; # if rc &gt; 0 then print error message and quit</span></p><p class="c27"><span class="c6 c2">exit $?</span></p><p class="c27"><span class="c6 c2">fi</span></p><p class="c27"><span class="c6 c2">}</span></p><p class="c19"><span class="c6 c2"></span></p><p class="c27"><span class="c6 c2">case $1 in</span></p><p class="c27"><span class="c6 c2">&quot;-c&quot;) touch ~/whatcha</span></p><p class="c27"><span class="c6 c2">echo &quot;-c executed&quot;</span></p><p class="c27"><span class="c6 c2">if_error &quot;ERROR: Failed creating file&quot;;;</span></p><p class="c27"><span class="c6 c2">&quot;-d&quot;) rm ~/whatcha</span></p><p class="c27"><span class="c6 c2">echo &quot;-d executed&quot;</span></p><p class="c27"><span class="c6 c2">if_error &quot;ERROR: Failed deleting file&quot;;;</span></p><p class="c27"><span class="c6 c2">esac</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c27"><span class="c6 c4">Ping server function:</span></p><p class="c27"><span class="c6 c2">jtucker007@phxunixent003:~&gt; cat pingserver.ksh</span></p><p class="c27"><span class="c6 c2">#!/usr/bin/ksh</span></p><p class="c19"><span class="c6 c2"></span></p><p class="c27"><span class="c6 c2">if_error() {</span></p><p class="c27"><span class="c6 c2">&nbsp; &nbsp; &nbsp; &nbsp; if [[ $? -ne 0 ]]; then</span></p><p class="c27"><span class="c6 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo -e &quot;$1&quot;</span></p><p class="c27"><span class="c6 c2">&nbsp; &nbsp; &nbsp; &nbsp; exit $?</span></p><p class="c27"><span class="c6 c2">&nbsp; &nbsp; &nbsp; &nbsp; fi</span></p><p class="c27"><span class="c6 c2">}</span></p><p class="c19"><span class="c6 c2"></span></p><p class="c27"><span class="c6 c2">ping_server() {</span></p><p class="c27"><span class="c6 c2">&nbsp; &nbsp; &nbsp; &nbsp; ping -c 2 $1 &gt; /dev/null</span></p><p class="c27"><span class="c6 c2">}</span></p><p class="c19"><span class="c6 c2"></span></p><p class="c27"><span class="c6 c2">ping_server $1</span></p><p class="c27"><span class="c6 c2">if_error &quot;Error: Ping to server failed&quot;</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c6 c4">Calling an outside function from within a shell script:</span></p><p class="c27 c7"><span class="c6 c5">jtucker007@phxunixent003:~&gt; cat pingserver.ksh</span></p><p class="c27 c7"><span class="c6 c5">#!/usr/bin/ksh</span></p><p class="c19 c7"><span class="c6 c5"></span></p><p class="c27 c7"><span class="c6 c5">source ~/if_error.function # Path to function</span></p><p class="c19 c7"><span class="c6 c5"></span></p><p class="c27 c7"><span class="c6 c5">if_error() {</span></p><p class="c27 c7"><span class="c6 c5">&nbsp; &nbsp; &nbsp; &nbsp; if [[ $? -eq 0 ]]; then</span></p><p class="c27 c7"><span class="c6 c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo -e &quot;$1&quot;</span></p><p class="c27 c7"><span class="c6 c5">&nbsp; &nbsp; &nbsp; &nbsp; exit $?</span></p><p class="c27 c7"><span class="c6 c5">&nbsp; &nbsp; &nbsp; &nbsp; fi</span></p><p class="c27 c7"><span class="c6 c5">}</span></p><p class="c19 c7"><span class="c6 c5"></span></p><p class="c27 c7"><span class="c6 c5">ping_server() {</span></p><p class="c27 c7"><span class="c6 c5">&nbsp; &nbsp; &nbsp; &nbsp; ping -c 2 $1 &gt; /dev/null</span></p><p class="c27 c7"><span class="c6 c5">}</span></p><p class="c19 c7"><span class="c6 c5"></span></p><p class="c27 c7"><span class="c6 c5">ping_server $1</span></p><p class="c27 c7"><span class="c6 c5">if_error &quot;This was called outside this shell script&quot; # Function name</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c3"><span class="c4 c81">SHELL FUNCTIONS:</span></p><p class="c8"><span class="c5">This function is for usage of the command. If the man page is installed (-n on test statement) then display usage else display usage with here-document </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 138.67px; height: 1.53px;"><img alt="" src="images/image100.png" style="width: 138.67px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">I believe that $0 is the command with any parameters/options ############## usage #####################</span><span class="c11">&nbsp;</span><span class="c5">usage(){ </span></p><p class="c8"><span class="c5">msg=`/usr/bin/dspcat rmtcpip.cat 1 2 2&gt;/dev/null` if [ -n &quot;$msg&quot; ]; then </span></p><p class="c8"><span class="c5">/usr/bin/dspcat rmtcpip.cat 1 2 &gt;&amp;2 </span></p><p class="c8"><span class="c5">echo $0 else </span></p><p class="c8"><span class="c5">cat &lt;&lt;- HERE &gt;&amp;2 # this is a here-document </span></p><p class="c8"><span class="c5">Usage: $0 HERE </span></p><p class="c8"><span class="c5">fi </span></p><p class="c8"><span class="c5">exit 2 } </span></p><p class="c8"><span class="c5"># There shouldn&#39;t be any extra parameter for this script. if [ $# -gt 0 ] ; then </span></p><p class="c8"><span class="c5">usage fi </span></p><p class="c8"><span class="c4">Checking 1) in maintenance mode? 2) root? 3) group is system? </span></p><p class="c8"><span class="c5">HOSTID=`hostid`</span><span class="c11">&nbsp;</span><span class="c5"># First check to see if the machine is in maintenance mode if [ &quot;$HOSTID&quot; != &quot;0&quot; ]; then # It&#39;s running machine. </span></p><p class="c8"><span class="c5"># Check the permisson, either user as &quot;root&quot;, or group as &quot;system&quot;: UID=`id | awk &#39;{print $1}&#39; | cut -c5`</span><span class="c11">&nbsp;</span><span class="c5">GID=`id | awk &#39;{print $2}&#39; | cut -c5`</span><span class="c11">&nbsp;</span><span class="c5">if [ &quot;$UID&quot; != &quot;0&quot; a &quot;$GID&quot; != &quot;0&quot; ]; then </span></p><p class="c8"><span class="c5">msg=`/usr/bin/dspcat rmtcpip.cat 1 1 2&gt;/dev/null` if [ -n &quot;$msg&quot; ]; then </span></p><p class="c8"><span class="c5">/usr/bin/dspcat rmtcpip.cat 1 1 &gt;&amp;2 else </span></p><p class="c8"><span class="c5">echo &quot;Permission denied&quot; fi </span></p><p class="c8"><span class="c5">exit 2 fi </span></p><p class="c8"><span class="c4">Function if there is an error </span></p><p class="c8"><span class="c5">############## problem ########################## # DESCRIPTION: Issue &quot;problem&quot; message and exit</span><span class="c11">&nbsp;</span><span class="c5"># INPUT:</span><span class="c11">&nbsp;</span><span class="c5"># $RTNCODE </span></p><p class="c8"><span class="c5"># $1 Name of command that encountered an error #</span><span class="c11">&nbsp;</span><span class="c5">problem(){ </span></p><p class="c8"><span class="c5">echo &quot;rmtcpip: Problem with $1 command, return code = $RTNCODE&quot; &gt;&amp;2 </span></p><p class="c8"><span class="c5">exit $RTNCODE } </span></p><p class="c3"><span class="c5">##############################################</span></p><p class="c8"><span class="c5"># Code in main script:</span><span class="c11">&nbsp;</span><span class="c5">ifconfig $IFNAME detach &gt; /dev/null 2&gt;&amp;1 RTNCODE=$? </span></p><p class="c8"><span class="c5">if [ $RTNCODE -ne 0 ]; then problem ifconfig </span></p><p class="c8"><span class="c5">KORN SYNTAX </span></p><p class="c8"><span class="c4">Nested Loop: </span></p><p class="c3"><span class="c5">&gt; for i in 1 2 3; do for x in 1 2; do echo X=${x} and I=${i}; done;</span></p><p class="c3"><span class="c5">done</span></p><p class="c3"><span class="c5">X=1 and I=1</span></p><p class="c3"><span class="c5">X=2 and I=1</span></p><p class="c3"><span class="c5">X=1 and I=2</span></p><p class="c3"><span class="c5">X=2 and I=2</span></p><p class="c3"><span class="c5">X=1 and I=3</span></p><p class="c3"><span class="c5">X=2 and I=3</span></p><p class="c3"><span class="c4">In-variable substitution:</span></p><p class="c3"><span class="c5">foo=11.0</span></p><p class="c3"><span class="c5">NEW_VALUE=$(echo &quot;${foo//./}&quot;)</span></p><p class="c3"><span class="c5">&gt; echo $NEW_VALUE</span></p><p class="c3"><span class="c5">110</span></p><p class="c8"><span class="c5">END OF KORN SYNTAX </span></p><p class="c8"><span class="c5">AWK </span></p><p class="c3"><span class="c18 c4 c81">awk awk awk notes:</span></p><p class="c3"><span class="c0">awk {print $2}END{if(NR==0)exit 1}</span></p><p class="c8"><span class="c6 c5">Printing kewl things from awk:</span></p><p class="c8"><span class="c6 c5">lspv| awk &lsquo;$3 ~ /^None$/ {print &ldquo;chdev &ndash;l &ldquo;$1&rdquo; &ndash;a reserve_policy=no_reserve&rdquo;}&rsquo; | sh</span></p><p class="c8"><span class="c5">awk &#39;{print $0}&#39; </span><span class="c6 c4">prints the whole line </span></p><p class="c8"><span class="c6 c4">grep within awk:</span></p><p class="c8"><span class="c5">awk &lsquo;/regex/ {print $2}&rsquo; /tmp/file_name</span></p><p class="c8"><span class="c5">System Variables:(default) </span></p><p class="c8"><span class="c5">FS Field Separator</span><span class="c6 c11">&nbsp;</span></p><p class="c8"><span class="c5">NF Number of fields in current record </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 155.53px; height: 1.53px;"><img alt="" src="images/image28.png" style="width: 155.53px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 143.13px; height: 1.53px;"><img alt="" src="images/image25.png" style="width: 143.13px; height: 1.53px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c8"><span class="c5">NR Number of the current record</span><span class="c11">&nbsp;</span><span class="c5">OFS Output filed separator(a blank) ORS Output record separator(a newline) RS Record separator(a newline) OFMT Output Format for Numbers(%.6g) </span></p><p class="c49 c7"><span class="c4">Putting a field into an array:</span></p><p class="c49 c7"><span class="c4">#this takes field 2 and indexes it into the TIME array</span></p><p class="c49 c7"><span class="c5">set -A TIME $(awk &#39;{print $2}&#39; LPAR_UTILIZATION.data)</span></p><p class="c49 c7"><span class="c5">step=0</span></p><p class="c49 c7"><span class="c5">for i in ${TIME[*]};do</span></p><p class="c49 c7"><span class="c5">echo ${TIME[step]}</span></p><p class="c49 c7"><span class="c5">step=$(( step + 1 ))</span></p><p class="c49 c7"><span class="c5">done|wc -l</span></p><p class="c49 c7 c29"><span class="c0"></span></p><p class="c49 c7"><span class="c5">${#TIME[*]} gives the number of elements in an array</span></p><p class="c49 c7 c29"><span class="c0"></span></p><p class="c8"><span class="c4">how to pull ONLY the path to file (use absolute path to file) although you can use some variable notation. look in korn shell scripting area</span></p><p class="c8"><span class="c5">awk -F&quot;/&quot; &#39;{for (c=1;c&lt;(NF);c++) print $c}&#39; ORS=&quot;/&quot; </span></p><p class="c8"><span class="c4">awk&#39;ing certain fields looking for specific conditions and &amp;&amp;. this is from shell script rmtcpip: </span></p><p class="c8"><span class="c5">netstat -ni | awk &#39;$1!=&quot;lo0&quot; &amp;&amp; $1!=&quot;Name&quot; {print $0}&#39; | awk &#39;substr($3,1,4)==&quot;link&quot; {print $1}&#39; | sed -e &#39;s/\*$//&#39; </span></p><p class="c8"><span class="c5">en0 1500 link#2 fa.28.d8.17.7.64 2107462 0 1511796 0 0 en0 1500 172.22.88 172.22.88.99 2107462 0 1511796 0 0 en2 1500 link#3 fa.28.d8.17.7.a1 111428 0 26641 0 0 en2 1500 172.31.238 172.31.238.111 111428 0 26641 0 0 </span></p><p class="c8"><span class="c4">Going thru each field looking for a pattern: </span></p><p class="c8"><span class="c5">for x in $(awk &#39;{for (POS=1;POS&lt;(NF);POS++) </span></p><p class="c8"><span class="c5">if ($POS ~ /su/) {print $(POS + 4)}</span><span class="c11">&nbsp;</span><span class="c6 c5">if ($POS ~ /^\//) {print $POS}}&#39; ${v_HA_STOP_SCRIPT} | sed s/[\&#39;\&quot;]//g) </span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c4">BEGIN END and assigning and displaying variables:</span></p><p class="c8"><span class="c6 c5">awk -F&quot;,&quot; &#39;BEGIN{RS=&quot;;&quot;} NF == 12 {frame=$7;++x;print frame}END{print x&quot; records processed&quot;}&#39; /srv/data/frame</span></p><p class="c8 c29"><span class="c0"></span></p><p class="c8"><span class="c4">Using system() within awk: </span></p><p class="c8"><span class="c5">#!/usr/bin/sh</span><span class="c11">&nbsp;</span><span class="c5">awk &#39;BEGIN {print &quot;Hello this is the beginning&quot;} {</span><span class="c11">&nbsp;</span><span class="c5">for (POS=1;POS&lt;=NF;POS++) {</span><span class="c11">&nbsp;</span><span class="c5">if ($1 ~ /su/) print $POS</span><span class="c11">&nbsp;</span><span class="c5">system(&quot;uptime&quot;)</span><span class="c11">&nbsp;</span><span class="c5">}</span><span class="c11">&nbsp;</span><span class="c5">} END {print &quot;This is the end&quot;}&#39; ~/HACMP/OPPR_clstr1_start.sh </span></p><p class="c8"><span class="c4">Using gsub within awk: </span></p><p class="c8"><span class="c5">#!/usr/bin/sh</span><span class="c11">&nbsp;</span><span class="c5">awk &#39;BEGIN {print &quot;Hello this is the beginning&quot;} { for (POS=1;POS&lt;=NF;POS++) {</span><span class="c11">&nbsp;</span><span class="c5">{</span><span class="c11">&nbsp;</span><span class="c5">if ($1 ~ /^\//) {</span><span class="c11">&nbsp;</span><span class="c5">system(&quot;ls -l &quot;$POS)</span><span class="c11">&nbsp;</span><span class="c5">}</span><span class="c11">&nbsp;</span><span class="c5">if ($1 ~ /su/) {</span><span class="c11">&nbsp;</span><span class="c5">mystring=$(1 + 4)</span><span class="c11">&nbsp;</span><span class="c5">gsub(/&quot;/, &quot;X&quot;,mystring)# print $(POS + 4)</span><span class="c11">&nbsp;</span><span class="c5">print &quot;this is the value: &quot; mystring</span><span class="c11">&nbsp;</span><span class="c5">system(&quot;ls -l &quot;mystring)</span><span class="c11">&nbsp;</span><span class="c5">}</span><span class="c11">&nbsp;</span><span class="c5">} </span></p><p class="c8"><span class="c5">}</span><span class="c11">&nbsp;</span><span class="c5">} END {print &quot;This is the end&quot;}&#39; ~/HACMP/OPPR_clstr1_start.sh </span></p><p class="c8"><span class="c4">awk using system and gsub:</span><span class="c12">&nbsp;</span><span class="c4">cat ~/HACMP/OPPR_clstr1_start.sh|awk &#39;gsub (/&#39;\&#39;&#39;/,&quot;WHATUP&quot;);{print}&#39; </span><span class="c5">#!/bin/sh</span><span class="c11">&nbsp;</span><span class="c5">v_HA_SCRIPT=$(/usr/es/sbin/cluster/utilities/cllsserv|awk &#39;{print $2&quot; &quot;$3}&#39;)</span><span class="c11">&nbsp;</span><span class="c5">for i in ${v_HA_SCRIPT}</span><span class="c11">&nbsp;</span><span class="c5">do</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;############################################################&quot; echo &quot;Contents of &quot; $i</span><span class="c11">&nbsp;</span><span class="c5">echo &quot;------------------------------------------------------------&quot;</span><span class="c11">&nbsp;</span><span class="c5">awk &#39;{</span><span class="c11">&nbsp;</span><span class="c5">for (POS=1;POS&lt;=NF;POS++) {{</span><span class="c11">&nbsp;</span><span class="c5">if ($1 ~ /^\//) {</span><span class="c11">&nbsp;</span><span class="c5">system(&quot;ls -l &quot;$POS)</span><span class="c11">&nbsp;</span><span class="c5">system(&quot;cksum &quot;$POS)</span><span class="c11">&nbsp;</span><span class="c5">print &quot;&quot;</span><span class="c11">&nbsp;</span><span class="c5">}</span><span class="c11">&nbsp;</span><span class="c5">if ($1 ~ /su/) {</span><span class="c11">&nbsp;</span><span class="c5">mystring=$(1 + 4)</span><span class="c11">&nbsp;</span><span class="c5">gsub(/&quot;/, &quot;X&quot;,mystring)# print $(POS + 4)</span><span class="c11">&nbsp;</span><span class="c5">print &quot;this is the value: &quot; mystring</span><span class="c11">&nbsp;</span><span class="c5">system(&quot;ls -l &quot;mystring)</span><span class="c11">&nbsp;</span><span class="c5">system(&quot;cksum &quot;mystring)</span><span class="c11">&nbsp;</span><span class="c5">}</span><span class="c11">&nbsp;</span><span class="c5">}</span><span class="c11">&nbsp;</span><span class="c5">}</span><span class="c11">&nbsp;</span><span class="c5">}&#39; $i</span><span class="c11">&nbsp;</span><span class="c5">done </span></p><p class="c8"><span class="c52 c50 c21">awk ofs example: </span></p><p class="c8"><span class="c23 c21">for i in $(pvdisplay|awk &#39;/PV Name/ {print $3}&#39;)</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">do</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">pvs $i|grep -v PV|awk &#39;BEGIN{OFS=&quot;\t&quot;;} {printf(&quot;%-19.18s%-13.12s%-9.8s\n&quot;, $1, $2,$5)}&#39;</span><span class="c20 c21">&nbsp;</span><span class="c23 c21">done </span></p><p class="c8"><span class="c52 c50 c21">Multiple field separators:( comma or space) </span></p><p class="c8"><span class="c6 c23 c21">lsattr -El sys0 -a systemid | awk -F&quot; |,&quot; &#39;{print $3}&#39; </span></p><p class="c8 c29"><span class="c6 c23 c21"></span></p><p class="c8"><span class="c6 c52 c50 c21">Pull the second line from a file:</span></p><p class="c8"><span class="c6 c23 c21">awk &lsquo;FNR==2{print $1}&rsquo;</span></p><p class="c8"><span class="c5">END OF AWK </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.73px; height: 1.47px;"><img alt="" src="images/image24.png" style="width: 210.73px; height: 1.47px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">&nbsp;</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c8"><span class="c6 c5">SSH Learning(OpenSSH)</span></p><p class="c8 c29"><span class="c6 c5"></span></p><p class="c8"><span class="c6 c5">Story:</span></p><p class="c8"><span class="c5">Got a ticket saying that a user could no longer ssh into a box with key authentication. I asked for username and the 2 boxes involved. Got onto the source box as user and ssh &ndash;vvv &lt;destination&gt; and READ. I was able to read that the ssh session was trying key authentication with a DSA key but on the source box there was only RSA keys(with a recent creation date). I looked at user&rsquo;s history and noticed he ran sshkey-gen on the same day as the new RSA key. Bingo! Self induced user issue. I put his new DSA public key into the authorized_keys file on the &lt;destination&gt; server.</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c44 c38">Your personal ssh configuration file: ~/.ssh/config</span></p><p class="c3 c7"><span class="c44 c38">e.g.</span></p><p class="c3 c7"><span class="c34">Johns-MBP:.ssh johntucker$ cat config</span></p><p class="c3 c7"><span class="c34">Host jump</span></p><p class="c3 c7"><span class="c34">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HostName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10.210.12.244</span></p><p class="c3 c7"><span class="c34">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m556069</span></p><p class="c3 c7"><span class="c34">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ProxyCommand&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nc -X 5 -x 167.210.219.110:1080 %h %p</span></p><p class="c3 c7"><span class="c34">At the CLI I can type: ssh jump and ssh will jump resolve via ~/.ssh/config file</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c44 c38">System wide and personal shell scripts:</span></p><p class="c3 c7"><span class="c34">/etc/sshrc used for system wide script for ssh-based logins</span></p><p class="c3 c7"><span class="c34">~/.ssh/rc used for individual ssh-based login scripts</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c44 c38">Suspend your ssh connection and return to origin:</span></p><p class="c3 c7"><span class="c34">You ssh from BOXA to BOXB and say it took forever then you figure out that you need to return to BOXA to do something. Instead of logging out you can suspend your ssh connection with CTRL-z This will background your job(the ssh connection) and put you back onto BOXA. Once you are done you can foreground your job(fg %1) and be back on BOXB</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c44 c38">X11 forwarding:</span></p><p class="c3 c7"><span class="c6 c34">Must be enabled on both client and server. &nbsp;Lets say you want to run xclock from BOXA on BOXB. On BOXA run: ssh &ndash;X BOXB</span></p><p class="c3 c7"><span class="c6 c44 c38">Enable X11 forwarding:</span></p><p class="c3 c7"><span class="c6 c34">vi /etc/ssh/sshd_config</span></p><p class="c3 c7"><span class="c6 c44 c38">uncomment and set to yes:</span></p><p class="c3 c7"><span class="c6 c34">X11Forwarding Yes</span></p><p class="c3 c7"><span class="c44 c38">Then run:</span></p><p class="c3 c7"><span class="c6 c34">stopsrc &ndash;s sshd; startsrc &ndash;s sshd</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c44 c38">ssh CLI options:</span></p><p class="c3 c7"><span class="c34">escape character:</span></p><p class="c3 c7"><span class="c6 c34">ssh -e &ldquo;%&rdquo; makes the % the escape character for this session</span></p><p class="c3 c7"><span class="c6 c34">ssh -T does NOT allocate a pseudo-terminal</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c44 c38">Show fingerprint of key file</span></p><p class="c3 c7"><span class="c34">ktazd216 $ ssh-keygen -l</span></p><p class="c3 c7"><span class="c34">Enter file in which the key is (/users/m556069/.ssh/id_rsa): &larr;defaults to rsa</span></p><p class="c3 c7"><span class="c34">&nbsp;/users/m556069/.ssh/id_dsa</span></p><p class="c3 c7"><span class="c34">1024 ed:56:14:70:1f:6b:18:03:ca:9f:ed:7f:23:1c:65:3b /users/m556069/.ssh/id_dsa.pub (DSA)</span></p><p class="c3 c7"><span class="c44 c38">looks like this key has a bit strength of 1024</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c44 c38">Change the passphrase of a private key(even if it never had one):</span></p><p class="c3 c7"><span class="c34">ktazd216 $ ssh-keygen -p</span></p><p class="c3 c7"><span class="c34">Enter file in which the key is (/users/m556069/.ssh/id_rsa): /users/m556069/.ssh/id_dsa</span></p><p class="c3 c7"><span class="c34">Key has comment &#39;/users/m556069/.ssh/id_dsa&#39;</span></p><p class="c3 c7"><span class="c34">Enter new passphrase (empty for no passphrase):</span></p><p class="c3 c7"><span class="c34">Enter same passphrase again: this is going to be hard </span></p><p class="c3 c7"><span class="c34">Your identification has been saved with the new passphrase.</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c34">Ssh-agent stores your passphrase in memory and uses it to authenticate to your private key. Run: </span><span class="c44 c38">ssh-agent $SHELL</span><span class="c34">&nbsp;then </span><span class="c44 c38">ssh-add. </span><span class="c34">To list which keys the ssh agent currently holds: </span><span class="c44 c38">ssh-add -l</span><span class="c34">. To delete a key from memory: </span><span class="c44 c38">ssh-agdd -d &lt;name_of_key_file&gt; </span><span class="c34">or delete all keys in memory: </span><span class="c6 c44 c38">ssh-add &ndash;D</span></p><p class="c3 c7 c29"><span class="c6 c38 c44"></span></p><p class="c3 c7"><span class="c6 c44 c38">You want to add to the known_host file without typing &lsquo;yes&rsquo; when you first connect to the box:</span></p><p class="c3 c7"><span class="c34">ssh-keyscan </span><span class="c6 c2">&lt;hostname&gt; &gt;&gt; ~/.ssh/known_hosts</span></p><p class="c3 c7"><span class="c52 c50 c38">this adds the hostname on subsequent connections the ip address will automatically be added</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c5">PowerHA Notes:</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Reverse name resolution:</span></p><p class="c3 c7"><span class="c2">host &lt;hostname&gt; or host &lt;ip_address&gt;</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Network Considerations:</span></p><p class="c3 c7"><span class="c2">PowerHA 7.1.3 uses the subnet mask of the Base IP address for all IP aliases configured on this network interface (fyi, AIX allows IP aliases with different subnet masks on the same adapter)</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Persistent IP address(PIPA)(node-bound IP address) must be an alias on an adapter. PIPA do NOT belong to a resource group and must be configured to PowerHA</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">The persistent alias can be in the same or different subnet as the service</span></p><p class="c3 c7"><span class="c2">The subnet masks must all be the same</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">All communication interfaces defined to a PowerHA network MUST have the same subnet mask. This makes sense outside of PowerHA otherwise those interfaces would NOT be able to communicate with each other(cuz they aint on the same subnet!). Comm interfaces that belong to a DIFFERENT PowerHA network may have the same of a different subnet mask defined</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Base IP addresses should be on non-routed networks and on different subnets from each other(for clusters with 2 or more NICs)</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Base adapter on seperate non-routed network to allow heartbeating</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Service IP addresses must be on a seperate subnet than the Base IP...This should be obvious since the Base IP subnets are non-routed! </span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">You may have more than one Service IP address on a adapter</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Use of a single NIC adapter allows you to put the Base IP and Service IP on the same subnet...This is fine and the use of a Base IP subnet doesnt make sense so really what I read is that the Base IP address is really the Persistent IP address. This makes sense since the DGW is tied to the initial IP address on the NIC.</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">In a multiple interface per network configuration, using a persistent alias and including it in the same subnet as your default route is common. This typically means that the persistent address is included in the same subnet as the service addresses. The persistent alias can be used to access the node when PowerHA 7.1.3 is down and also overcome the default route issue.</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7 c29"><span class="c0"></span></p><a id="t.a80fb052897583f86fe8f037b2a294f79ebe9136"></a><a id="t.6"></a><table class="c91"><tr class="c41"><td class="c26" colspan="1" rowspan="1"><p class="c3"><span class="c2">IP Label</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c3"><span class="c2">DisribPref</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c2">NetIntface</span></p></td><td class="c67" colspan="1" rowspan="1"><p class="c3"><span class="c2">NtwkName</span></p></td><td class="c58" colspan="1" rowspan="1"><p class="c3"><span class="c2">Function</span></p></td><td class="c25" colspan="1" rowspan="1"><p class="c3"><span class="c2">IP/SubMask</span></p></td></tr><tr class="c41"><td class="c26" colspan="1" rowspan="1"><p class="c3"><span class="c2">Node01a</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c3"><span class="c2">N/A</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c2">en0</span></p></td><td class="c67" colspan="1" rowspan="1"><p class="c3"><span class="c2">ether10</span></p></td><td class="c58" colspan="1" rowspan="1"><p class="c3"><span class="c2">base</span></p></td><td class="c25" colspan="1" rowspan="1"><p class="c3"><span class="c2">10.10.31.31 </span><span class="c52 c50 c38">255.255.255.0</span></p></td></tr><tr class="c41"><td class="c26" colspan="1" rowspan="1"><p class="c3"><span class="c2">hanode1</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c3"><span class="c2">Anticollocation</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c2">N/A</span></p></td><td class="c67" colspan="1" rowspan="1"><p class="c3"><span class="c2">ether10</span></p></td><td class="c58" colspan="1" rowspan="1"><p class="c3"><span class="c2">persistent</span></p></td><td class="c25" colspan="1" rowspan="1"><p class="c3"><span class="c2">192.168.100.31 </span><span class="c52 c50 c38">255.255.255.0</span></p></td></tr><tr class="c41"><td class="c26" colspan="1" rowspan="1"><p class="c3"><span class="c2">app1svc</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c3"><span class="c2">Anticollocation</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c2">N/A</span></p></td><td class="c67" colspan="1" rowspan="1"><p class="c3"><span class="c2">ether10</span></p></td><td class="c58" colspan="1" rowspan="1"><p class="c3"><span class="c2">service</span></p></td><td class="c25" colspan="1" rowspan="1"><p class="c3"><span class="c2">192.168.100.131 </span><span class="c52 c50 c38">255.255.255.0</span></p></td></tr></table><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">PowerHA in switched network with VLANs. Switches should have these protocols turned off: spanning tree, portfast, uplinkfast and backbonefast. If spanning tree is required then portfast should also be enabled.</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Hard set ethernet adapters</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">During a Service IP swap, PowerHA disables DNS and NIS and sets the NSORDER to local. Once complete order is restored. Ensure /etc/netsvc.conf is set to:</span></p><p class="c3 c7"><span class="c2">hosts = local,bind4</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Part of the cluster planning is to have the app run on all nodes without PowerHA involved</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c5">Configuring the cluster</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Ensure BEFORE beginning to configure the cluster that:</span></p><p class="c3 c7"><span class="c2">/etc/cluster/rhosts is fully populated and clcomd has been refreshed</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c2">Define cluster, nodes and networks</span></p><p class="c3 c7"><span class="c2">Configure repository disk(min 512MB) and heartbeating</span></p><p class="c3 c7"><span class="c2">Verify and Sync Cluster</span></p><p class="c3 c7"><span class="c2">Verify CAA and cluster topology(lspv|grep caa and cltopinfo)</span></p><p class="c3 c7"><span class="c2">Ensure all shared disks have same PVIDs across all nodes</span></p><p class="c3 c7"><span class="c2">Create shared VG via smitty cspoc</span></p><p class="c3 c7"><span class="c2">Create shared LV via smitty cspoc</span></p><p class="c3 c7"><span class="c2">Create jfs2log LV via smitty cspoc</span></p><p class="c3 c7"><span class="c2">Create FS via smitty cspoc</span></p><p class="c3 c7"><span class="c2">Create application controller</span></p><p class="c3 c7"><span class="c2">Create Service IP labels</span></p><p class="c3 c7"><span class="c2">Create RG&rsquo;s</span></p><p class="c3 c7"><span class="c2">Add resources into RG&rsquo;s</span></p><p class="c3 c7"><span class="c6 c2">Verify and Sync Cluster</span></p><p class="c3 c7 c29"><span class="c6 c2"></span></p><p class="c3 c7"><span class="c6 c2">Issues getting cluster status. cldump: Waiting for the Cluster SMUX peer (clstrmgrES) fails and I could never get status. This is a years old issue. Edit /etc/snmpdv3.conf and </span></p><p class="c69 c7"><span class="c80 c18">1) edit /etc/snmpv3.conf (all nodes) and remove the comment hash from this line:</span></p><p class="c7 c69"><span class="c80 c18">&nbsp;</span></p><p class="c69 c7"><span class="c80 c18">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #COMMUNITY public &nbsp; &nbsp;public &nbsp; &nbsp; noAuthNoPriv 0.0.0.0 &nbsp; &nbsp;0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; -</span></p><p class="c69 c7"><span class="c18 c80">&nbsp;</span></p><p class="c69 c7"><span class="c80 c18">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) add this line (this is the top-level cluster view of the SNMP MIB):</span></p><p class="c69 c7"><span class="c80 c18">&nbsp;</span></p><p class="c69 c7"><span class="c80 c18">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VACM_VIEW &nbsp; &nbsp; &nbsp; &nbsp;defaultView &nbsp; &nbsp; 1.3.6.1.4.1.2.3.1.2.1.5 - included -</span></p><p class="c3 c7"><span class="c6 c2">Then restart services(can be done without stopping cluster services)</span></p><p class="c3 c7"><span class="c6 c2">stopsrc -s clinfoES;stopsrc -s snmpd;stopsrc -s aixmibd;stopsrc -s hostmibd;stopsrc -s snmpmibd</span></p><p class="c3 c7"><span class="c6 c2">sleep 10</span></p><p class="c3 c7"><span class="c6 c2">startsrc -s snmpd;startsrc -s aixmibd;startsrc -s hostmibd;startsrc -s snmpmibd;</span></p><p class="c3 c7"><span class="c6 c2">sleep 60</span></p><p class="c3 c7"><span class="c6 c2">startsrc -s clinfoES</span></p><h1 class="c87 c7"><span class="c2 c18 c73">clRGinfo returns ZERO info</span></h1><p class="c49 c7"><span class="c0">&lt;root@phxpcxn015b&gt;/&gt;ls -l /usr/es/sbin/cluster/utilities/clRGinfo</span></p><p class="c49 c7"><span class="c0">-r-xr-sr-x &nbsp; &nbsp;1 root &nbsp; &nbsp; hacmp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 Feb 23 15:20 /usr/es/sbin/cluster/utilities/clRGinfo</span></p><p class="c49 c7 c29"><span class="c0"></span></p><p class="c49 c7"><span class="c0">Hmmmmm ZERO size file!!! That could be an issue</span></p><p class="c3 c7"><span class="c6 c52 c50 c38">Gather Cluster Layout:</span></p><p class="c3 c7"><span class="c6 c2">/usr/es/sbin/cluster/utilities/cllscf | tee /tmp/cluster_config</span></p><p class="c3 c7"><span class="c6 c2">&nbsp;/usr/es/sbin/cluster/utilities/cllsserv | tee -a /tmp/cluster_config</span></p><p class="c3 c7"><span class="c6 c2">&nbsp;/usr/es/sbin/cluster/utilities/clRGinfo -v | tee -a /tmp/cluster_config</span></p><p class="c3 c7"><span class="c6 c2">&nbsp;/usr/es/sbin/cluster/utilities/cllsres | tee -a /tmp/cluster_config</span></p><p class="c3 c7"><span class="c6 c2">&nbsp;/usr/es/sbin/cluster/utilities/cldisp | tee -a /tmp/cluster_config</span></p><p class="c3 c7"><span class="c6 c2">&nbsp;odmget HACMPfcfile | tee -a /tmp/cluster_config</span></p><p class="c3 c7 c29"><span class="c6 c2"></span></p><p class="c3 c7"><span class="c6 c52 c50 c38">The following section is my notes post-IBM working mainly as an AIX admin:</span></p><p class="c3 c7 c29"><span class="c6 c52 c50 c38"></span></p><p class="c3 c7"><span class="c6 c52 c50 c38">IOCP not running:</span></p><p class="c3 c7"><span class="c6 c52 c50 c38">See if iocp fileset is installed:</span></p><p class="c3 c7"><span class="c6 c2">lslpp &ndash;l bos.iocp.rte</span></p><p class="c3 c7"><span class="c6 c52 c50 c38">If it is, see if it is available:</span></p><p class="c3 c7"><span class="c6 c2">lsdev &ndash;Cc iocp</span></p><p class="c3 c7"><span class="c6 c52 c50 c38">If it is not:</span></p><p class="c3 c7"><span class="c2">Smitty iocp </span><span class="c6 c52 c50 c38">and make it available</span></p><p class="c3 c7"><span class="c52 c50 c38">Then either reboot or run</span><span class="c2">&nbsp;cfgmgr </span><span class="c52 c50 c38">and check availability again: </span><span class="c6 c2">lsdev &ndash;Cc iocp</span></p><p class="c3 c7 c29"><span class="c6 c2"></span></p><p class="c3 c7 c29"><span class="c6 c2"></span></p><p class="c3 c7 c29"><span class="c6 c2"></span></p><p class="c3 c7"><span class="c6 c2">Multibos issues</span></p><p class="c3 c7"><span class="c6 c2">Server is booted off bos_hd5(bootinfo &ndash;v)</span></p><p class="c3 c7"><span class="c6 c65">* If the active instance is booted on the blv bos_hd5 run the</span></p><p class="c3 c7 c29"><span class="c6 c65"></span></p><p class="c3 c7"><span class="c6 c65">* following commands:</span></p><p class="c3 c7 c29"><span class="c6 c65"></span></p><p class="c3 c7"><span class="c6 c65">* # chfs -a dev=/dev/hd4 /bos_inst</span></p><p class="c3 c7 c29"><span class="c6 c65"></span></p><p class="c3 c7"><span class="c6 c65">* # chfs -a dev=/dev/hd2 /bos_inst/usr</span></p><p class="c3 c7 c29"><span class="c6 c65"></span></p><p class="c3 c7"><span class="c6 c65">* # chfs -a dev=/dev/hd9var /bos_inst/var</span></p><p class="c3 c7 c29"><span class="c6 c65"></span></p><p class="c3 c7"><span class="c6 c65">* # chfs -a dev=/dev/hd10opt /bos_inst/opt</span></p><p class="c3 c7 c29"><span class="c6 c65"></span></p><p class="c3 c7"><span class="c6 c13">multibos command again in debug mode?</span><span class="c6 c105 c110"><br><br>script /tmp/multibos.out<br>multibos -XsD<br>exit<br></span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c0">Sftp connection closes after authenticating:</span></p><p class="c3 c7"><span class="c0">Check perms on /etc/ssh/sshd_config. It should be 644</span></p><p class="c3 c7"><span class="c6 c71 c50 c76">vi &ldquo;out of memory&rdquo;:</span></p><p class="c3 c7"><span class="c0">try: export EXINIT=&quot;set ll=20000000 dir=/tmp&rdquo;</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c0">HMC CLI:</span></p><p class="c3 c7"><span class="c0">What is the hostname of the HMC?:</span></p><p class="c3 c7"><span class="c0">lshmc &ndash;n &ndash;F name</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c27 c7"><span class="c6 c50 c46 c76">This will save the most recent 500 lines of wtmp</span></p><p class="c27 c7"><span class="c0">&nbsp;</span></p><p class="c27 c7"><span class="c0">/usr/sbin/acct/fwtmp &lt; /var/adm/wtmp &gt; /tmp/wtmp.out</span></p><p class="c27 c7"><span class="c0">tail -500 /tmp/wtmp.out &gt; /tmp/wtmp.small</span></p><p class="c27 c7"><span class="c0">/usr/sbin/acct/fwtmp -ci &lt; /tmp/wtmp.small &gt; /var/adm/wtmp</span></p><p class="c27 c7"><span class="c0">rm /tmp/wtmp.out</span></p><p class="c27 c7"><span class="c0">rm /tmp/wtmp.small</span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c0">kdb commands:</span></p><p class="c27 c7"><span class="c0">echo volgrp | kdb</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c0">alt_disk_install:</span></p><p class="c3 c7"><span class="c0">alt_disk_copy -d hdisk6 -b update_all -n -l /mnt/2017q3/aix71tl04sp04</span></p><p class="c3 c7"><span class="c0">log file location:</span></p><p class="c3 c7"><span class="c0">/var/adm/ras/alt_disk_inst.log</span></p><p class="c3 c7"><span class="c0">Search for: Result = SUCCESS</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c3 c7"><span class="c0">&lt;root@chwpcxnmftgi04&gt;/home/roothome&gt;/usr/bin/oslevel -s</span></p><p class="c3 c7"><span class="c0">oslevel: Unable to acquire lock.</span></p><p class="c3 c7"><span class="c0">Rebooted lpar and it cleared the ODM lock(I tried chvg &ndash;u rootvg but it didn&rsquo;t help)</span></p><p class="c3 c7 c29"><span class="c0"></span></p><p class="c27 c7"><span class="c6 c71 c50 c76">&lt;root@lvsscxnmftgi04&gt;/var/adm/ras&gt;startsrc -s sshd</span></p><p class="c27 c7"><span class="c6 c71 c50 c76">Missing privilege separation directory: /var/empty</span></p><p class="c27 c7"><span>mkdir /var/empty</span></p><p class="c7 c27"><span class="c0">chmod 555 /var/empty</span></p><p class="c27 c7"><span class="c0">startsrc &ndash;s sshd</span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c0">Does your system have emergency fixes:</span></p><p class="c27 c7"><span class="c0">emgr -l</span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c0">Remove an ifix:</span></p><p class="c27 c7"><span class="c0">emgr -rL </span></p><p class="c19 c7"><span class="c0"></span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c0">NIS Commands:</span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c0">User should be able to change their password with: yppasswd</span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c0">NIS Master will be running these processes:</span></p><p class="c27 c7"><span class="c0">chwemadm01(/etc/security): ps -ef|grep yp</span></p><p class="c27 c7"><span class="c0">&nbsp; &nbsp; root &nbsp;24128 &nbsp;22494 &nbsp; 0 &nbsp; Nov 30 &nbsp; &nbsp; &nbsp;- &nbsp;0:00 /usr/lib/netsvc/yp/rpc.yppasswdd /etc/passwd -m</span></p><p class="c27 c7"><span class="c0">&nbsp; &nbsp; root &nbsp;29154 &nbsp;22494 &nbsp; 0 &nbsp; Nov 30 &nbsp; &nbsp; &nbsp;- 5065:38 /usr/lib/netsvc/yp/ypserv</span></p><p class="c27 c7"><span class="c0">&nbsp; &nbsp; root &nbsp;30190 &nbsp;22494 &nbsp; 0 &nbsp; Nov 30 &nbsp; &nbsp; &nbsp;- &nbsp;0:00 /usr/lib/netsvc/yp/rpc.ypupdated</span></p><p class="c27 c7"><span class="c0">&nbsp; &nbsp; root &nbsp;43252 &nbsp;22494 &nbsp; 0 &nbsp; Oct 23 &nbsp; &nbsp; &nbsp;- &nbsp;0:31 /usr/lib/netsvc/yp/ypbind &ndash;ypsetme</span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c0">A client will be running these process:</span></p><p class="c27 c7"><span class="c0">jtucke07 78298 71388 &nbsp; 1 13:46:04 &nbsp;pts/1 &nbsp;0:00 grep yp</span></p><p class="c27 c7"><span class="c0">&nbsp; &nbsp; root 80534 77414 &nbsp; 0 &nbsp; Mar 07 &nbsp; &nbsp; &nbsp;- 262:56 /usr/lib/netsvc/yp/ypserv</span></p><p class="c27 c7"><span class="c0">&nbsp; &nbsp; root 82326 77414 &nbsp; 0 &nbsp; Mar 07 &nbsp; &nbsp; &nbsp;- &nbsp;1:16 /usr/lib/netsvc/yp/ypbind -ypsetme</span></p><p class="c27 c7"><span class="c0">$ uname -n</span></p><p class="c27 c7"><span class="c0">chwemactdb01</span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c0">Push out master passwd list to clients:</span></p><p class="c27 c7"><span class="c0">smitty mkmaps</span></p><p class="c7 c19"><span class="c0"></span></p><p class="c7 c54"><span class="c6 c107">In the /etc/passwd file look for the NIS escape sequence &quot;+::0:0:::&quot;. Every user before/above this sequence will be taken from the local system. If that user is not found before the sequence, it will be looked for in NIS.</span></p><p class="c19 c7"><span class="c0"></span></p><p class="c19 c7"><span class="c0"></span></p><p class="c27 c7"><span class="c6 c50 c46 c76">syslog.conf</span></p></body></html>